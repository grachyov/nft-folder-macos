{
  "contractAddress" : "0x7c3ea2b7b3befa1115ab51c09f0c9f245c500b18",
  "kind" : "p5js",
  "projectId" : "28",
  "script" : "function stretchPalette(f,e,a){let n=[],t=e.length-1,o=e.map((e=>{let a=f.color(e);return rgbToHsb(f,f.red(a),f.green(a),f.blue(a))}));for(let e=0;e<a;e++){let i=e\/(a-1)*t,r=f.floor(i),l=(r+1)%o.length,d=i-r,c=o[r],s=o[l],m=hsbToRgb((c[0]+d*(s[0]-c[0]))%360,f.lerp(c[1],s[1],d),f.lerp(c[2],s[2],d)),g=\"#\"+f.hex(m[0],2)+f.hex(m[1],2)+f.hex(m[2],2);n.push(g)}return n}function drawInfos(f){console.log(\"Draw infos...\",f.config),drawSeed(f),drawPaletteSquares(f)}function drawSeed(f){const e=10*f.config.scale,a=14*f.config.scale;f.textSize(a);const n=f.textWidth(\"# \"+f.config.seed),t=a,o=f.config.height-e-t-e,i=n+2*e,r=t+2*e;f.fill(255),f.noStroke(),f.rect(0,o,i,r),f.fill(55),f.noStroke(),f.text(\"# \"+f.config.seed,e,f.config.height-e)}function drawPaletteSquares(f){const e=5*f.config.scale,a=25*f.config.scale,n=0*f.config.scale;let t=f.config.palette.length*(a+n)+2*e,o=a+2*e,i=f.config.width-t-0,r=f.config.height-o-0;f.fill(255),f.noStroke(),f.rect(i,r,t,o);let l=f.config.width-t+e,d=f.config.height-o+e;f.config.palette.forEach(((e,t)=>{f.fill(e),f.noStroke(),f.rect(l,d,a,a),l+=a+n}))}function rgbToHsb(f,e,a,n){let t,o,i,r=[],l=f.max(e,a,n),d=f.min(e,a,n),c=l-d;return t=l===d?0:l===e?(a-n)\/c%6*60:l===a?60*((n-e)\/c+2):60*((e-a)\/c+4),o=0===l?0:c\/l*255,i=l,r[0]=t,r[1]=o,r[2]=i,r}function hsbToRgb(f,e,a){let n,t,o,i=[],r=a\/255*(e\/255),l=r*(1-Math.abs(f\/60%2-1)),d=a\/255-r;f>=0&&f<60?(n=r,t=l,o=0):f>=60&&f<120?(n=l,t=r,o=0):f>=120&&f<180?(n=0,t=r,o=l):f>=180&&f<240?(n=0,t=l,o=r):f>=240&&f<300?(n=l,t=0,o=r):(n=r,t=0,o=l);let c=Math.round(255*(n+d)),s=Math.round(255*(t+d)),m=Math.round(255*(o+d));return i[0]=c,i[1]=s,i[2]=m,i}function opacifyLayer(f){f.loadPixels();for(let e=0;e<f.pixels.length;e+=4)f.pixels[e+3]=255;f.updatePixels()}function hexToBinary(f){try{let e=\"\";for(let a=0;a<f.length;a++){const n=f[a];e+=parseInt(n,16).toString(2).padStart(4,\"0\")}return e}catch(f){return console.error(\"Erreur : La chaîne hexadécimale fournie est invalide.\"),null}}function drawBorder(f,e,a,n){e.noFill(),e.stroke(255),e.strokeWeight(f.config.externalStrokeSize),e.rect(0,0,a-1,n-1)}function drawSanskritLayer(f){const e=hexToBinary(f.config.letterData);console.log(\"Binary sanskrit letter : \",e);const a=f.createGraphics(f.config.width,f.config.height,{willReadFrequently:!0});f.config.hasStrokeOnBorders&&drawBorder(f,a,f.config.width,f.config.height),a.loadPixels();const n=f.color(f.config.letterFill);let t=f.config.width,o=0,i=f.config.height,r=0;for(let a=0;a<f.config.letterResolution;a++)for(let n=0;n<f.config.letterResolution;n++){\"1\"===e[n*f.config.letterResolution+a]||(t=Math.min(t,a*f.config.blockSize),o=Math.max(o,(a+1)*f.config.blockSize),i=Math.min(i,n*f.config.blockSize),r=Math.max(r,(n+1)*f.config.blockSize))}const l=(t+o)\/2,d=(i+r)\/2,c=f.config.width\/2,s=f.config.height\/2;console.log(\"minX : \",t),console.log(\"maxX : \",o),console.log(\"minY : \",i),console.log(\"maxY : \",r);let m=0,g=0;if(f.config.isLetterCentered)console.log(\"Letter is centered\"),m=c-l-f.config.letterOffsetX,g=s-d-f.config.letterOffsetY;else{console.log(\"Letter is not centered\");const e=f.random()>.5?f.random()>.5?0:1:f.random()>.5?2:3,a=f.config.externalStrokeSize;switch(e){case 0:console.log(\"Stick to left border\"),m=-(f.config.width\/2-a\/2)+(o-t)\/2,g=s-d-f.config.letterOffsetY;break;case 1:console.log(\"Stick to right border\"),m=+(f.config.width\/2-a\/2)-(o-t)\/2,g=s-d-f.config.letterOffsetY;break;case 2:console.log(\"Stick to top border\"),g=-(f.config.height\/2-a\/2)+(r-i)\/2,m=c-l-f.config.letterOffsetX;break;case 3:console.log(\"Stick to bot border\"),g=+(f.config.height\/2-a\/2)-(r-i)\/2,m=c-l-f.config.letterOffsetX}}for(let t=0;t<f.config.letterResolution;t++)for(let o=0;o<f.config.letterResolution;o++){if(!(\"1\"===e[o*f.config.letterResolution+t])){const e=t*f.config.blockSize+m,i=o*f.config.blockSize+g;for(let t=e;t<e+f.config.blockSize;t++)for(let e=i;e<i+f.config.blockSize;e++)t>=0&&t<f.config.width&&e>=0&&e<f.config.height&&a.set(t,e,n)}}return a.updatePixels(),a.filter(f.BLUR,f.config.letterBlur),f.config.currentStep++,a.get()}function drawOutlinesLayer(f){const e=f.createGraphics(f.config.width,f.config.height,{willReadFrequently:!0});e.image(f.sanskritImage,0,0,f.config.width,f.config.height),e.filter(f.BLUR,f.config.letterRoundBlur),e.filter(f.THRESHOLD,.5),e.loadPixels();for(let f=0;f<e.pixels.length;f+=4)e.pixels[f+3]>128?e.pixels[f+3]=255:e.pixels[f+3]=0;return e.updatePixels(),f.config.letterOutlines.forEach((a=>{drawOutline(f,e,a)})),f.config.isOutlineBlurred&&e.filter(f.BLUR,f.config.letterBlur),f.config.currentStep++,e}function drawOutline(f,e,a){let n=new Set;e.loadPixels();for(let t=0;t<e.height;t++)for(let o=0;o<e.width;o++){let i=4*(o+t*e.width);0===e.pixels[i+3]&&hasNonTransparentNeighbour(f,e,o,t,a.thickness,n)&&(e.pixels[i]=a.color[0],e.pixels[i+1]=a.color[1],e.pixels[i+2]=a.color[2],e.pixels[i+3]=a.opacity,n.add(i))}e.updatePixels()}function hasNonTransparentNeighbour(f,e,a,n,t,o){for(let i=-t;i<=t;i++)for(let r=-t;r<=t;r++)if(0!==r||0!==i){let t=a+r,l=n+i;if(t>=0&&t<f.config.width&&l>=0&&l<f.config.height){let a=4*(t+l*f.config.width);if(0!==e.pixels[a+3]&&!o.has(a))return!0}}return!1}function stretchValues(f,e){e.loadPixels();let a=255,n=0;for(let f=0;f<e.pixels.length;f+=4){let t=e.pixels[f];t<a&&(a=t),t>n&&(n=t)}console.log(\"minValue : \",a),console.log(\"maxValue : \",n);for(let t=0;t<e.pixels.length;t+=4)e.pixels[t]=f.map(e.pixels[t],a,n,0,255),e.pixels[t+1]=e.pixels[t],e.pixels[t+2]=e.pixels[t];e.updatePixels()}function drawChladniLayer(f){let e=f.config.chladniParams.a,a=f.config.chladniParams.b,n=f.config.chladniParams.n,t=f.config.chladniParams.m,o=f.createGraphics(f.config.width,f.config.height,{willReadFrequently:!0}),i=f.createGraphics(f.config.width,f.config.height,{willReadFrequently:!0}),r=n*n+t*t;o.loadPixels();for(let i=0;i<f.config.width;i++)for(let l=0;l<f.config.height;l++){let d=f.map(i,0,f.config.width,-1,1),c=f.map(l,0,f.config.height,-1,1),s=e*f.sin(f.PI*n*d)*f.sin(f.PI*t*c)+a*f.sin(f.PI*t*d)*f.sin(f.PI*n*c),m=f.map(f.abs(s),0,f.sqrt(r),0,f.config.maxLevel),g=4*(i+l*o.width);o.pixels[g]=m,o.pixels[g+1]=m,o.pixels[g+2]=m,o.pixels[g+3]=255}if(o.updatePixels(),o.image(f.outlinesImage,0,0,f.config.width,f.config.height),f.config.isChladniColorsReversed&&reverseLayerColors(f,o),f.config.debug)o.image(o,0,0);else for(let e=0;e<f.config.width;e++)for(let a=0;a<f.config.height;a++){drawSandGrainColor2(f,i,e,a,o.get(e,a)[0])}return opacifyLayer(i),console.log(\"Sanskrit layer done\"),i}function reverseLayerColors(f,e){e.loadPixels();for(let f=0;f<e.pixels.length;f+=4)e.pixels[f]=255-e.pixels[f],e.pixels[f+1]=255-e.pixels[f+1],e.pixels[f+2]=255-e.pixels[f+2];e.updatePixels()}function drawSandGrainColor2(f,e,a,n,t){f.colorMode(f.HSB);for(let o=0;o<f.config.numberOfLayers;o++)if(t>=f.config.layerStep*o&&t<=f.config.layerStep*(o+1)){let i,r,l=f.config.palette[o],d=f.hue(l),c=f.saturation(l),s=f.brightness(l);f.config.hasGradientInsideLayers?(r=f.map(t,0,255,1.2,.8),i=f.map(t,0,255,1,1.5)):(r=1,i=1);const m=.2;r+=f.random(-m,m),i+=f.random(-m,m);let g=f.color(d,c*i,s*r);e.stroke(g),e.point(a,n)}f.colorMode(f.RGB)}const hexData=[{name:\"Shraay-ghu\",data:\"ffffffc6bfeff0feefeefeeffeffefffffff\"},{name:\"Vree-ka-ndu\",data:\"fffe07f7ff4ff6ff7ff0ff7ff7ff7fffffff\"},{name:\"Dhree-van\",data:\"fffffff1ff8ff1ff4ff2ff1ff7ffffffffff\"},{name:\"Graa-lim\",data:\"ffffffe0ff7ff3ff57f57f57f4ffffffffff\"},{name:\"Nee-yar\",data:\"fffffff5ff0ff5ff8ff1ffdffdffdfffffff\"},{name:\"Chu-veen\",data:\"fffffffcffeffaff7ff4ffa7faff9fffffff\"},{name:\"Chraa-veen\",data:\"fffffff7ff5ff4ff2ff6ff7ff7ffffffffff\"},{name:\"Bhraa-nim\",data:\"ffffffe07dbff83c27fbffd7f87fffffffff\"},{name:\"Dhroo-vaa\",data:\"fffffffeff8ffdff9ff4ff8ff1fedfffffff\"},{name:\"Kraa-vish\",data:\"ffffffc03ffffd7e87f77f97f6ff8fffffff\"},{name:\"Dhyaa-luk\",data:\"fffffff9fffff87f8ff3ff87f7ff9fffffff\"},{name:\"Thraa-zim\",data:\"ffffffffff9ff9ff1ff2ff9ff9ffbfffffff\"},{name:\"Praa-khin\",data:\"fffffff7ff0ff5ff5ff4ff67f3fe9fffffff\"},{name:\"Vlaa-nuur\",data:\"ffffffc03eefeefeefe8fedfebffffffffff\"},{name:\"Shaa-zeer\",data:\"ffffffe07f8ff07e3ffcffe7fbff9fffffff\"},{name:\"Glaa-rip\",data:\"ffffffffffc7cd7ec7ffbfcbffbfffffffff\"},{name:\"Bhaa-viz\",data:\"fffffff07f57e57f47e57e97ed7f57ffffff\"},{name:\"Chraa-lum\",data:\"ffffffe07ffff8ff7ff7ff6ff1ffefffffff\"},{name:\"Draa-vin\",data:\"ffffffc07eefedff2ffaff6ffeffdfffffff\"},{name:\"Elaa-rum\",data:\"fffffff6ff0ff9ff4ff2ff97fdffffffffff\"},{name:\"Fyaa-lin\",data:\"fffffffeff8fecfe8ffaff0ffcffffffffff\"},{name:\"Ghaa-vun\",data:\"fffffff7ff1ff0ff4ff4ff0ff5ffffffffff\"},{name:\"Hraa-zim\",data:\"ffffffe07f4ff4ff6ff2ff1ff7ff7fffffff\"},{name:\"Ilaa-van\",data:\"fffffff7ff0ff2ff2fe2ff0ffaffffffffff\"},{name:\"Jraa-zum\",data:\"ffffffe8ff2ffeff2ffeffeffeffefffffff\"},{name:\"Klaa-rin\",data:\"fffffff7ff07f4ff67f67f0fffffffffffff\"},{name:\"Laa-vish\",data:\"ffffffc03df7d07d77d07f77f77f8fffffff\"},{name:\"Mraa-vun\",data:\"fffffffcffdff47f67f8ff6ff6ff5fffffff\"},{name:\"Nlaa-zeem\",data:\"fffffff8fffff87ebfecff6ff6ff9fffffff\"},{name:\"Olaa-rim\",data:\"fffffff0ffbfe2ff6ff0ff2ffcffcfffffff\"},{name:\"Plaa-vun\",data:\"ffffffc03df7fc3f7ff47f1bfdbfc7ffffff\"},{name:\"Quaa-vin\",data:\"ffffffe07f6fe2ffcff6feafe2feffffffff\"},{name:\"Rlaa-zem\",data:\"fffffff3ff0ff9ff4ff4ffdffdffdfffffff\"},{name:\"Slaa-vun\",data:\"fffffff7ff0ff9ff0ff2ff1ff3ffbfffffff\"},{name:\"Tlaa-rin\",data:\"ffffffe03fa7fb7f57f17f57f57f3fffffff\"},{name:\"Uvaa-lum\",data:\"ffffffc03ff7f43fe7f5ff27fdbfc7ffffff\"},{name:\"Vlaa-zim\",data:\"ffffffcbfebfe07ebfebfca7e7feffffffff\"},{name:\"Wraa-vun\",data:\"fffffffeff0ff9ff2ff4ff2ff8ffefffffff\"},{name:\"Xlaa-rim\",data:\"fffffffaff0ffaff4ff7ff7ff7ffffffffff\"},{name:\"Ylaa-van\",data:\"ffffffffff8ff8ff2fe6ff4ff8ffffffffff\"},{name:\"Zlaa-vum\",data:\"fffffffc7f8feaff2ff0ff6ff8ffefffffff\"},{name:\"Aabaa-rin\",data:\"fffffff7ff7ff4ff6ff2ff5ff7ff7fffffff\"},{name:\"Braa-van\",data:\"fffffff7febfebfe8ff5ffb7f8ffffffffff\"},{name:\"Caa-lum\",data:\"fffffff7ff0ffaffaff0fe2ff2ffffffffff\"},{name:\"Draa-zin\",data:\"fffffff3ff1ff1ff4ff4ff7ff7ff7fffffff\"},{name:\"Elaa-vish\",data:\"ffffffe6ffcff0ff6ffeff6ffcffefffffff\"},{name:\"Fraa-vun\",data:\"ffffcffbffafe2ffaff0ff6ffeffefffffff\"},{name:\"Hraa-lim\",data:\"fffffffeff0ff8ff2ff2ff0ffaffefffffff\"},{name:\"Ilaa-rin\",data:\"ffffffe0ffeff8ffaff2fe4ff4ffefffffff\"},{name:\"Jraa-zun\",data:\"ffffffe27f67f67f3ff5ff7ff7ff7fffffff\"},{name:\"Klaa-var\",data:\"ffffffffffbff5ff5ff1fe5ff9ffdfffffff\"},{name:\"Lraa-vum\",data:\"fffe0fffff7fe3ff7fe1fe5ffdffffffffff\"},{name:\"Mlaa-ran\",data:\"ffffffe07f7ff0ff67f77f3ff1ff7fffffff\"},{name:\"Nraa-kal\",data:\"fffffff87cc3d57ec3fd7fdffdffffffffff\"},{name:\"Olaa-vin\",data:\"fffffffdffdfc57edffc7fdffdffffffffff\"},{name:\"Praa-thin\",data:\"fffffff1fc07ca7e83f8ffaffbffbfffffff\"},{name:\"Qlaa-vor\",data:\"ffffffe07f6ff6ff1ff7ff6ff6ffffffffff\"},{name:\"Rraa-zim\",data:\"fffffff07feff8fe7fe9fedfefffffffffff\"},{name:\"Sraa-lin\",data:\"ffffffe2ff6ff4ff6ff6ff0ff7ff7fffffff\"},{name:\"Traa-zun\",data:\"ffffffff7c07ef7ef7ee7ec7eb7effffffff\"},{name:\"Vlaa-ran\",data:\"fffffffcff8ff9ff8ff0ff5ffdffbfffffff\"},{name:\"Graa-vish\",data:\"ffffffffffeffc7fb7f5fe4ffcffafffffff\"},{name:\"Draa-lum\",data:\"fffffff0ffaff6ff4ffaffeffeffefffffff\"},{name:\"Kraa-van\",data:\"fffc07f6ff0ff6fe67e8beabe2ffefffffff\"},{name:\"Nlaa-rim\",data:\"fffffff4ff4ff6ff6ff6ff2ff5ff7fffffff\"},{name:\"Praa-vish\",data:\"ffffffff3ff7ff7f77f47f37f5feffffffff\"},{name:\"Rlaa-van\",data:\"ffffffffff1ff8ff8ff0ff9ff7ffffffffff\"},{name:\"Slaa-rum\",data:\"fffffff4ff8ff9ff4ff47f1ff5ffdfffffff\"},{name:\"Tlaa-vish\",data:\"ffffffe0ff4ff5ff5ff4ff5ff7ff7fffffff\"},{name:\"Ulaa-rin\",data:\"fffffffefe0ff1ff2ff4ff5ff8ffffffffff\"},{name:\"Vraa-lum\",data:\"fffffffbff07f13edbe9bf37fc7f9fffffff\"},{name:\"Wlaa-rin\",data:\"fffffff7ff0ff0ffaffaff0ff2ffffffffff\"},{name:\"Xraa-vish\",data:\"fffffffeff2fedfeffecff67f6ff3fffffff\"},{name:\"Ylaa-zun\",data:\"ffffffc23feff6ffaff8ffeff6ff6fffffff\"},{name:\"Zraa-lum\",data:\"ffffffffff1ffbff2ff0ff2ffeffffffffff\"},{name:\"Araa-van\",data:\"fffffffffe07feff8ff6fe8ffaffffffffff\"},{name:\"Blaa-rim\",data:\"ffffffffff7ff0ff7ff4ffb7f1ffffffffff\"},{name:\"Craa-vun\",data:\"ffffffe07fffe1ff7ff0ff6ff6ff8fffffff\"},{name:\"Dlaa-zem\",data:\"ffffffffff1ff4ff5ff4ff0ff5ffffffffff\"},{name:\"Eraa-lin\",data:\"fffffff7ff0ff4ff4ff07f5ff7ff7fffffff\"},{name:\"Fraa-zum\",data:\"ffffffffff8ff9ff9ff3ff0ffbffffffffff\"},{name:\"Glaa-zun\",data:\"ffffffe07f07f7ffdff2ff6ff5ffffffffff\"},{name:\"Hraa-vish\",data:\"ffffffe4ff4ff6ff6ff6ff7ff7ff7fffffff\"},{name:\"Ilaa-zem\",data:\"fffffff0ffeff8ffaff1ff6ff6ffafffffff\"},{name:\"Jlaa-ran\",data:\"ffffffe0fe8fedff5ff4ffa7fbffdfffffff\"},{name:\"Kraa-lum\",data:\"fffffff4ff8ffdff4ff47f5ff5ffdfffffff\"},{name:\"Lraa-vish\",data:\"fffffff7ff0ff4ffcff8ff2ffeffffffffff\"},{name:\"Mlaa-vun\",data:\"fffffff7ff1ff5ff4ff47f67f3ff1fffffff\"},{name:\"Nraa-lim\",data:\"fffffff7ff0ff0ff4ff47f5ff5feffffffff\"},{name:\"Olaa-vish\",data:\"fffffff7ff1ff4ff4ff27f1ff5ff7fffffff\"},{name:\"Plaa-ran\",data:\"ffffffe07f6ff4ff3ff5ff5ff7ff7fffffff\"},{name:\"Qraa-lum\",data:\"fffffffffcc3d67c47fc3fc7feffefffffff\"},{name:\"Rraa-vish\",data:\"ffffffe07feff0ffeff8ff6ffcffefffffff\"},{name:\"Sraa-zem\",data:\"fffffffc7cc7ecff0ffa7fd3fcffffffffff\"},{name:\"Tlaa-zun\",data:\"ffffffe07f7ff4ff7ff4ff1ff7ffffffffff\"},{name:\"Uraa-vish\",data:\"fffffff7ff0ff8ff8ffeffbffbff7fffffff\"},{name:\"Vraa-lim\",data:\"ffffffe07f7ff0ff77f77f0ffefff7ffffff\"},{name:\"Wraa-van\",data:\"ffffffc03effecfeffedfeefe1feffffffff\"},{name:\"Xlaa-rin\",data:\"fffffff07faff87e5ff2ff97fbff9fffffff\"},{name:\"Yraa-zem\",data:\"fffffff3ff0ff1ff4ff67f3ff1ff7fffffff\"},{name:\"Nraa-rim\",data:\"fffffff5ff4ff4ff0ff4ff5ffdffdfffffff\"},{name:\"Praa-vun\",data:\"fffffffeff0ff9ff8ff2ff5ff3ffffffffff\"},{name:\"Rraa-van\",data:\"ffffffe0fffff0ffbff4ff77fbff9fffffff\"}];let palettes=[[\"#131313\",\"#B39069\",\"#B57F4A\",\"#513319\"],[\"#131313\",\"#B39069\",\"#AC6C5A\",\"#672424\"],[\"#131313\",\"#B39069\",\"#B66B4E\",\"#441F19\"]];function generateVariationsForPalette(f,e,a){return e.map((e=>{let n=f.color(e),t=rgbToHsl(f.red(n),f.green(n),f.blue(n)),o=hslToRgb((t[0]+f.random(-a,a))%360,t[1],f.constrain(t[2]+f.random(-a,a),0,100));return rgbToHex(o[0],o[1],o[2])}))}function rgbToHsl(f,e,a){f\/=255,e\/=255,a\/=255;let n,t,o=Math.max(f,e,a),i=Math.min(f,e,a),r=(o+i)\/2;if(o==i)n=t=0;else{var l=o-i;switch(t=r>.5?l\/(2-o-i):l\/(o+i),o){case f:n=(e-a)\/l+(e<a?6:0);break;case e:n=(a-f)\/l+2;break;case a:n=(f-e)\/l+4}n\/=6}return[360*n,100*t,100*r]}function hslToRgb(f,e,a){let n,t,o;if(0==e)n=t=o=a;else{function i(f,e,a){return a<0&&(a+=1),a>1&&(a-=1),a<1\/6?f+6*(e-f)*a:a<.5?e:a<2\/3?f+(e-f)*(2\/3-a)*6:f}let r=a<.5?a*(1+e):a+e-a*e,l=2*a-r;e\/=100,a\/=100,n=i(l,r,(f\/=360)+1\/3),t=i(l,r,f),o=i(l,r,f-1\/3)}return[Math.round(255*n),Math.round(255*t),Math.round(255*o)]}function rgbToHex(f,e,a){return\"#\"+((1<<24)+(f<<16)+(e<<8)+a).toString(16).slice(1)}function swapLastTwoElements(f){if(f.length>=2){const e=f.length-1,a=f.length-2;[f[e],f[a]]=[f[a],f[e]]}}const getRandomNumber=()=>Math.floor(1e4*Math.random()),genTokenData=f=>{let e={},a=\"0x\";for(var n=0;n<64;n++)a+=Math.floor(16*Math.random()).toString(16);return e.hash=a,e.tokenId=(1e6*f+Math.floor(1e3*Math.random())).toString(),e},getRandomTokenData=()=>(console.log(\"TokenData is not defined, generating fake one...\"),genTokenData(getRandomNumber())),getSeedFromToken=tokenData=>parseInt(tokenData.hash.slice(0,16),16);let TOTAL_IMAGES=100,SEED=123456789;function mulberry32(f){let e=f;return function(){e|=0,e=e+1831565813|0;let f=Math.imul(e^e>>>15,1|e);return f^=f+Math.imul(f^f>>>7,61|f),((f^f>>>14)>>>0)\/4294967296}}function fisherYatesShuffle(f,e){let a,n,t=e.length;const o=mulberry32(f);for(;0!==t;)n=Math.floor(o()*t),t-=1,a=e[t],e[t]=e[n],e[n]=a;return e}function generateIndices(f,e){return fisherYatesShuffle(f,Array.from({length:e},((f,e)=>e)))}function selectImage(f,e){return generateIndices(SEED,e)[f%e]}void 0===window.tokenData&&(window.tokenData=getRandomTokenData());const sketch=function(f){f.keyPressed=function(){if(13===f.keyCode){let e=`bright-moments-sanskrit--${f.config.seed}.png`;f.saveCanvas(e,\"png\")}},f.setup=function(){let e=getSeedFromToken(tokenData);console.log(\"Seed : \"+e),f.randomSeed(e),f.noiseSeed(e);let a=window.innerWidth,n=window.innerHeight;a=2*Math.floor(a\/2),n=2*Math.floor(n\/2);let t=Math.min(a,n),o=Math.min(t,800),i=o\/750,r=o\/800;f.realDimensions=t,f.finalScaleModifier=r,console.log(\"realDimensions\",f.realDimensions),console.log(\"finalScaleModifier\",f.finalScaleModifier),console.log(\"modifier\",i),f.dimensions=o,f.modifier=i,console.log(\"modifier\",f.modifier,\"dimensions\",f.dimensions),f.resizeCanvas(o,o);const l=f.dimensions,d=f.dimensions,c=f.random(-30,30)*f.modifier,s=f.random(-30,30)*f.modifier,m=6*f.modifier,g=6*f.modifier,h=100*f.modifier,u=f.random()>.8;let b=palettes[f.floor(f.random(0,palettes.length))];f.random()>.8&&swapLastTwoElements(b),generateVariationsForPalette(f,b,10),console.log(b),b=stretchPalette(f,b,4);const p=selectImage(tokenData.tokenId,100);console.log(\"chosenLetterIndex\",p),f.config={seed:e,isLoading:!0,currentStep:0,debug:!1,width:l,height:d,modifier:i,isWebGL:!1,showInfos:!1,pixelDensity:1,hasStrokeOnBorders:!0,letterResolution:12,letterOffsetX:c,letterOffsetY:s,externalStrokeSize:h,isChladniColorsReversed:!0,hasGradientInsideLayers:!0,isLetterCentered:u,backgroundColor:{r:255,g:255,b:255},letterRoundBlur:g,letterBlur:m,letterFill:255,hasToErodeEdges:!1,isOutlineBlurred:!0,blockSize:l>d?d\/12:l\/12,chladniParams:{a:f.random(-8,-10),b:f.random(-8,-10),n:f.random(-10,10),m:f.random(-10,10)},maxLevel:255,numberOfLayers:4,layerStep:63.75,hasSandGrain:!0,letterOutlines:[{thickness:f.floor(10*f.modifier),color:[0,0,0],opacity:220},{thickness:f.floor(8*f.modifier),color:[0,0,0],opacity:180},{thickness:f.floor(6*f.modifier),color:[0,0,0],opacity:120},{thickness:f.floor(4*f.modifier),color:[0,0,0],opacity:80},{thickness:f.floor(4*f.modifier),color:[0,0,0],opacity:60}],letterData:hexData[p].data,letterName:hexData[p].name,palette:b},console.log(\"chladniParams\",f.config.chladniParams),f.pixelDensity(1),f.createCanvas(f.config.width,f.config.height,f.config.isWebGL?f.WEBGL:f.P2D)},f.draw=function(){console.log(\"Draw start...\"),f.background(255),f.sanskritImage=drawSanskritLayer(f),f.outlinesImage=drawOutlinesLayer(f),f.chladniImage=drawChladniLayer(f),f.config.isLoading=!1,f.resizeCanvas(f.realDimensions,f.realDimensions),f.image(f.chladniImage,0,0,f.realDimensions,f.realDimensions),f.config.showInfos&&drawInfos(f),console.log(\"Draw end.\"),f.noLoop()}},sketchInstance=new p5(sketch,document.getElementById(\"sketch\"));",
  "tokens" : [
    {
      "hash" : "0xf4e07624212f99cbfa79000cdb61b122d8fa352342349020e8069fbdf32bde74",
      "id" : "28000012"
    },
    {
      "hash" : "0xdaa0cb176cbfb0d4993026cca9843899d18ba25f45146ef62ffe29baecc659e6",
      "id" : "28000030"
    },
    {
      "hash" : "0x71f248a69f43cb337ef26c7941dad6202ca3614422822d3d59a1aa550dca098b",
      "id" : "28000038"
    },
    {
      "hash" : "0xea7240afce2a47d8c05a8fa5f9116c7ae79ada878f8940df0dda6457460e6d5e",
      "id" : "28000065"
    },
    {
      "hash" : "0x61721e5eb81eaee75d0d94a161a097dd7e9835ccf3b182a68ed359486e92de9d",
      "id" : "28000073"
    },
    {
      "hash" : "0xb5bd705c5799dad6cf28256d8d78b4c9814057f542aafcb25659f6366c73bb93",
      "id" : "28000062"
    },
    {
      "hash" : "0x05937ab228fc45382ba3e511d86d398b555052f5cc13f01886a1aa29b005edf9",
      "id" : "28000068"
    },
    {
      "hash" : "0x4d91f9b17e46f6dd39bb78fc4c903000f9bd32021e21a49a17f1b8a437f8254d",
      "id" : "28000023"
    },
    {
      "hash" : "0x408202cbe7c4393edab465e814a7da59a8faec6652dd6815190cb0974ab51536",
      "id" : "28000099"
    },
    {
      "hash" : "0x877f4ebe984049ed5a2c02985047138b26ca58e6de6f56220cdb5b59403787c1",
      "id" : "28000097"
    },
    {
      "hash" : "0x63c9410a25236cdd01618d6a6363f76050d544c9eb03d7d866091fd5f83d1cad",
      "id" : "28000050"
    },
    {
      "hash" : "0x86a3fc5c15f1c9dd1d32814e647f0b91351ef81a800d749fbfc4b2c2dcdd3b18",
      "id" : "28000029"
    },
    {
      "hash" : "0x673f7562d439902c26760c252593592d738af7caeb2d3e772612efa6adb4ded7",
      "id" : "28000009"
    },
    {
      "hash" : "0x901a0d3e49ff3d079cc930e4178a01ba1dcaa094daf06b0b8fbaafe82a03eac1",
      "id" : "28000006"
    },
    {
      "hash" : "0x40d999e820a814ca07953519f539bfe911d81a967ec43ec6d92481015ab627e5",
      "id" : "28000037"
    },
    {
      "hash" : "0x91e16469b2a45d8ac3d87e2b234a13cd4cd868c152545b4d01a8ab983d6671d2",
      "id" : "28000089"
    },
    {
      "hash" : "0x6bbcf941d472d47a658d4d9807d14b0e0a6a83324e3da50e45eef38f06ea3e0d",
      "id" : "28000092"
    },
    {
      "hash" : "0xcaa7145c4b832a6e42e4bf7e69438aef41861a6567440abeeb2bcd3794fee302",
      "id" : "28000084"
    },
    {
      "hash" : "0x0c51e8bf100d68c1ee191dc40079182bf64dfe69cd32350dd4135dba7dff04b7",
      "id" : "28000090"
    },
    {
      "hash" : "0x82183548993e25c5532015088a0bd07508593cf40f580ad02959c5de4b346424",
      "id" : "28000095"
    },
    {
      "hash" : "0x5c6427e7141ca0f56b62d34f3e62085880a13c51b10a9232b688413c50695c48",
      "id" : "28000014"
    },
    {
      "hash" : "0x649cfff86d2cf7cafd87055613dca9b914773a90bf2d39efcf8ccf45563bd90f",
      "id" : "28000072"
    },
    {
      "hash" : "0x562ff2f4a879e8f8f57b13fcd7e7249f28f7e68f3ede119e6b2cebefe8ece230",
      "id" : "28000052"
    },
    {
      "hash" : "0xeb74cbc06121e48d4e1ee5ac3b8f4f0b2f59ae704272c1f3313c46aeb1129242",
      "id" : "28000017"
    },
    {
      "hash" : "0x220589d92497d79c0a5cf36ea6ee2f5ac14585d57709e57dd28ec85b431f59ad",
      "id" : "28000058"
    },
    {
      "hash" : "0xfdfe7c2a642f4ecf20de37f03fbfc518a0e0c12e37b320f6c09fdfb0de7c1b1a",
      "id" : "28000088"
    },
    {
      "hash" : "0xc8fb8a6a0185718af80cc2f170a27f6df18b2aaf2f281b3003e6bef198b3f16d",
      "id" : "28000077"
    },
    {
      "hash" : "0xa44177533c278a77d26c231c4320c2ccd6db19b70f70f98a48cbb86f98f4ab22",
      "id" : "28000020"
    },
    {
      "hash" : "0x0976881eb64a3ceb3a9fdbaf50053c253a614784de1575320cf4ce936e8efc1a",
      "id" : "28000067"
    },
    {
      "hash" : "0x9893229f84f360ebecc8cef80ca57b1654633210b540497316f095dd624cf5cd",
      "id" : "28000064"
    },
    {
      "hash" : "0x19e2d47c2796a2c194e05ed1b6692e64d207f74c6eb5734fa2d67753d190c39a",
      "id" : "28000075"
    },
    {
      "hash" : "0xbb50da6b4aee4967c7612b7d53b57a435d977a46b7bfa7048a7d2542a7f48e45",
      "id" : "28000085"
    },
    {
      "hash" : "0x65012ead0f9152be31ed3db00a7dfefa6f2b2f964416672fa9305029c0b13ef9",
      "id" : "28000093"
    },
    {
      "hash" : "0xf6d6b71e2a3e39345839e2d876563a73e1c46c630d345082513578525d728429",
      "id" : "28000010"
    },
    {
      "hash" : "0x791a60422efea06fca416be25a89259534731c2abb2b7345628796aba03ac551",
      "id" : "28000045"
    },
    {
      "hash" : "0x103ad444c8aa3643dbca7aeb8d34290935b30743ba13830dc942cdbaad6ac230",
      "id" : "28000036"
    },
    {
      "hash" : "0xb5b95e30dc4994bcc6974696263ede2d9a2fdaed981b9b644d37d0c578c24810",
      "id" : "28000041"
    },
    {
      "hash" : "0xb1e5d29b7c2fa5f2f19d96355f56300efb2554fa9abf373fdfb86cda4c2cf27a",
      "id" : "28000069"
    },
    {
      "hash" : "0x3114bfe7eeed95554e7d96216348b5f7bf8e6987ea64165c709a2512c3681dca",
      "id" : "28000007"
    },
    {
      "hash" : "0x968a5e11129eb6071ced349e257d43a949121144bfe15bed1d4c8f39eba3376f",
      "id" : "28000091"
    },
    {
      "hash" : "0xf778a834375620fe138eebd92f7877cd67f770322d011ec931af4d589ab09024",
      "id" : "28000080"
    },
    {
      "hash" : "0x9fdaa9ee82f68055b6e47b8fcdec25a1ad9b582621ab4dd05f6fcd11dc9cf7a0",
      "id" : "28000094"
    },
    {
      "hash" : "0xcf6c2c460524f0c5bc10dead04a30c207dda2185c6814ad79038aeecf879f9fd",
      "id" : "28000044"
    },
    {
      "hash" : "0x8de238c4dc04a5201cd755bb14a4093398dc723190f4ce2481d029b131c5c7cf",
      "id" : "28000032"
    },
    {
      "hash" : "0x05d753ec3d917051981c87f39fa1e95aa7192582978a87f39f3c835af935bc97",
      "id" : "28000033"
    },
    {
      "hash" : "0x045499c4d1a65dbbb9a79f5d5c706465532d12ac661764f728ef9931ea317300",
      "id" : "28000063"
    },
    {
      "hash" : "0xfeb440301679bd2d94fa404f98be4224a4e5b87068e0a8108778f8c4057995c2",
      "id" : "28000047"
    },
    {
      "hash" : "0x9ae4609ba00c9dab7192d364350a0a036d31772feb3f0432324dca28500a8a03",
      "id" : "28000081"
    },
    {
      "hash" : "0xc7f829062a97464bca76b37eb0910dd7af1d0507dc1da7ee31eae9970fc69695",
      "id" : "28000016"
    },
    {
      "hash" : "0xc9fb9283489fefd547c0b390c760f2614ecca37f242277f8c801bafa368dd455",
      "id" : "28000056"
    },
    {
      "hash" : "0xeda33ed5081f6f32d1cf879243b33b9f5583823c160f23a3712c0a24db21ed86",
      "id" : "28000086"
    },
    {
      "hash" : "0xf83b6d7b7ef4ab6b8de228a3c307537ce4829dfbf0b94ed632913c8fb950742d",
      "id" : "28000054"
    },
    {
      "hash" : "0x71c2fdb8186f48c3c7525b2ceeb547bf80ee25c8a42ee5344a05c26cf4cbaf92",
      "id" : "28000049"
    },
    {
      "hash" : "0xaf7db7a322697232458a1e0dfea074478920e10590dc0abeb176cc9d785b7e93",
      "id" : "28000008"
    },
    {
      "hash" : "0x7e841a5a66fc0529e8ef24109d5f87e3254ff9b38ab2c1e4b0a3cbf9c8d8eb12",
      "id" : "28000022"
    },
    {
      "hash" : "0xea3a0bf1e989493e2f54a5fe5c6f6541bf1f8a9900411fb9c67398e90acb58b5",
      "id" : "28000035"
    },
    {
      "hash" : "0x1a1924745e9a3fe688723171485ba9b491f3848dd3899b1ca346f64873a1ed65",
      "id" : "28000055"
    },
    {
      "hash" : "0x7291e01317ef42c7e54705c1f805c2d187dec89f571cdd464c073fd0762cc2d2",
      "id" : "28000002"
    },
    {
      "hash" : "0x3fa7916d128ae8e6a2b4c467f6e2bab78c09c877c9b52cc9d9b69c0aac787689",
      "id" : "28000083"
    },
    {
      "hash" : "0x313e8363d2e297a94f7b78b4047f5f175c3829452db11c9d0fb2e4bab03d2e9e",
      "id" : "28000053"
    },
    {
      "hash" : "0x995d6ea4dba538e0bfc7ddcf09c697a227b2b89617712785fcacb02680b6e38a",
      "id" : "28000096"
    },
    {
      "hash" : "0xf3bce1d495f68942021b897d263f928d2f610b64502d5ce2d61c5d026dc0dcc7",
      "id" : "28000082"
    },
    {
      "hash" : "0x5f4dac1dde7d79dbe6049b78dbb7e9a93d6adef75c51f9a716fc401d3838070a",
      "id" : "28000098"
    },
    {
      "hash" : "0x33377b7e424f67edacd3fb1dc3448e7f0f4876c497bb609d814a7ceeed7b8c73",
      "id" : "28000074"
    },
    {
      "hash" : "0xffbc3c36661ce786337b76b8201bea1ed0ce8f6345d58f5a925b74278a34e335",
      "id" : "28000001"
    },
    {
      "hash" : "0x99a15bd349dab8c1057969c9ff3c80fef38de76aad8de4558ca9bf73e4dd5da5",
      "id" : "28000087"
    },
    {
      "hash" : "0x3c8b9ffd79083f283abca2f032f0f8d9b7daca2032a9f25c3c12fa82e8afcffb",
      "id" : "28000051"
    },
    {
      "hash" : "0x220f432b682c339f13fe01a0a557b728bb209507b22f0fb2395a7772d9cd3b10",
      "id" : "28000026"
    },
    {
      "hash" : "0xd501ab9348d1b8da8711ab0f072769862feefce8b025de912c6fb84208ffd9d7",
      "id" : "28000027"
    },
    {
      "hash" : "0xcfe5b3c3314ead9ed654835229afded060252f964f003c8aed405e5a5dc93975",
      "id" : "28000000"
    },
    {
      "hash" : "0x213e96fe439cc3e414a64369dd3a3474ec63cfe62ad14ab5633d352f4ea76e52",
      "id" : "28000040"
    },
    {
      "hash" : "0x8410a734c1efdee2e48b52ba8633fa582e14aa65ecd1cef11e7af535b163537a",
      "id" : "28000046"
    },
    {
      "hash" : "0x16a754f37a8ec2a1941c2efc0a5e2952374a4b9794adc463700b9488dd1e657e",
      "id" : "28000059"
    },
    {
      "hash" : "0xd81d44e22171bd28d4c1ea7450d9df331634727dfb53d1e136d9e24302b1315a",
      "id" : "28000066"
    },
    {
      "hash" : "0xfdb9ead803f874322438e935a380d0141948aca068dd32679acf661ac5b0a12f",
      "id" : "28000021"
    },
    {
      "hash" : "0x5929de160130d2e6da954a6ebeccf7432c2e25974444f8562c08e6961a72fdc7",
      "id" : "28000018"
    },
    {
      "hash" : "0x636d69e93a62c179de4b5b5575d67a92cb9ab60ddc708531daf0aec0d58ccb80",
      "id" : "28000043"
    },
    {
      "hash" : "0x68a66a61b93f07867ff42539dfd88023af70ab6a8cec416074855deb7602f15c",
      "id" : "28000076"
    },
    {
      "hash" : "0xc12aeca9948e1094848a4fa362e67815536d0f9e0d02479f23277e8d5b404099",
      "id" : "28000019"
    },
    {
      "hash" : "0x94f7b4a3c138f9c842fda2938bc103984f6575eb92cd64cd5577957bd608176e",
      "id" : "28000003"
    },
    {
      "hash" : "0x753ca895f3d3b0cacc44079bfe4dd5b3588636f5c167d0ca4b7555eec7d30d94",
      "id" : "28000071"
    },
    {
      "hash" : "0x41cf6fde8889ec4c51176396536b69ef55f9757d4e013fc8ec7837cc3755c03a",
      "id" : "28000011"
    },
    {
      "hash" : "0x5343351ce091d539891dd907bcec9784dd311e7aba822adbcf4ca86e9cc9fdf6",
      "id" : "28000004"
    },
    {
      "hash" : "0xaed60744d5ca389a9c0b4c494b3668a62afaff56f3cf916b165fc06d162bf248",
      "id" : "28000005"
    },
    {
      "hash" : "0x3ecc63c52cfcf0509b8464dabb8a6c4db8a142b60f55293cde760b2acdf7572a",
      "id" : "28000042"
    },
    {
      "hash" : "0x654eb4a2794fe4df0e100220deeac7b9f1f7ff7077620314d9cbbe856ae0f2ad",
      "id" : "28000028"
    },
    {
      "hash" : "0x22292704801c0232b2af36eff872e166c4b0d815eb790918baa8e3c8ed4b7f65",
      "id" : "28000031"
    },
    {
      "hash" : "0x683038df98c8cd0bd6f9cbc90381a9ace6c402c221a36357046110a1676fb1e2",
      "id" : "28000070"
    },
    {
      "hash" : "0x474d4c54f20bb21bf1f44997fbcf9e27f6e8389bd623d5fc727cd3679ba1c7e7",
      "id" : "28000013"
    },
    {
      "hash" : "0x597fbbe5c5c4762898f0b05c1fb481c4ab17dac63144541b5f70ee5dbeaac266",
      "id" : "28000015"
    },
    {
      "hash" : "0x2bb968942e262fcae531f00627e8b66e3f1b8158baed11185879ef5f0797d17c",
      "id" : "28000061"
    },
    {
      "hash" : "0x9eb383b14fae27fb6e14305f62c219a6f7ae19575ba4d35dfe64dd664715d716",
      "id" : "28000057"
    },
    {
      "hash" : "0x26309d60c11c1d3e719c7693467fa62a994501a78780cd00a16c460c2e5411de",
      "id" : "28000060"
    },
    {
      "hash" : "0xd682b01a5e703874c929fb345144f68de77e4b2e0d9334b09406660e999edbeb",
      "id" : "28000034"
    },
    {
      "hash" : "0xf1836eecc3cebfc861bbb14f053949b056777b69d0974b539afc58fe1fc1348f",
      "id" : "28000024"
    },
    {
      "hash" : "0xe7b7f3efb7d51f43aeac2368cd6a3c9a208a6f1a6ad9a08bcc2cccb01ff6c7f4",
      "id" : "28000025"
    },
    {
      "hash" : "0x745dba5a1f4f47924871a91fa517a88825fbf77d3f0ed2d2ae72431461212e46",
      "id" : "28000039"
    },
    {
      "hash" : "0x81aba8fcdb6927295f450133333ba3362b2fdece2497f3d4ef1ff5af27c7a5fe",
      "id" : "28000048"
    },
    {
      "hash" : "0xdeb6d85f33eb9b4220d6cb1cb77e82bf2a65bbdfe53ee5612011cc3ddceee6ec",
      "id" : "28000079"
    },
    {
      "hash" : "0x4cd7e675de940e3462970ba62ed040c98eea9ea026f0f2c1c22a81bb55dd38a3",
      "id" : "28000078"
    }
  ]
}