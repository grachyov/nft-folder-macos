{
  "contractAddress" : "0xa7d8d9ef8d8ce8992df33d8b8cf4aebabd5bd270",
  "kind" : "p5js",
  "projectId" : "310",
  "script" : "class Boundary{constructor(e,t,r,s){this.a=createVector(e,t),this.b=createVector(r,s)}}class Ray{constructor(e,t,r,s){this.pos=createVector(e,t),this.dir=createVector(r,s)}lookAt(e,t){this.dir.x=e-this.pos.x,this.dir.y=t-this.pos.y,this.dir.normalize()}cast(e){let t=e.a.x,r=e.a.y,s=e.b.x,n=e.b.y,l=this.pos.x,a=this.pos.y,i=this.pos.x+this.dir.x,o=this.pos.y+this.dir.y,c=(t-s)*(a-o)-(r-n)*(l-i);if(0==c)return!1;let h=((t-l)*(a-o)-(r-a)*(l-i))\/c;if(h>0&&h<1&&-((t-s)*(r-a)-(r-n)*(t-l))\/c>0){let e=createVector();return e.x=t+h*(s-t),e.y=r+h*(n-r),e}return!1}castMany(e){let t=null,r=1e5;for(let s=0;s<e.length;s++){let n=e[s],l=this.cast(n);if(l){let e=dist2([this.pos.x,this.pos.y],[l.x,l.y]);e<r&&(t=l,r=e)}}return t}}let fys=e=>{let t,r,s=e.length;for(;s;)r=Math.floor(R.rand()*s--),t=e[s],e[s]=e[r],e[r]=t;return e};class Random{constructor(){this.useA=!1;let e=function(e){let t=parseInt(e.substr(0,8),16),r=parseInt(e.substr(8,8),16),s=parseInt(e.substr(16,8),16),n=parseInt(e.substr(24,8),16);return function(){t|=0,r|=0,s|=0,n|=0;let e=(t+r|0)+n|0;return n=n+1|0,t=r^r>>>9,r=s+(s<<3)|0,s=s<<21|s>>>11,s=s+e|0,(e>>>0)\/4294967296}};this.prngA=new e(tokenData.hash.substr(2,32)),this.prngB=new e(tokenData.hash.substr(34,32));for(let e=0;e<1e6;e+=2)this.prngA(),this.prngB()}rand(){return this.useA=!this.useA,this.useA?this.prngA():this.prngB()}range(e,t){return e+(t-e)*this.rand()}bool(e){return this.rand()<e}}let w,h,ar,R=new Random,bo=e=>R.bool(e),rg=(e,t)=>R.range(e,t),uni=e=>e[Math.floor(R.rand()*e.length)];class Plt{constructor(e,t,r=null,s=null){this.bg=e,this.selectColor=t,this.extraInit=r,this.tag=s}init(){background(this.bg),this.extraInit&&this.extraInit()}}let segMidpoint=e=>[(e[0]+e[2])\/2,(e[1]+e[3])\/2],segS=([e,t,r,s])=>[e,t],segE=([e,t,r,s])=>[r,s],mod=function(e,t){return(e%t+t)%t},op=(e,t)=>padd(e,psub(e,t).map((e=>e*Math.max(lw,lh)*2))),fi=(e,t,r)=>{let s=csegs,n=[];if(parallel(r,[e[0],e[1],t[0],t[1]],.15))return[];for(let l=0;l<s.length;l++){let[a,i,o,c]=s[l],h=intersect(e[0],e[1],t[0],t[1],a,i,o,c);h&&!arrEq(r,s[l])&&n.push([h,s[l]])}return n},arrEq=(e,t)=>{if(e.length!=t.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!=t[r])return!1;return!0},rd=(e,t)=>{let r=Math.pow(10,t);return Math.round((e+Number.EPSILON)*r)\/r},veq=(e,t)=>e[0]==t[0]&&e[1]==t[1],rectCorners=([e,t,r,s])=>[[e,t],[e+r,t],[e+r,t+s],[e,t+s]],rectCenter=([e,t,r,s])=>[e+r\/2,t+s\/2],bezier4=(e,t,r,s,n=100)=>{let l=[];for(let a=0;a<=n;a++){let i=a\/n,o=smul(ipow(1-i,3),e),c=smul(3*ipow(1-i,2)*i,t),h=smul(3*(1-i)*ipow(i,2),r),g=smul(ipow(i,3),s);l.push(padd(o,padd(c,padd(h,g))))}return l},inRect=([e,t,r,s],[n,l])=>n>=e&&n<=e+r&&l>=t&&l<=t+s,rectSpan=([e,t,r,s])=>Math.sqrt(dist2([e,t],[e+r,t+s])),ipow=(e,t)=>{let r=1;for(let s=0;s<t;s++)r*=e;return r},dist2=(e,t)=>{let[r,s]=e,[n,l]=t;return ipow(n-r,2)+ipow(l-s,2)},padd=(e,t)=>[e[0]+t[0],e[1]+t[1]],psub=(e,t)=>[e[0]-t[0],e[1]-t[1]],smul=(e,[t,r])=>[t*e,r*e],vmag=e=>Math.sqrt(ipow(e[0],2)+ipow(e[1],2)),normalizeV=e=>smul(1\/vmag(e),e);function pointingTo(e,t){return normalizeV(psub(t,e))}let norm1=([e,t])=>[-t,e],norm2=([e,t])=>[t,-e],segmentNormals=([e,t,r,s])=>{let n=pointingTo([e,t],[r,s]);return[norm1(n),norm2(n)]};function scaleRect(e,[t,r,s,n]){return[t-(s*e-s)\/2,r-(n*e-n)\/2,s*e,n*e]}let _hn=!1,norm=(e=0,t=1)=>{if(_hn){_hn=!1;var r=_n;return _n=null,e+t*r}var s=0,n=0,l=0;do{l=(s=2*R.rand()-1)*s+(n=2*R.rand()-1)*n}while(l>=1||0===l);var a=Math.sqrt(-2*Math.log(l)\/l);return _n=n*a,_hn=!0,e+t*(s*a)};function gp([e,t],[r,s]){return[norm(e,r),norm(t,s)]}let lineCount,palette,erase,lerpVs=(e,t,r)=>{let[s,n]=t,[l,a]=r;return[s*e+l*(1-e),n*e+a*(1-e)]},eerp=(e,t,r)=>Math.pow(e,1-r)*Math.pow(t,r),eerpVs=(e,t,r)=>{let[s,n]=t,[l,a]=r;return[eerp(s,l,e),eerp(n,a,e)]},lerpS=(e,[t,r,s,n])=>lerpVs(e,[t,r],[s,n]),eerpS=(e,[t,r,s,n])=>eerpVs(e,[t,r],[s,n]),allLines=[],vpLines=[],rs=[],regionWeights=[],regionVpGens=[],globalVps=[],wg=(e,t)=>e[(()=>{var e,r=0;for(e=0;e<t.length;e++)r+=t[e];var s=R.rand()*r;for(e=0;e<t.length;e++){if(s<t[e])return e;s-=t[e]}return 0})()],includesVector=(e,t)=>{for(let r=0;r<e.length;r++)if(veq(e[r],t))return!0;return!1},slength2=e=>{let[t,r,s,n]=e;return dist2([t,r],[s,n])},slength=e=>Math.sqrt(slength2(e));function intersect(e,t,r,s,n,l,a,i){if(e===r&&t===s||n===a&&l===i)return!1;let o=(i-l)*(r-e)-(a-n)*(s-t);if(Math.abs(o)<=.001)return!1;let c=((a-n)*(t-l)-(i-l)*(e-n))\/o,h=((r-e)*(t-l)-(s-t)*(e-n))\/o;return!(c<0||c>1||h<0||h>1)&&[e+c*(r-e),t+c*(s-t)]}let parallel=(e,t,r=.001)=>{let[s,n,l,a]=e,[i,o,c,h]=t,g=0==Math.abs(l-s)?null:(a-n)\/(l-s),p=0==Math.abs(c-i)?null:(h-o)\/(c-i);return null===g&&null==p||Math.abs(g-p)<r},g={},csegs=[],walls=[],_ins=(e,t,r,s)=>{void 0===g[e]&&(g[e]={}),void 0===g[e][t]&&(g[e][t]=[]),includesVector(g[e][t],[r,s])||g[e][t].push([r,s])},canon=([e,t,r,s])=>e<r?[e,t,r,s]:e>r?[r,s,e,t]:t<s?[e,t,r,s]:t>s?[r,s,e,t]:void 0,ins=(e,t,r,s)=>{let[n,l,a,i]=[e,t,r,s].map((e=>rd(e,5)));n==a&&l==i||(_ins(n,l,a,i),_ins(a,i,n,l),csegs.push(canon([n,l,a,i])))},fci=(e,t,r)=>{let s=fi(e,t,r),n=1e6,l=null;for(let t=0;t<s.length;t++){let[r,a]=s[t],i=dist2(e,r);i<n&&(n=i,l=s[t])}return l},splitAllTowards=(e,t,r)=>{let s=op(t,r),n=uni([r,s]);vpLines.push([t[0],t[1],n[0],n[1]]);let l=fi(t,n,e).sort((([e,r],[s,n])=>dist2(t,s)-dist2(t,e))),a=t;se([e[0],e[1]],[e[2],e[3]],t);for(let e=0;e<l.length;e++){let[t,r]=l[e];se([r[0],r[1]],[r[2],r[3]],t),ins(a[0],a[1],t[0],t[1]),allLines.unshift([a[0],a[1],t[0],t[1]]),a=t}},splitTowards=(e,t,r)=>{let s=op(t,r),n=uni([r,s]);vpLines.push([t[0],t[1],n[0],n[1]]);let l=fci(t,n,e);if(null!==l){let[r,s]=l;if(veq(t,r))return;se([e[0],e[1]],[e[2],e[3]],t),se([s[0],s[1]],[s[2],s[3]],r),ins(t[0],t[1],r[0],r[1]),allLines.unshift([t[0],t[1],r[0],r[1]])}},_dele=(e,t,r,s)=>{if(g[e]){g[e][t]&&(g[e][t]=g[e][t].filter((e=>{let[t,n]=e;return!(t==r&&n==s)})))}let[n,l,a,i]=canon([e,t,r,s]);csegs=csegs.filter((([e,t,r,s])=>!(e==n&&t==l&&r==a&&s==i)))},dele=(e,t,r,s)=>{_dele(e,t,r,s),_dele(r,s,e,t)},se=(e,t,r)=>{dele(e[0],e[1],t[0],t[1]),ins(e[0],e[1],r[0],r[1]),ins(r[0],r[1],t[0],t[1])};graphSegments=[];let u,bg,cubist,xsc,ysc,scribblePerc,arrowPerc,time,stripeModes,lines,style,lw=1100,lh=1700,fs={};function setup(){style=wg([0,1,2,3],[20,6,1,2]),fs.style=style,stripeModes=chooseStripeModes(),scribblePerc=wg([.15,1],[30,1]),arrowPerc=wg([.075,.5],[10,1]),fs.arrowPerc=arrowPerc,time=uni([2,3,4]),fs.scribblePerc=scribblePerc,fs.time=time,erase=uni([0,.1]),lineCount=uni([1500,2100,3500,5e3]),fs.lineCount=lineCount,fs.minima=bo(.04);let e=wg([\"methodical\",\"aggressive\"],[35,1]);fs.construction=e;let t=wg([\"global\",\"mixed\",\"local\"],[1,1,1]);fs.vpspan=t;let r=wg([\"same\",\"different\"],[1,3]);fs.vpmode=r;let s=wg([\"below\",\"above\",\"four point\",\"six point\"],[1,1,1,1]);fs.vptype=s;let n=wg([\"none\",\"regions\"],[1,1]);fs.macro=n,fs.tungsten=bo(.1);let l=uni([50,150]);fs.fullSpans=l,cubist=bo(.05),fs.cubist=cubist,palette=wg([new Plt(\"#f3df91\",(()=>uni([\"#e7ad00\",\"#faa600\",\"#e07f00\",\"#cc6800\",\"#d23d00\",\"#3e271a\",\"#0f1116\"]))),new Plt(\"#fac3b8\",(()=>uni([\"#ff566c\",\"#ec3c56\",\"#c9002c\",\"#a90014\",\"#62191f\",\"#47100c\"]))),new Plt(\"#dad6c1\",(()=>uni([\"#bcd0b8\",\"#428b96\",\"#83a181\",\"#45865d\",\"#429466\",\"#003f4f\",\"#615643\",\"#dad6c1\",\"#e7bf25\",\"#9f0c00\",\"#100704\",\"#005e2e\",\"#010d18\",\"#f1ebd6\"]))),new Plt(\"#f8eed5\",(()=>uni([\"#0095cf\",\"#007fc8\",\"#0061bd\",\"#003f9c\",\"#031155\",\"#030643\",\"#0d0825\"]))),new Plt(\"#e6e3d9\",(()=>uni([\"#f1b052\",\"#475b96\",\"#733938\",\"#2c4b7a\",\"#462600\",\"#7e6159\",\"#562a3b\",\"#534951\",\"#576d92\",\"#c596b8\",\"#69743c\",\"#fab002\",\"#755f76\",\"#d46283\",\"#6d5e87\",\"#2c4b7a\",\"#e69500\",\"#5c917f\",\"#c596b8\",\"#3f406e\",\"#755f76\",\"#da416d\",\"#5d6540\",\"#69743c\",\"#4b6588\",\"#2e4d7c\",\"#42261a\",\"#264981\",\"#d46283\"]))),new Plt(\"#D3C19D\",(()=>uni([\"#d4c5a2\",\"#ccb788\",\"#a0a195\",\"#006173\",\"#3f6969\",\"#ccb288\",\"#c79b37\",\"#030302\",\"#c8b077\",\"#002835\",\"#6da87f\",\"#d9bc8e\",\"#03391c\",\"#dbc7a0\",\"#002a36\",\"#ca4e1a\",\"#e0c180\",\"#e2bb6b\",\"#0b2d1b\",\"#05303a\"]))),new Plt(\"#F2F6E8\",(()=>uni([\"#d0a52a\",\"#002634\",\"#60a7b2\",\"#003142\",\"#000400\",\"#d00000\",\"#05181b\",\"#db2900\",\"#560600\",\"#f6d96c\",\"#fcfcd6\",\"#fcfcd6\",\"#fcfcd6\",\"#fcfcd6\",\"#fcfcd6\",\"#fcfcd6\"]))),new Plt(\"#e3e3da\",(()=>uni([\"#7a7a6b\",\"#a7a796\",\"#cacabd\",\"#77462e\",\"#5a3d2f\",\"#5f4d44\",\"#736259\",\"#9b8175\",\"#bb9235\",\"#418288\",\"#f7f2f0\",\"#dba937\"]))),new Plt(\"#230000\",(()=>uni([\"#c9c3ab\",\"#fff5b9\",\"#722300\",\"#c76900\",\"#be2b00\"]))),new Plt(\"#e0d7d5\",(()=>uni([\"#69d9f5\",\"#f5366f\"])),(()=>blendMode(MULTIPLY)),tag=1),new Plt(\"#D3C19D\",(()=>uni([\"#eee7d5\",\"#e2d8c9\",\"#e0dac5\",\"#f3efdc\",\"#dfd9c4\",\"#fffff6\",\"#d4d0bd\",\"#fffff3\",\"#050505\",\"#0f150e\"]))),new Plt(\"#d9d5d0\",(()=>wg([\"#ece9e6\",\"#010302\"],[6,1])))],[1,1.1,1.25,1.1,1,2,.5,.5,.5,1,.2,.3]),fs.minima&&bo(.2)&&(palette=new Plt(\"#FFFFFF\",(()=>wg([\"#00FFFF\",\"#FF00FF\",\"#FFFF00\",\"#000000\"],[1,1,1,20]))));let a=new URLSearchParams(window.location.search),i=parseFloat(a.get(\"scale\"));innerHeight<innerWidth?(h=innerHeight,w=h*(22\/34)):(w=innerWidth,h=w*(34\/22),h>innerHeight&&(h=innerHeight,w=h*(22\/34))),u=w\/1100,xsc=w\/lw,ysc=h\/lh,createCanvas(w,h),pixelDensity(i||Math.max(window.devicePixelRatio,2)),strokeCap(SQUARE),strokeJoin(BEVEL),background(255);let o=([e,t,r,s])=>{let n=rg(.2,.8);return[e*n+r*(1-n),t*n+s*(1-n)]},c=[[0,0],[lw,0],[lw,lh],[0,lh]];for(let e=0;e<c.length;e++){let[t,r]=c[e],[s,n]=c[mod(e+1,c.length)];ins(t,r,s,n)}let g=()=>{let e=wg(rs,regionWeights),t=csegs.filter((([t,r,s,n])=>inRect(e,[t,r])||inRect(e,[s,n])));0==t.length&&(t=csegs);let r=t.map((e=>slength2(e)));return wg(t,r)},p=rg(lw,2*lw),f=rg(lw,2*lw),d=[0,0,lw,lh],b=e=>{let n=[1,1];switch(t){case\"local\":n=[1,0];break;case\"global\":n=[0,1]}let[l,a,i,o]=wg([e,d],n),c=l+i\/2,h=a+o\/2,g=\"same\"==r?s:wg([\"below\",\"above\",\"four point\",\"one point\",\"six point\"],[1,1,1.5,1.5,1]),u=()=>{let e=a+o*rg(.5,.9),t=[-p,e],r=[i+f,e],s=[norm(c,i\/10),norm(a+o+o\/2,o\/10)];return()=>[t,r,s]},b=()=>{let e=a+o*rg(.1,.5),t=[-p,e],r=[i+f,e],s=[norm(c,i\/10),norm(a-o\/2,o\/10)];return e=>[t,r,s]};switch(g){case\"below\":return u();case\"above\":return b();case\"left\":return(()=>{let e=[l+i*rg(1.4,1.5),-p],t=[l+i*rg(1.4,1.5),o+f],r=[norm(l-i\/2,i\/10),norm(h,o\/10)];return s=>[e,t,r]})();case\"right\":return(()=>{let e=[l+i*rg(1.4,1.5),-p],t=[l+i*rg(1.4,1.5),o+f],r=[norm(l+i+i\/2,i\/10),norm(h,o\/10)];return s=>[e,t,r]})();case\"four point\":return(()=>{let e=[l-p,a],t=[l+f+i,a],r=[l-p,a+o],s=[l+i+f,a+o],n=padd(lerpVs(.5,e,t),[0,8*-o]),c=padd(lerpVs(.5,r,s),[0,8*o]),h=padd(lerpVs(.5,r,e),[8*-i,0]),g=padd(lerpVs(.5,s,t),[8*i,0]);return()=>[n,c,h,g]})();case\"one point\":return(()=>{let e=[c,-10*o],t=[l-10*i,h],r=[norm(c,i\/10),norm(h,o\/10)];return()=>[e,t,r]})();case\"six point\":return(()=>{let e=b()(),t=u()();return()=>e.concat(t)})()}},m=(e,t=null)=>{let r=t||wg([\"h\",\"v\"],[ar,1-ar]),s=rg(.4,.6),[n,l,a,i]=e;switch(r){case\"h\":return[[n,l,a,i*s],[n,l+i*s,a,i*(1-s)]];case\"v\":return[[n,l,a*s,i],[n+a*s,l,a*(1-s),i]]}},x=b(d);switch(rs=[d],regionWeights=[],time){case 2:rs=m(d,\"h\");break;case 3:let e=m(d,\"h\"),[t,r]=m(e[1],\"v\");rs=[e[0],t,r];break;case 4:let s=m(d,\"h\"),n=m(s[0],\"v\"),l=m(s[1],\"v\");rs=n.concat(l)}if(\"regions\"===n)for(let e=0;e<rs.length;e++){let t=uni([.5,.95]),r=rectCorners(scaleRect(t,rs[e]));for(let e=0;e<r.length;e++){let[t,s]=r[e],[n,l]=r[mod(e+1,r.length)];ins(t,s,n,l)}}for(let e=0;e<rs.length;e++)regionWeights.push(rg(1,3));for(let e=0;e<rs.length;e++){let t=b(rs[e]);regionVpGens.push(t),globalVps=globalVps.concat(t())}let v=[];for(let e=0;e<lineCount;e++){let t=g(),r=o(t),s=x(),n=null;for(let e=0;e<rs.length;e++)inRect(rs[e],r)&&(n=rs[e],s=regionVpGens[e](r));vp=uni(s),cubist&&(vp=uni(globalVps)),includesVector(v,vp)||v.push(vp),e<l?splitAllTowards(t,r,vp):splitTowards(t,r,vp)}csegs.forEach((([e,t,r,s])=>{walls.push(new Boundary(e,t,r,s))})),frameRate(120),palette.init(),allLines.reverse();let y=wg([10,20,80,120],[1,5,5,3]);if(lines=csegs,\"aggressive\"==e){allLines=[];for(let e=0;e<1500;e++)allLines.push(rls(y));lines=allLines}}let rls=e=>{let[t,r]=[rg(0,lw),rg(0,lh)];return[t,r,rg(t-e,t+e),rg(r-e,r+e)]},normP=([e,t],r)=>[norm(e,r),norm(t,r)],normS=([e,t,r,s],[n,l])=>{let a=norm(e,n),i=norm(r,n);return[a,norm(t,l),i,norm(s,l)]},drawPath=(e,t=!1)=>{beginShape(),e.forEach((([e,t])=>vertex(e*xsc,t*ysc))),t?endShape(CLOSE):endShape()},drawCurve=(e,t=!1)=>{beginShape();for(let t=0;t<e.length;t++){let[r,s]=e[t];curveVertex(r*xsc,s*ysc)}t?endShape(CLOSE):endShape()},frame=0;async function draw(){let e=lines[frameCount];if(!e)return console.log(\"Done\"),void noLoop();segmentNormals(e).forEach((t=>{let r=[],s=padd(lerpVs(.5,[e[0],e[1]],[e[2],e[3]]),smul(.01,t)),n=[];for(let e=0;e<rs.length;e++)inRect(rs[e],s)&&(n=regionVpGens[e](s));cubist&&(n=globalVps);let l=bo(scribblePerc)&&2!=fs.style,a=slength(e),i=wg([.05,.025,.015,.01],[2,2,1,1]);i=.1,fs.tungsten&&(i*=2),l&&(i=2);let o=a*i,c=wg([lerpVs,eerpVs],[5,1]),h=pal(o,e,c),g=wg([\"vp\",\"normals\"],[30,1]);fys(n),n=n.slice(0,uni([1,2]));let p=()=>palette.selectColor(),f=p();if(bo(erase)&&!palette.tag&&(f=palette.bg),n.forEach((e=>{let s,a=uni([(e,t)=>t,(e,t)=>op(e,t)]);h.forEach((s=>{if(bo(.02)&&(e=uni(n)),e){let n=a(s,e),[l,i]=padd(s,smul(.01,t)),o=new Ray(l,i,t[0],t[1]);\"vp\"==g&&o.lookAt(n[0],n[1]),r.push(o)}})),stroke(f),noFill();let o=[],c=[],d=bo(.5),b=[],[m,w]=stripeModes,x=wg(m,w);s=u*(1-i)*.75,strokeWeight(Math.max(s,.15*u));let v=wg([.1,.5,1],[10,50,1]);for(let e=0;e<r.length;e++){let t=r[e],s=t.castMany(walls);if(s){o.push([s.x,s.y]);let n=bo(.1);e%2==0||n?c.push(t.pos,s):c.push(s,t.pos);let[l,a]=[t.pos.x,t.pos.y],[i,h]=[s.x,s.y],g=[l,a,i,h],p=Math.min(Math.max(slength2(g)-20,0),v);p>0&&(g=normS(g,[p,p])),b.push(g);let[u,d,m,w]=g;stroke(f);let y=r[e+1],S=y&&y.castMany(walls);S&&(seg3=[y.pos.x,y.pos.y,S.x,S.y],p>0&&(seg3=normS(seg3,[p,p])));let M=()=>{if(fill(f),S){let[e,t,r,s]=seg3;beginShape(),vertex(u*xsc,d*ysc),vertex(m*xsc,w*ysc),vertex(r*xsc,s*ysc),vertex(e*xsc,t*ysc),endShape(CLOSE)}},V=()=>{if(S){let[e,t,r,s]=seg3;line(u*xsc,d*ysc,r*xsc,s*ysc),line(m*xsc,w*ysc,e*xsc,t*ysc)}},P=()=>{if(S){let t=lerpVs(.5,segS(g),segS(seg3)),r=lerpVs(.5,segS(g),segE(g)),s=lerpVs(.5,segE(g),segE(seg3)),n=lerpVs(.5,segS(seg3),segE(seg3));e%(2*time)==0&&fill(f),drawPath([t,r,s,n],!0),noFill()}},k=()=>{if(S){e%time==0&&fill(f);let[t,r]=lerpVs(.5,segS(g),segE(seg3)),s=norm(.025*slength(g),.2);arc(t*xsc,r*ysc,s*xsc,s*ysc,0,2*PI),noFill()}},E=()=>{let e=uni([time,2*time,3*time]);if(S)for(let t=0;t<e;t++){perc=t\/e;let[r,s]=lerpS(perc,g),[n,l]=lerpS(perc,seg3);line(r*xsc,s*ysc,n*xsc,l*ysc)}};if(!fs.minima)switch(x){case\"none\":break;case\"all\":M();break;case\"stripe\":if(e%time==0){M();break}case\"random\":if(bo(.25)){M();break}case\"x\":V();break;case\"hatch\":E();break;case\"diamond\":P();break;case\"dot\":k()}}}if(noFill(),l&&!fs.minima)scribble(b);else if((bo(.1)||fs.minima)&&b.forEach((e=>{let t=splitLine(e,12);drawCurve(t)})),!fs.minima){if(bo(.1)&&stroke(p()),bo(.25)){beginShape();for(let e=0;e<o.length;e++){let t=o[e];vertex(t.x*xsc,t.y*ysc)}for(let e=0;e<r.length;e++){let t=r[e].pos;vertex(t.x*xsc,t.y*ysc)}endShape()}let e=bo(.15);if(bo(.1)&&stroke(p()),d){noFill(),beginShape();for(let t=0;t<c.length;t++){let r=c[t];e?curveVertex(r.x*xsc,r.y*ysc):vertex(r.x*xsc,r.y*ysc)}endShape()}}})),!fs.minima){let t=()=>{wt=.015*slength(e),strokeWeight(Math.max(wt*xsc,.15*xsc))};bo(arrowPerc)&&\"scan\"!=fs.construction&&(t(),segArrow(e))}}))}let scribble=e=>{let t=Math.max(rg(.6,1.2),1),r=wg([\"n\",\"p\",\"m\"],[1,1,5]),s=[];e.forEach((e=>{[n0,_]=segmentNormals(e);let n=Math.abs(norm(0,.05))*(\"p\"==r?1:-1),l=Math.abs(norm(0,.05))*(\"n\"==r?-1:1),a=Math.min(slength(e),10),i=Math.min(Math.max(slength2(e)-20,0),1);if(bo(t)){let t=[normP(segS(e),i),padd(segMidpoint(e),smul(a*n,n0)),normP(segE(e),i),padd(segMidpoint(e),smul(a*l,n0))];s=s.concat(t)}})),drawCurve(s)},pal=(e,[t,r,s,n],l=lerpVs)=>{let a=1\/e,i=[];for(let e=0;e<1;e+=a)i.push(l(e,[t,r],[s,n]));return i},chooseStripeModes=()=>{let e;switch(style){case 1:e=[\"none\",\"x\",\"hatch\",\"diamond\",\"dot\"];break;case 0:e=[\"none\",\"all\",\"stripe\",\"x\",\"hatch\",\"diamond\",\"dot\"];break;case 2:e=[\"dot\"];break;case 3:e=[\"all\"]}return[e,e.map((()=>rg(1,2)))]},segArrow=e=>{let[t,r]=segmentNormals(e),s=slength(e)\/norm(8,1),n=norm(.2,.025),l=padd(lerpS(n,e),smul(s,t)),a=padd(lerpS(n,e),smul(s,r));drawPath([segS(e),segE(e),l]),drawPath([segS(e),segE(e),a])},splitLine=(e,t)=>{let r=slength(e);if(r>t){interval=t\/r;let s=[lerpS(0,e)],n=0;for(;n<1;)nextStop=Math.min(1,n+interval),s.push(lerpS(nextStop,e)),n=nextStop;return s.map((e=>normP(e,interval)))}return[segS(e),segE(e)]};",
  "tokens" : [
    {
      "hash" : "0x681bd80a96524fb41325ed9f23b03ead54855e56912496c4aa98c4b57a3a1c70",
      "id" : "310000047"
    },
    {
      "hash" : "0xddffa27461368673632031bec1eb317ffc1be95ae7ddffcd8efa63c9d0cc3c37",
      "id" : "310000023"
    },
    {
      "hash" : "0x0db6316a87cc058282093bcf20455a7f9191d525c20deab96bbfd438e51cc253",
      "id" : "310000019"
    },
    {
      "hash" : "0x3b9f70cebd6cdd3e71418519f664f23f9722390602b33b9dcd2359b3f73328b5",
      "id" : "310000095"
    },
    {
      "hash" : "0xd5b46c587f22af88d69e609447a73e8d93cdbfa341268f2ca09d6a67c61af9be",
      "id" : "310000089"
    },
    {
      "hash" : "0xe2a57c3dc0d80a1b169af6dfa2abab5166e0abba16ce4f23046b1807beb8af16",
      "id" : "310000066"
    },
    {
      "hash" : "0x2b9a3231f8dc6cdb9a0eb5bdea054981265b1dcd8a95fd8df726a7a37b6911e8",
      "id" : "310000006"
    },
    {
      "hash" : "0x76bcd523dd46eba8cc69083eaf6b882e4fe0d6174274425414166faf00fec227",
      "id" : "310000075"
    },
    {
      "hash" : "0x416c5d121ab560b6176e5b462ae939418009421844c2e158051d98098af9164c",
      "id" : "310000084"
    },
    {
      "hash" : "0x65db426b8af8dd7444e1b3ca097455b10ddd29f65e44162317fdf7b3c4fd62ba",
      "id" : "310000026"
    },
    {
      "hash" : "0x191ea4158ffb46c88a2031562ae844922fb2e375682931d26a1f093f890b0a18",
      "id" : "310000007"
    },
    {
      "hash" : "0x350114dcad96949abbcb88384c9b939f57e9ec86b234f87478c7d86224b1b171",
      "id" : "310000062"
    },
    {
      "hash" : "0xf5c51020c3e63d17196f8d3034760cf9f9fb5fb49127ca9faad2233f75badca4",
      "id" : "310000004"
    },
    {
      "hash" : "0x4183b2e93e28380baffae50031749704cf10034fb0cdad2f03a3f9583b94051a",
      "id" : "310000058"
    },
    {
      "hash" : "0x280b0be000e08341ccbd242765df8990101c617c8513075a1e1dae463210f2f4",
      "id" : "310000051"
    },
    {
      "hash" : "0xc2b4116808ac857f4a0ee2180111eda1600556d53db4cfd6973c91265d732e81",
      "id" : "310000049"
    },
    {
      "hash" : "0x6f8e46e2444ee87bc52ab0898a21b975cb7fbcdef1ba379b75429d9dd2fefb49",
      "id" : "310000015"
    },
    {
      "hash" : "0x6c5e478c936fa85555c0aeee0e9310f39448baedaea5eab33efadf6513d65090",
      "id" : "310000035"
    },
    {
      "hash" : "0xacb368293d7bc344fd45481971d7935fcaeb92220323457c6158a84010ea776c",
      "id" : "310000085"
    },
    {
      "hash" : "0xf4eba019656050cb4aa115cf9ae4f2fd67351fc3ea9130c93b829d572b5451e2",
      "id" : "310000024"
    },
    {
      "hash" : "0x9b335e788eb05035627b2a34483d98a20f2c7f350a0b88fa9c6b9acee0768668",
      "id" : "310000016"
    },
    {
      "hash" : "0x238869547399cacd906e5e736e96ed9e308609a9e0fec2332f4ab6ba3199f900",
      "id" : "310000045"
    },
    {
      "hash" : "0xe6c8def6606b6145147cd12a37a4d33d57e35b87938fd70735d5a31b4563cb7f",
      "id" : "310000072"
    },
    {
      "hash" : "0x7b9bf01556bd5d791cfb97d7e9cf668b54828282d000927b657c1716ebfcf425",
      "id" : "310000059"
    },
    {
      "hash" : "0x2aa3cc9a947eadd9fa0e7155c51e85de9d25fb608e89ad1bc77351d55bb40fac",
      "id" : "310000079"
    },
    {
      "hash" : "0x21292665f761e840f730104df85ff0cff9c9fa919f93e6405ca27ceeeb95a648",
      "id" : "310000046"
    },
    {
      "hash" : "0x00280bf374f8e1b28f0a13adc21f35a2ee4d50d87a00a8562f1270973de84a93",
      "id" : "310000050"
    },
    {
      "hash" : "0x6e54c108972b149fc5efaa7c9bf0ded9459818f698a9015661495512740feccd",
      "id" : "310000054"
    },
    {
      "hash" : "0x082dbcf06f70b6bd63be0d82b31b0884886ea4ec7489223c4936bbc33eb324c8",
      "id" : "310000041"
    },
    {
      "hash" : "0xd37d5864eee3b9cc391a11d167c2036563d231e6fa3bddb88dcf758d5b895725",
      "id" : "310000033"
    },
    {
      "hash" : "0xb5d9621b307563ed759313605e075c4d026675d98cca09d79e10d48f765fc6a9",
      "id" : "310000034"
    },
    {
      "hash" : "0x343a427d99838dfd50ac7e913930bd1e07a5a95daeba66575f02c0a8c9a0683a",
      "id" : "310000039"
    },
    {
      "hash" : "0x4321fe0ae07b954ffeab03939135a915c62f4d6ad4c60d0b3502e2445f0fd103",
      "id" : "310000032"
    },
    {
      "hash" : "0x2eb6e72f5780d7731d4583ad933549127af378dbc247c99a6a29c61d3f9b3967",
      "id" : "310000070"
    },
    {
      "hash" : "0x1a8eb0c1af1dab9d2b07a1de322246361c8844273d27cc58447f8671e5ad4adb",
      "id" : "310000074"
    },
    {
      "hash" : "0x49dd22e7fc38190881f64ae64e2bbe10d9413122f8ba114481da6480c6c25930",
      "id" : "310000091"
    },
    {
      "hash" : "0xc7c987065caa23df0034f13352590f1a6b5ad3a4a86ca7791532d64f90cf2cf2",
      "id" : "310000068"
    },
    {
      "hash" : "0x7632eb7e51bcd71f55a36d6dd772d6d0db442dcae841c94dd754973a5e2527d3",
      "id" : "310000055"
    },
    {
      "hash" : "0x1aa2b7138074c50a5924aee342292c7378bbd83baa3dbcd94d6f61d8f2e46996",
      "id" : "310000008"
    },
    {
      "hash" : "0xd00dfdd27e7db255ffa63a8edb9722434a9b2d3b4567c9938b9eb0f860e4c516",
      "id" : "310000029"
    },
    {
      "hash" : "0x5147b7685b036ed0a83bf367910d0e762caf403547b83f2a2b99e45e02317a2d",
      "id" : "310000088"
    },
    {
      "hash" : "0x9e60146f55fd115521b80b424355410b7764c4e76326a8d317251eed694000ee",
      "id" : "310000071"
    },
    {
      "hash" : "0xd2a9913b0c6228c6cfbbfcb128500d0986502fd636786a38bc006a262a15813d",
      "id" : "310000090"
    },
    {
      "hash" : "0x63f97e32592974d2a0e9fce7d2d367a1c28361be0655827578bcd26b759ab716",
      "id" : "310000081"
    },
    {
      "hash" : "0x9815d62e6699bd720daa4f54ab969ecef4279e500a55712305a4e5dca0a9ef1f",
      "id" : "310000099"
    },
    {
      "hash" : "0xbe8433b7965aed3107163981bc36acd72443b083923b66b3ade56109bf7f4cc7",
      "id" : "310000017"
    },
    {
      "hash" : "0x18ad13f4a8d4c14a62b846fb8c871870e747cd5aca5e4971e5c359020cfab4c5",
      "id" : "310000044"
    },
    {
      "hash" : "0x5abef496b2acb5580d57e6c77a09aa5f0cc55a939e7a9dd6ba03bb5efae79161",
      "id" : "310000040"
    },
    {
      "hash" : "0x7a7c5bd874929346f25a715f8105aa542372ac16086b3c0311846e34f23ea01f",
      "id" : "310000073"
    },
    {
      "hash" : "0x871b4a6fe4b912d4257da72455999ee44cf7b3f2be1da0ecec4cf56625007897",
      "id" : "310000069"
    },
    {
      "hash" : "0x1338d8ce25d8d6a5c401a06005fd955564ac042eace30e7fbf2a4022ac467d9b",
      "id" : "310000096"
    },
    {
      "hash" : "0xa1dca312a30f7f3ac26b7d86a08be130bfb447cfdce802cc1785c912c772ca71",
      "id" : "310000078"
    },
    {
      "hash" : "0xc5925d25948068a6b9398c4bfde0e3c7d0ff97755bbdcc6e9c4e1178f42ac0ad",
      "id" : "310000082"
    },
    {
      "hash" : "0xdec05cfce09c3be8627b59d41a037bbf5a869219d387f7cc21e65c7361d9e03f",
      "id" : "310000065"
    },
    {
      "hash" : "0x6e937174a0a801df2e66a4768780542c988421c14bda2171a13c73729133e30c",
      "id" : "310000022"
    },
    {
      "hash" : "0xae024c5d1a27f102c1a59aeb735b0c8fa483ca824944662e658c833a1f60d435",
      "id" : "310000027"
    },
    {
      "hash" : "0x6dcf9ec6cd50ade3d38f2cf049472ffb9e98040a1867fc94fbf3432662b321ba",
      "id" : "310000012"
    },
    {
      "hash" : "0x0bdb4be2593f754d696325cbb364f6e569092daf098fe29401e1648e66e96bc8",
      "id" : "310000014"
    },
    {
      "hash" : "0xd7725e9c50acad1a0cda6743eede5c20191979b1068f5bd29cb2b23da3827bb7",
      "id" : "310000021"
    },
    {
      "hash" : "0xb4de5686d98a4f509b8d34c775de1f02279aface4d8b5c091f4fef76c9a74392",
      "id" : "310000052"
    },
    {
      "hash" : "0x3bc7470f66770d1dd28fa4edd3ee7354cf18b32714c116d2a7e3f204ed4dcb9b",
      "id" : "310000087"
    },
    {
      "hash" : "0x5b91d05cef55ea806bddee4986bd339de8d6c14dd4eabe35f2d7ec29b3da07fb",
      "id" : "310000092"
    },
    {
      "hash" : "0x50435dee8552d607f9fc479771c6b0205f50e4bd21f219e4e78c951aa809d7d7",
      "id" : "310000001"
    },
    {
      "hash" : "0x29954e31774edecb76ce7244e66705979a4d8b7e7fc427aa39229adf83e6f767",
      "id" : "310000097"
    },
    {
      "hash" : "0x2e248e463c3e930e105bdbb3bf087e340b16732debdd18247eeec4f6de441c65",
      "id" : "310000009"
    },
    {
      "hash" : "0x4944706745932981c5bc641ae39450daf781beec8542b080f0505058464719ef",
      "id" : "310000098"
    },
    {
      "hash" : "0x284344bf3d9ccf44ed011f9aeb0a645aea194deeeb1115aa6612d4d46f78b34d",
      "id" : "310000076"
    },
    {
      "hash" : "0x600296bda6ae8d36e606789ea01459473eda4f91e5f4f5576dfa819d8f05cdd8",
      "id" : "310000077"
    },
    {
      "hash" : "0x2ebb39f8fb0766d2fad7fe7b80b6882cdff0ddfc22b6a485d754424511f875b1",
      "id" : "310000056"
    },
    {
      "hash" : "0x5860973b0bdbde4fd685c5cc25a6cbdf6a03023357e82fb7eb20086fac41cfe0",
      "id" : "310000028"
    },
    {
      "hash" : "0x481af613421731eefc19a5b29c207ff4effc37af953a22f8b663e97b900bd760",
      "id" : "310000037"
    },
    {
      "hash" : "0x8492c2f840afc3cc79f91f841d07882ff41d95c91d4bb66347394374751175f0",
      "id" : "310000086"
    },
    {
      "hash" : "0xd5c7e8e11a72b12938ab25b7cf52a5072dfb0171fec6a801e6d61b946ebb802a",
      "id" : "310000060"
    },
    {
      "hash" : "0x6f463e955f65038924be8042bf8e5e674076b616efb29710a1127460e35b586c",
      "id" : "310000061"
    },
    {
      "hash" : "0x5ad3387c55940b7bd5737bccaa019d2f65cedaced04ead636c5a70376d3ae846",
      "id" : "310000063"
    },
    {
      "hash" : "0x3d0bb1a452afd17b6613c07372d608ccf27ca50eed5435859fd3903507a98f39",
      "id" : "310000083"
    },
    {
      "hash" : "0x6ba83064a0752f61966c572ac7b97539c9d6fc95d218625602c91d953101b5e9",
      "id" : "310000010"
    },
    {
      "hash" : "0xc32da63376853066519e6b4e197efd59dbd5463934ee791b97fabbd5b57cc8b3",
      "id" : "310000011"
    },
    {
      "hash" : "0x41a68d60bdd3b359793278eb7ca4af720706f9f941205045a2df891eea66a0a3",
      "id" : "310000003"
    },
    {
      "hash" : "0x59efcf2df2ceed76dec6d78a1c27336870aff869e88c7202c47f92a11855847a",
      "id" : "310000048"
    },
    {
      "hash" : "0xdba71ce56574b85bb21f6ef0d533d58f009ecd51b50b6247cbb81fe72ddc872e",
      "id" : "310000018"
    },
    {
      "hash" : "0xab339c7d68596889ed4be2f7859081175cf9a62eee854844d24c52b831a7254e",
      "id" : "310000030"
    },
    {
      "hash" : "0xa73d4e338fc543d99e2144528f8c695cbe99008af8b545688c71a3dad5b2fcda",
      "id" : "310000031"
    },
    {
      "hash" : "0xd763b863f60a059f6d695e0886db4c9b9c3c2f399c9af31e101c8ff1d75a42b9",
      "id" : "310000000"
    },
    {
      "hash" : "0xb19dba8d8461db73512beae9bb5009f24a6e55748f88345d3af1632da7515d15",
      "id" : "310000013"
    },
    {
      "hash" : "0x30ad255caefa057483491e1fa291a1a98d26ae0bdccd66ab3f95cee3cfc35119",
      "id" : "310000005"
    },
    {
      "hash" : "0xdfab082c1b4a0634baf42e96ac43351a1761a0433a64b011ceabd64eb14facb7",
      "id" : "310000080"
    },
    {
      "hash" : "0x84ca0c6e082978ce50b8bbb830ef980f4bb6ca0f760e028b68160c9cda9fed79",
      "id" : "310000002"
    },
    {
      "hash" : "0x06f0b081bac0e0ef8a4e1bdfa486161bd9e87e63362f053beb87915d198b0fe5",
      "id" : "310000053"
    },
    {
      "hash" : "0x6b25b3f6392467da6f16d679fc81d719a0b7d4235531d24a4a7a4e4460c247fc",
      "id" : "310000093"
    },
    {
      "hash" : "0x5a84ca1219de932af6b0573334f33eda33fc640a71b139b1395acf15f46c276f",
      "id" : "310000057"
    },
    {
      "hash" : "0x6d248851d750a8f125c65a7dbfb6e70b0a1b30f86e4cbc8ef659ed8389a1d53e",
      "id" : "310000064"
    },
    {
      "hash" : "0x29d83c2654b3c5ef1094ccbbde42912c69f98c40a832a4da0be70f80cdf63042",
      "id" : "310000025"
    },
    {
      "hash" : "0x9f14213236aedcbb4e6f71a221aec896d9137c790abb4fa66ff9c4fb9efc2e9a",
      "id" : "310000038"
    },
    {
      "hash" : "0x973ab25a5bc7d97d599b2b1c54f899753b057e8e38a79aac982a0369cbcb05c7",
      "id" : "310000042"
    },
    {
      "hash" : "0x06531a45d3dd762ad3cbe7b93a15756c0c8a5897605a642ad2dda2f6daff7f43",
      "id" : "310000067"
    },
    {
      "hash" : "0x0a663895e742f18f2a40f7824b5283cbefb60f2e8211505d344dc944e7bac38c",
      "id" : "310000036"
    },
    {
      "hash" : "0x15d8f38d44aa61f3009d7e33707b75dfb2f80a80c973e43f5bdc2266dd8bebf4",
      "id" : "310000020"
    },
    {
      "hash" : "0x91d3f08c28b690bcf37fc139400cd919ff145a67e0389f7e4c7e72ab8629f1d1",
      "id" : "310000043"
    },
    {
      "hash" : "0x1771362a44a592a7a6f442df46e8f6730cf831b238d1272518d1c08189b8923b",
      "id" : "310000094"
    }
  ]
}