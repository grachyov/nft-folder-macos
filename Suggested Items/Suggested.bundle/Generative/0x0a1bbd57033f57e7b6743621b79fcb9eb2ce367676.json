{
  "contractAddress" : "0x0a1bbd57033f57e7b6743621b79fcb9eb2ce3676",
  "kind" : "js",
  "projectId" : "76",
  "script" : "const Vr=[];function pr(){requestAnimationFrame(pr);for(const r of Vr)r()}pr();class R{constructor(){this._entities=[]}add(t){this._entities.push(t)}remove(t){const e=this._entities.indexOf(t);e!==-1&&this._entities.splice(e,1)}dispatch(...t){for(const e of this._entities)e(...t)}}const u={screen:{width:0,height:0},size:{width:2160,height:3840},dpr:1,sketch:null,renderer:null,gl:null,onRender:new R,rand:Math.random};class ie{constructor(){this.useA=!1;let t=function(e){let s=parseInt(e.substr(0,8),16),i=parseInt(e.substr(8,8),16),n=parseInt(e.substr(16,8),16),a=parseInt(e.substr(24,8),16);return function(){s|=0,i|=0,n|=0,a|=0;let l=(s+i|0)+a|0;return a=a+1|0,s=i^i>>>9,i=n+(n<<3)|0,n=n<<21|n>>>11,n=n+l|0,(l>>>0)\/4294967296}};this.prngA=new t(tokenData.hash.substr(2,32)),this.prngB=new t(tokenData.hash.substr(34,32));for(let e=0;e<1e6;e+=2)this.prngA(),this.prngB()}random_dec=()=>(this.useA=!this.useA,this.useA?this.prngA():this.prngB());random_num=(t,e)=>t+(e-t)*this.random_dec();random_int=(t,e)=>Math.floor(this.random_num(t,e+1));random_bool=t=>this.random_dec()<t;random_choice=t=>t[this.random_int(0,t.length-1)]}function Fr(r=null){window.tokenData||(window.genTokenData=function(s){let i={},n=\"0x\";for(var a=0;a<64;a++)n+=Math.floor(Math.random()*16).toString(16);return i.hash=n,i.tokenId=(s*1e6+Math.floor(Math.random()*1e3)).toString(),i},window.tokenData=genTokenData(123),r&&(tokenData.hash=r));const t=new ie(tokenData);u.rand=t.random_dec}function Rr(){const r=genTokenData(3122021);r.hash=\"0xs03122021m13021990z\";const t=new ie(r);u.prerand=t.random_dec}function fr(){const r=new ie(tokenData);u.rand=r.random_dec}function Ur(r){tokenData.hash=r,fr()}function Nr(){tokenData=genTokenData(123)}const Ir={init:Fr,reset:fr,setHash:Ur,generateNewHash:Nr,createPrerand:Rr};function $r(r,t){return r[0]=t[0],r[1]=t[1],r[2]=t[2],r}function Hr(r,t,e,s){return r[0]=t,r[1]=e,r[2]=s,r}class V extends Array{constructor(t=0,e=t,s=t){return super(t,e,s),this}get x(){return this[0]}get y(){return this[1]}get z(){return this[2]}set x(t){this[0]=t}set y(t){this[1]=t}set z(t){this[2]=t}set(t,e=t,s=t){return t.length?this.copy(t):(Hr(this,t,e,s),this)}copy(t){return $r(this,t),this}}new V;let Or=1,Wr=1,be=!1;class ne{constructor(t,e={}){t.canvas||console.error(\"gl not passed as first argument to Geometry\"),this.gl=t,this.attributes=e,this.id=Or++,this.VAOs={},this.drawRange={start:0,count:0},this.instancedCount=0,this.gl.renderer.bindVertexArray(null),this.gl.renderer.currentGeometry=null,this.glState=this.gl.renderer.state;for(let s in e)this.addAttribute(s,e[s])}addAttribute(t,e){this.attributes[t]=e,e.id=Wr++,e.size=e.size||1,e.type=e.type||(e.data.constructor===Float32Array?this.gl.FLOAT:e.data.constructor===Uint16Array?this.gl.UNSIGNED_SHORT:this.gl.UNSIGNED_INT),e.target=t===\"index\"?this.gl.ELEMENT_ARRAY_BUFFER:this.gl.ARRAY_BUFFER,e.normalized=e.normalized||!1,e.stride=e.stride||0,e.offset=e.offset||0,e.count=e.count||(e.stride?e.data.byteLength\/e.stride:e.data.length\/e.size),e.divisor=e.instanced||0,e.needsUpdate=!1,e.usage=e.usage||this.gl.STATIC_DRAW,e.buffer||this.updateAttribute(e),this.drawRange.count=Math.max(this.drawRange.count,e.count)}updateAttribute(t){const e=!t.buffer;e&&(t.buffer=this.gl.createBuffer()),this.glState.boundBuffer!==t.buffer&&(this.gl.bindBuffer(t.target,t.buffer),this.glState.boundBuffer=t.buffer),e?this.gl.bufferData(t.target,t.data,t.usage):this.gl.bufferSubData(t.target,0,t.data),t.needsUpdate=!1}setIndex(t){this.addAttribute(\"index\",t)}setDrawRange(t,e){this.drawRange.start=t,this.drawRange.count=e}setInstancedCount(t){this.instancedCount=t}createVAO(t){this.VAOs[t.attributeOrder]=this.gl.renderer.createVertexArray(),this.gl.renderer.bindVertexArray(this.VAOs[t.attributeOrder]),this.bindAttributes(t)}bindAttributes(t){t.attributeLocations.forEach((e,{name:s,type:i})=>{if(!this.attributes[s]){console.warn(`active attribute ${s} not being supplied`);return}const n=this.attributes[s];this.gl.bindBuffer(n.target,n.buffer),this.glState.boundBuffer=n.buffer;let a=1;i===35674&&(a=2),i===35675&&(a=3),i===35676&&(a=4);const l=n.size\/a,h=a===1?0:a*a*4,c=a===1?0:a*4;for(let _=0;_<a;_++)this.gl.vertexAttribPointer(e+_,l,n.type,n.normalized,n.stride+h,n.offset+_*c),this.gl.enableVertexAttribArray(e+_),this.gl.renderer.vertexAttribDivisor(e+_,n.divisor)}),this.attributes.index&&this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,this.attributes.index.buffer)}draw({_pr:t,mode:e=this.gl.TRIANGLES}){this.gl.renderer.currentGeometry!==`${this.id}_${t.attributeOrder}`&&(this.VAOs[t.attributeOrder]||this.createVAO(t),this.gl.renderer.bindVertexArray(this.VAOs[t.attributeOrder]),this.gl.renderer.currentGeometry=`${this.id}_${t.attributeOrder}`),t.attributeLocations.forEach((i,{name:n})=>{const a=this.attributes[n];a.needsUpdate&&this.updateAttribute(a)});let s=2;this.attributes.index?.type===this.gl.UNSIGNED_INT&&(s=4),this.attributes.index?this.gl.drawElements(e,this.drawRange.count,this.attributes.index.type,this.attributes.index.offset+this.drawRange.start*s):this.gl.drawArrays(e,this.drawRange.start,this.drawRange.count)}getPosition(){const t=this.attributes.position;if(t.data)return t;if(!be)return be=!0}remove(){for(let t in this.VAOs)this.gl.renderer.deleteVertexArray(this.VAOs[t]),delete this.VAOs[t];for(let t in this.attributes)this.gl.deleteBuffer(this.attributes[t].buffer),delete this.attributes[t]}}let Gr=1;const me={};class wt{constructor(t,{vertex:e,fragment:s,UNF:i={},transparent:n=!1,cullFace:a=t.BACK,frontFace:l=t.CCW,depthTest:h=!0,depthWrite:c=!0,depthFunc:_=t.LESS}={}){t.canvas||console.error(\"gl not passed as first argument to Program\"),this.gl=t,this.UNF=i,this.id=Gr++,e||console.warn(\"vertex shader not supplied\"),s||console.warn(\"fragment shader not supplied\"),this.transparent=n,this.cullFace=a,this.frontFace=l,this.depthTest=h,this.depthWrite=c,this.depthFunc=_,this.blendFunc={},this.blendEquation={},this.transparent&&!this.blendFunc.src&&(this.gl.renderer.premultipliedAlpha?this.setBlendFunc(this.gl.ONE,this.gl.ONE_MINUS_SRC_ALPHA):this.setBlendFunc(this.gl.SRC_ALPHA,this.gl.ONE_MINUS_SRC_ALPHA));const v=t.createShader(t.VERTEX_SHADER);t.shaderSource(v,e),t.compileShader(v),t.getShaderInfoLog(v)!==\"\"&&console.warn(`${t.getShaderInfoLog(v)}\r\nVertex Shader\r\n${xe(e)}`);const f=t.createShader(t.FRAGMENT_SHADER);if(t.shaderSource(f,s),t.compileShader(f),t.getShaderInfoLog(f)!==\"\"&&console.warn(`${t.getShaderInfoLog(f)}\r\nFragment Shader\r\n${xe(s)}`),this._pr=t.createProgram(),t.attachShader(this._pr,v),t.attachShader(this._pr,f),t.linkProgram(this._pr),!t.getProgramParameter(this._pr,t.LINK_STATUS))return console.warn(t.getProgramInfoLog(this._pr));t.deleteShader(v),t.deleteShader(f),this.uniformLocations=new Map;let A=t.getProgramParameter(this._pr,t.ACTIVE_UNIFORMS);for(let g=0;g<A;g++){let p=t.getActiveUniform(this._pr,g);this.uniformLocations.set(p,t.getUniformLocation(this._pr,p.name));const m=p.name.match(\/(\\w+)\/g);p.uniformName=m[0],m.length===3?(p.isStructArray=!0,p.structIndex=Number(m[1]),p.structProperty=m[2]):m.length===2&&isNaN(Number(m[1]))&&(p.isStruct=!0,p.structProperty=m[1])}this.attributeLocations=new Map;const b=[],C=t.getProgramParameter(this._pr,t.ACTIVE_ATTRIBUTES);for(let g=0;g<C;g++){const p=t.getActiveAttrib(this._pr,g),m=t.getAttribLocation(this._pr,p.name);m!==-1&&(b[m]=p.name,this.attributeLocations.set(p,m))}this.attributeOrder=b.join(\"\")}setBlendFunc(t,e,s,i){this.blendFunc.src=t,this.blendFunc.dst=e,this.blendFunc.srcAlpha=s,this.blendFunc.dstAlpha=i,t&&(this.transparent=!0)}setBlendEquation(t,e){this.blendEquation.modeRGB=t,this.blendEquation.modeAlpha=e}applyState(){this.depthTest?this.gl.renderer.enable(this.gl.DEPTH_TEST):this.gl.renderer.disable(this.gl.DEPTH_TEST),this.cullFace?this.gl.renderer.enable(this.gl.CULL_FACE):this.gl.renderer.disable(this.gl.CULL_FACE),this.blendFunc.src?this.gl.renderer.enable(this.gl.BLEND):this.gl.renderer.disable(this.gl.BLEND),this.cullFace&&this.gl.renderer.setCullFace(this.cullFace),this.gl.renderer.setFrontFace(this.frontFace),this.gl.renderer.setDepthMask(this.depthWrite),this.gl.renderer.setDepthFunc(this.depthFunc),this.blendFunc.src&&this.gl.renderer.setBlendFunc(this.blendFunc.src,this.blendFunc.dst,this.blendFunc.srcAlpha,this.blendFunc.dstAlpha),this.gl.renderer.setBlendEquation(this.blendEquation.modeRGB,this.blendEquation.modeAlpha)}use({flipFaces:t=!1}={}){let e=-1;this.gl.renderer.state.currentProgram===this.id||(this.gl.useProgram(this._pr),this.gl.renderer.state.currentProgram=this.id),this.uniformLocations.forEach((i,n)=>{let a=n.uniformName,l=this.UNF[a];if(l.value.texture)return e=e+1,l.value.update(e),ee(this.gl,n.type,i,e);if(l.value.length&&l.value[0].texture){const h=[];return l.value.forEach(c=>{e=e+1,c.update(e),h.push(e)}),ee(this.gl,n.type,i,h)}ee(this.gl,n.type,i,l.value)}),this.applyState(),t&&this.gl.renderer.setFrontFace(this.frontFace===this.gl.CCW?this.gl.CW:this.gl.CCW)}remove(){this.gl.deleteProgram(this._pr)}}function ee(r,t,e,s){s=s.length?jr(s):s;const i=r.renderer.state.uniformLocations.get(e);if(s.length)if(i===void 0||i.length!==s.length)r.renderer.state.uniformLocations.set(e,s.slice(0));else{if(qr(i,s))return;i.set?i.set(s):Kr(i,s),r.renderer.state.uniformLocations.set(e,i)}else{if(i===s)return;r.renderer.state.uniformLocations.set(e,s)}switch(t){case 5126:return s.length?r.uniform1fv(e,s):r.uniform1f(e,s);case 35664:return r.uniform2fv(e,s);case 35665:return r.uniform3fv(e,s);case 35666:return r.uniform4fv(e,s);case 35670:case 5124:case 35678:case 35680:return s.length?r.uniform1iv(e,s):r.uniform1i(e,s);case 35671:case 35667:return r.uniform2iv(e,s);case 35672:case 35668:return r.uniform3iv(e,s);case 35673:case 35669:return r.uniform4iv(e,s);case 35674:return r.uniformMatrix2fv(e,!1,s);case 35675:return r.uniformMatrix3fv(e,!1,s);case 35676:return r.uniformMatrix4fv(e,!1,s)}}function xe(r){let t=r.split(`\r\n`);for(let e=0;e<t.length;e++)t[e]=e+1+\": \"+t[e];return t.join(`\r\n`)}function jr(r){const t=r.length,e=r[0].length;if(e===void 0)return r;const s=t*e;let i=me[s];i||(me[s]=i=new Float32Array(s));for(let n=0;n<t;n++)i.set(r[n],n*e);return i}function qr(r,t){if(r.length!==t.length)return!1;for(let e=0,s=r.length;e<s;e++)if(r[e]!==t[e])return!1;return!0}function Kr(r,t){for(let e=0,s=r.length;e<s;e++)r[e]=t[e]}new V;let Xr=1;class Yr{constructor({canvas:t=document.createElement(\"canvas\"),width:e=300,height:s=150,dpr:i=1,alpha:n=!1,depth:a=!0,stencil:l=!1,antialias:h=!1,premultipliedAlpha:c=!1,preserveDrawingBuffer:_=!1,powerPreference:v=\"default\",autoClear:f=!0,webgl:A=2}={}){const b={alpha:n,depth:a,stencil:l,antialias:h,premultipliedAlpha:c,preserveDrawingBuffer:_,powerPreference:v};this.dpr=i,this.alpha=n,this.color=!0,this.depth=a,this.stencil=l,this.premultipliedAlpha=c,this.autoClear=f,this.id=Xr++,A===2&&(this.gl=t.getContext(\"webgl2\",b)),this.isWebgl2=!!this.gl,this.gl||(this.gl=t.getContext(\"webgl\",b)),this.gl||console.error(\"unable to create webgl context\"),this.gl.renderer=this,this.setSize(e,s),this.state={},this.state.blendFunc={src:this.gl.ONE,dst:this.gl.ZERO},this.state.blendEquation={modeRGB:this.gl.FUNC_ADD},this.state.cullFace=null,this.state.frontFace=this.gl.CCW,this.state.depthMask=!0,this.state.depthFunc=this.gl.LESS,this.state.premultiplyAlpha=!1,this.state.flipY=!1,this.state.unpackAlignment=4,this.state.framebuffer=null,this.state.viewport={x:0,y:0,width:null,height:null},this.state.textureUnits=[],this.state.activeTextureUnit=0,this.state.boundBuffer=null,this.state.uniformLocations=new Map,this.state.currentProgram=null,this.extensions={},this.isWebgl2&&(this.getExtension(\"EXT_color_buffer_float\"),this.getExtension(\"OES_texture_float_linear\")),this.vertexAttribDivisor=this.getExtension(\"ANGLE_instanced_arrays\",\"vertexAttribDivisor\",\"vertexAttribDivisorANGLE\"),this.drawArraysInstanced=this.getExtension(\"ANGLE_instanced_arrays\",\"drawArraysInstanced\",\"drawArraysInstancedANGLE\"),this.drawElementsInstanced=this.getExtension(\"ANGLE_instanced_arrays\",\"drawElementsInstanced\",\"drawElementsInstancedANGLE\"),this.createVertexArray=this.getExtension(\"OES_vertex_array_object\",\"createVertexArray\",\"createVertexArrayOES\"),this.bindVertexArray=this.getExtension(\"OES_vertex_array_object\",\"bindVertexArray\",\"bindVertexArrayOES\"),this.deleteVertexArray=this.getExtension(\"OES_vertex_array_object\",\"deleteVertexArray\",\"deleteVertexArrayOES\"),this.drawBuffers=this.getExtension(\"WEBGL_draw_buffers\",\"drawBuffers\",\"drawBuffersWEBGL\"),this.parameters={},this.parameters.maxTextureUnits=this.gl.getParameter(this.gl.MAX_COMBINED_TEXTURE_IMAGE_UNITS),this.parameters.maxAnisotropy=this.getExtension(\"EXT_texture_filter_anisotropic\")?this.gl.getParameter(this.getExtension(\"EXT_texture_filter_anisotropic\").MAX_TEXTURE_MAX_ANISOTROPY_EXT):0}setSize(t,e){this.width=t,this.height=e,this.gl.canvas.width=t*this.dpr,this.gl.canvas.height=e*this.dpr,this.gl.canvas.style&&Object.assign(this.gl.canvas.style,{width:t+\"px\",height:e+\"px\"})}setViewport(t,e,s=0,i=0){this.state.viewport.width===t&&this.state.viewport.height===e||(this.state.viewport.width=t,this.state.viewport.height=e,this.state.viewport.x=s,this.state.viewport.y=i,this.gl.viewport(s,i,t,e))}setScissor(t,e,s=0,i=0){this.gl.scissor(s,i,t,e)}enable(t){this.state[t]!==!0&&(this.gl.enable(t),this.state[t]=!0)}disable(t){this.state[t]!==!1&&(this.gl.disable(t),this.state[t]=!1)}setBlendFunc(t,e,s,i){this.state.blendFunc.src===t&&this.state.blendFunc.dst===e&&this.state.blendFunc.srcAlpha===s&&this.state.blendFunc.dstAlpha===i||(this.state.blendFunc.src=t,this.state.blendFunc.dst=e,this.state.blendFunc.srcAlpha=s,this.state.blendFunc.dstAlpha=i,s!==void 0?this.gl.blendFuncSeparate(t,e,s,i):this.gl.blendFunc(t,e))}setBlendEquation(t,e){t=t||this.gl.FUNC_ADD,!(this.state.blendEquation.modeRGB===t&&this.state.blendEquation.modeAlpha===e)&&(this.state.blendEquation.modeRGB=t,this.state.blendEquation.modeAlpha=e,e!==void 0?this.gl.blendEquationSeparate(t,e):this.gl.blendEquation(t))}setCullFace(t){this.state.cullFace!==t&&(this.state.cullFace=t,this.gl.cullFace(t))}setFrontFace(t){this.state.frontFace!==t&&(this.state.frontFace=t,this.gl.frontFace(t))}setDepthMask(t){this.state.depthMask!==t&&(this.state.depthMask=t,this.gl.depthMask(t))}setDepthFunc(t){this.state.depthFunc!==t&&(this.state.depthFunc=t,this.gl.depthFunc(t))}activeTexture(t){this.state.activeTextureUnit!==t&&(this.state.activeTextureUnit=t,this.gl.activeTexture(this.gl.TEXTURE0+t))}bindFramebuffer({target:t=this.gl.FRAMEBUFFER,buffer:e=null}={}){this.state.framebuffer!==e&&(this.state.framebuffer=e,this.gl.bindFramebuffer(t,e))}getExtension(t,e,s){return e&&this.gl[e]?this.gl[e].bind(this.gl):(this.extensions[t]||(this.extensions[t]=this.gl.getExtension(t)),e?this.extensions[t]?this.extensions[t][s].bind(this.extensions[t]):null:this.extensions[t])}getRenderList({scene:t,camera:e,frustumCull:s,sort:i}){let n=[];return t.traverse(a=>{if(!a.visible)return!0;a.draw&&n.push(a)}),n}render({scene:t,camera:e,target:s=null,update:i=!0,sort:n=!0,frustumCull:a=!0,clear:l}){s===null?(this.bindFramebuffer(),this.setViewport(this.width*this.dpr,this.height*this.dpr)):(this.bindFramebuffer(s),this.setViewport(s.width,s.height)),(l||this.autoClear&&l!==!1)&&(this.depth&&(!s||s.depth)&&(this.enable(this.gl.DEPTH_TEST),this.setDepthMask(!0)),this.gl.clear((this.color?this.gl.COLOR_BUFFER_BIT:0)|(this.depth?this.gl.DEPTH_BUFFER_BIT:0)|(this.stencil?this.gl.STENCIL_BUFFER_BIT:0))),i&&t.updateMatrixWorld(),e&&e.updateMatrixWorld(),this.getRenderList({scene:t,camera:e,frustumCull:a,sort:n}).forEach(c=>{c.draw({camera:e})})}}class Zr extends Array{constructor(t=0,e=0,s=0,i=1){return super(t,e,s,i),this.och=()=>{},this}get x(){return this[0]}get y(){return this[1]}get z(){return this[2]}get w(){return this[3]}set x(t){this[0]=t,this.och()}set y(t){this[1]=t,this.och()}set z(t){this[2]=t,this.och()}set w(t){this[3]=t,this.och()}}function Qr(r,t,e,s,i){let n=1\/Math.tan(t\/2),a=1\/(s-i);return r[0]=n\/e,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=n,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=(i+s)*a,r[11]=-1,r[12]=0,r[13]=0,r[14]=2*i*s*a,r[15]=0,r}class H extends Array{constructor(t=1,e=0,s=0,i=0,n=0,a=1,l=0,h=0,c=0,_=0,v=1,f=0,A=0,b=0,C=0,g=1){return super(t,e,s,i,n,a,l,h,c,_,v,f,A,b,C,g),this}get x(){return this[12]}get y(){return this[13]}get z(){return this[14]}get w(){return this[15]}set x(t){this[12]=t}set y(t){this[13]=t}set z(t){this[14]=t}set w(t){this[15]=t}multiply(t,e){return this}identity(){}copy(t){return this}fromPerspective({fov:t,aspect:e,near:s,far:i}={}){return Qr(this,t,e,s,i),this}setPosition(t){return this.x=t[0],this.y=t[1],this.z=t[2],this}compose(t,e,s){return this}getRotation(t){return this}getTranslation(t){return this}getScaling(t){return this}}new H;class Jr extends Array{constructor(t=0,e=t,s=t,i=\"YXZ\"){return super(t,e,s),this.order=i,this.och=()=>{},this}get x(){return this[0]}get y(){return this[1]}get z(){return this[2]}set x(t){this[0]=t,this.och()}set y(t){this[1]=t,this.och()}set z(t){this[2]=t,this.och()}set(t,e=t,s=t){return t.length?this.copy(t):(this[0]=t,this[1]=e,this[2]=s,this.och(),this)}copy(t){return this[0]=t[0],this[1]=t[1],this[2]=t[2],this.och(),this}reorder(t){}fromRotationMatrix(t,e=this.order){}fromQuaternion(t,e=this.order){}fromArray(t,e=0){}toArray(t=[],e=0){}}class Zt{constructor(){this.parent=null,this.children=[],this.visible=!0,this.matrix=new H,this.WMX=new H,this.matrixAutoUpdate=!0,this.position=new V,this.quaternion=new Zr,this.scale=new V(1),this.rotation=new Jr,this.up=new V(0,1,0),this.rotation.och=()=>this.quaternion.fromEuler(this.rotation),this.quaternion.och=()=>this.rotation.fromQuaternion(this.quaternion)}setParent(t,e=!0){this.parent&&t!==this.parent&&this.parent.removeChild(this,!1),this.parent=t,e&&t&&t.addChild(this,!1)}addChild(t,e=!0){~this.children.indexOf(t)||this.children.push(t),e&&t.setParent(this,!1)}removeChild(t,e=!0){~this.children.indexOf(t)&&this.children.splice(this.children.indexOf(t),1),e&&t.setParent(null,!1)}updateMatrixWorld(t){this.matrixAutoUpdate&&this.updateMatrix(),(this.WMXNeedsUpdate||t)&&(this.parent===null?this.WMX.copy(this.matrix):this.WMX.multiply(this.parent.WMX,this.matrix),this.WMXNeedsUpdate=!1,t=!0);for(let e=0,s=this.children.length;e<s;e++)this.children[e].updateMatrixWorld(t)}updateMatrix(){this.matrix.compose(this.quaternion,this.position,this.scale),this.WMXNeedsUpdate=!0}traverse(t){if(!t(this))for(let e=0,s=this.children.length;e<s;e++)this.children[e].traverse(t)}lookAt(t,e=!1){this.matrix.getRotation(this.quaternion),this.rotation.fromQuaternion(this.quaternion)}}const ti=new H;class gr extends Zt{constructor(t,{near:e=.1,far:s=100,fov:i=45,aspect:n=1,left:a,right:l,bottom:h,top:c,zoom:_=1}={}){super(),Object.assign(this,{near:e,far:s,fov:i,aspect:n,left:a,right:l,bottom:h,top:c,zoom:_}),this.projectionMatrix=new H,this.viewMatrix=new H,this.projectionViewMatrix=new H,this.worldPosition=new V,this.type=\"perspective\",this.perspective()}perspective({near:t=this.near,far:e=this.far,fov:s=this.fov,aspect:i=this.aspect}={}){return Object.assign(this,{near:t,far:e,fov:s,aspect:i}),this.projectionMatrix.fromPerspective({fov:s*(Math.PI\/180),aspect:i,near:t,far:e}),this.type=\"perspective\",this}updateMatrixWorld(){return super.updateMatrixWorld(),this.WMX.getTranslation(this.worldPosition),this.projectionViewMatrix.multiply(this.projectionMatrix,this.viewMatrix),this}lookAt(t){return super.lookAt(t,!0),this}project(t){return t.applyMatrix4(this.viewMatrix),t.applyMatrix4(this.projectionMatrix),this}unproject(t){return t.applyMatrix4(ti.inverse(this.projectionMatrix)),t.applyMatrix4(this.WMX),this}}class ei extends Array{constructor(t=1,e=0,s=0,i=0,n=1,a=0,l=0,h=0,c=1){return super(t,e,s,i,n,a,l,h,c),this}set(t,e,s,i,n,a,l,h,c){return t.length?this.copy(t):this}translate(t,e=this){return this}rotate(t,e=this){return this}scale(t,e=this){return this}multiply(t,e){return this}identity(){return this}copy(t){return this}fromMatrix4(t){return this}fromQuaternion(t){return this}fromBasis(t,e,s){return this}inverse(t=this){return this}getNormalMatrix(t){return this}}let si=0;class yt extends Zt{constructor(t,{geometry:e,_pr:s,mode:i=t.TRIANGLES,frustumCulled:n=!0,renderOrder:a=0}={}){super(),t.canvas||console.error(\"gl not passed as first argument to Mesh\"),this.gl=t,this.id=si++,this.geometry=e,this._pr=s,this.mode=i,this.frustumCulled=n,this.renderOrder=a,this.modelViewMatrix=new H,this.normalMatrix=new ei}draw({camera:t}={}){t&&(this._pr.UNF.modelMatrix||Object.assign(this._pr.UNF,{modelMatrix:{value:null},viewMatrix:{value:null},modelViewMatrix:{value:null},normalMatrix:{value:null},projectionMatrix:{value:null},cameraPosition:{value:null}}),this._pr.UNF.projectionMatrix.value=t.projectionMatrix,this._pr.UNF.cameraPosition.value=t.worldPosition,this._pr.UNF.viewMatrix.value=t.viewMatrix,this.modelViewMatrix.multiply(t.viewMatrix,this.WMX),this.normalMatrix.getNormalMatrix(this.modelViewMatrix),this._pr.UNF.modelMatrix.value=this.WMX,this._pr.UNF.modelViewMatrix.value=this.modelViewMatrix,this._pr.UNF.normalMatrix.value=this.normalMatrix),this._pr.use(),this.geometry.draw({mode:this.mode,_pr:this._pr})}}const ri=new Uint8Array(4);let ii=1;class Qt{constructor(t,{image:e,target:s=t.TEXTURE_2D,type:i=t.UNSIGNED_BYTE,format:n=t.RGBA,internalFormat:a=n,wrapS:l=t.CLAMP_TO_EDGE,wrapT:h=t.CLAMP_TO_EDGE,generateMipmaps:c=!0,minFilter:_=c?t.NEAREST_MIPMAP_LINEAR:t.LINEAR,magFilter:v=t.LINEAR,premultiplyAlpha:f=!1,unpackAlignment:A=4,flipY:b=s==t.TEXTURE_2D,anisotropy:C=0,level:g=0,width:p,height:m=p}={}){this.gl=t,this.id=ii++,this.image=e,this.target=s,this.type=i,this.format=n,this.internalFormat=a,this.minFilter=_,this.magFilter=v,this.wrapS=l,this.wrapT=h,this.generateMipmaps=c,this.premultiplyAlpha=f,this.unpackAlignment=A,this.flipY=b,this.anisotropy=Math.min(C,this.gl.renderer.parameters.maxAnisotropy),this.level=g,this.width=p,this.height=m,this.texture=this.gl.createTexture(),this.store={image:null},this.glState=this.gl.renderer.state,this.state={},this.state.minFilter=this.gl.NEAREST_MIPMAP_LINEAR,this.state.magFilter=this.gl.LINEAR,this.state.wrapS=this.gl.REPEAT,this.state.wrapT=this.gl.REPEAT,this.state.anisotropy=0}bind(){this.glState.textureUnits[this.glState.activeTextureUnit]!==this.id&&(this.gl.bindTexture(this.target,this.texture),this.glState.textureUnits[this.glState.activeTextureUnit]=this.id)}update(t=0){const e=!(this.image===this.store.image&&!this.needsUpdate);(e||this.glState.textureUnits[t]!==this.id)&&(this.gl.renderer.activeTexture(t),this.bind()),e&&(this.needsUpdate=!1,this.flipY!==this.glState.flipY&&(this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,this.flipY),this.glState.flipY=this.flipY),this.premultiplyAlpha!==this.glState.premultiplyAlpha&&(this.gl.pixelStorei(this.gl.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this.premultiplyAlpha),this.glState.premultiplyAlpha=this.premultiplyAlpha),this.unpackAlignment!==this.glState.unpackAlignment&&(this.gl.pixelStorei(this.gl.UNPACK_ALIGNMENT,this.unpackAlignment),this.glState.unpackAlignment=this.unpackAlignment),this.minFilter!==this.state.minFilter&&(this.gl.texParameteri(this.target,this.gl.TEXTURE_MIN_FILTER,this.minFilter),this.state.minFilter=this.minFilter),this.magFilter!==this.state.magFilter&&(this.gl.texParameteri(this.target,this.gl.TEXTURE_MAG_FILTER,this.magFilter),this.state.magFilter=this.magFilter),this.wrapS!==this.state.wrapS&&(this.gl.texParameteri(this.target,this.gl.TEXTURE_WRAP_S,this.wrapS),this.state.wrapS=this.wrapS),this.wrapT!==this.state.wrapT&&(this.gl.texParameteri(this.target,this.gl.TEXTURE_WRAP_T,this.wrapT),this.state.wrapT=this.wrapT),this.image?(this.image.width&&(this.width=this.image.width,this.height=this.image.height),ArrayBuffer.isView(this.image)?this.gl.texImage2D(this.target,this.level,this.internalFormat,this.width,this.height,0,this.format,this.type,this.image):this.gl.texImage2D(this.target,this.level,this.internalFormat,this.format,this.type,this.image),this.onUpdate&&this.onUpdate()):this.width?this.gl.texImage2D(this.target,this.level,this.internalFormat,this.width,this.height,0,this.format,this.type,null):this.gl.texImage2D(this.target,0,this.gl.RGBA,1,1,0,this.gl.RGBA,this.gl.UNSIGNED_BYTE,ri),this.store.image=this.image)}}class se{constructor(t,{width:e=t.canvas.width,height:s=t.canvas.height,target:i=t.FRAMEBUFFER,color:n=1,depth:a=!0,stencil:l=!1,depthTexture:h=!1,wrapS:c=t.CLAMP_TO_EDGE,wrapT:_=t.CLAMP_TO_EDGE,minFilter:v=t.LINEAR,magFilter:f=v,type:A=t.UNSIGNED_BYTE,format:b=t.RGBA,internalFormat:C=b,unpackAlignment:g,premultiplyAlpha:p}={}){this.gl=t,this.width=e,this.height=s,this.depth=a,this.buffer=this.gl.createFramebuffer(),this.target=i,this.gl.renderer.bindFramebuffer(this),this.textures=[];const m=[];for(let P=0;P<n;P++)this.textures.push(new Qt(t,{width:e,height:s,wrapS:c,wrapT:_,minFilter:v,magFilter:f,type:A,format:b,internalFormat:C,unpackAlignment:g,premultiplyAlpha:p,flipY:!1,generateMipmaps:!1})),this.textures[P].update(),this.gl.framebufferTexture2D(this.target,this.gl.COLOR_ATTACHMENT0+P,this.gl.TEXTURE_2D,this.textures[P].texture,0),m.push(this.gl.COLOR_ATTACHMENT0+P);m.length>1&&this.gl.renderer.drawBuffers(m),this.texture=this.textures[0],this.gl.renderer.bindFramebuffer({target:this.target})}setSize(t,e){if(!(this.width===t&&this.height===e)){this.width=t,this.height=e,this.gl.renderer.bindFramebuffer(this);for(let s=0;s<this.textures.length;s++)this.textures[s].width=t,this.textures[s].height=e,this.textures[s].needsUpdate=!0,this.textures[s].update(),this.gl.framebufferTexture2D(this.target,this.gl.COLOR_ATTACHMENT0+s,this.gl.TEXTURE_2D,this.textures[s].texture,0);this.gl.renderer.bindFramebuffer({target:this.target})}}}const Ce={black:\"#000000\",white:\"#ffffff\"};function we(r){r.length===4&&(r=r[0]+r[1]+r[1]+r[2]+r[2]+r[3]+r[3]);const t=\/^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$\/i.exec(r);return[parseInt(t[1],16)\/255,parseInt(t[2],16)\/255,parseInt(t[3],16)\/255]}function ni(r){return r=parseInt(r),[(r>>16&255)\/255,(r>>8&255)\/255,(r&255)\/255]}function ye(r){return r===void 0?[0,0,0]:arguments.length===3?arguments:isNaN(r)?r[0]===\"#\"?we(r):Ce[r.toLowerCase()]?we(Ce[r.toLowerCase()]):[0,0,0]:ni(r)}class $ extends Array{constructor(t){return Array.isArray(t)?super(...t):super(...ye(...arguments))}get r(){return this[0]}get g(){return this[1]}get b(){return this[2]}set r(t){this[0]=t}set g(t){this[1]=t}set b(t){this[2]=t}set(t){return Array.isArray(t)?this.copy(t):this.copy(ye(...arguments))}copy(t){return this[0]=t[0],this[1]=t[1],this[2]=t[2],this}}function oi(r,t){return r[0]=t[0],r[1]=t[1],r}function ai(r,t,e){return r[0]=t,r[1]=e,r}class L extends Array{constructor(t=0,e=t){return super(t,e),this}get x(){return this[0]}get y(){return this[1]}set x(t){this[0]=t}set y(t){this[1]=t}set(t,e=t){return t.length?this.copy(t):(ai(this,t,e),this)}copy(t){return oi(this,t),this}}class At extends ne{constructor(t,{width:e=1,height:s=1,widthSegments:i=1,heightSegments:n=1,attributes:a={}}={}){const l=i,h=n,c=(l+1)*(h+1),_=l*h*6,v=new Float32Array(c*3),f=new Float32Array(c*3),A=new Float32Array(c*2),b=_>65536?new Uint32Array(_):new Uint16Array(_);At.buildPlane(v,f,A,b,e,s,0,l,h),Object.assign(a,{position:{size:3,data:v},normal:{size:3,data:f},uv:{size:2,data:A},index:{data:b}}),super(t,a)}static buildPlane(t,e,s,i,n,a,l,h,c,_=0,v=1,f=2,A=1,b=-1,C=0,g=0){const p=C,m=n\/h,P=a\/c;for(let k=0;k<=c;k++){let te=k*P-a\/2;for(let B=0;B<=h;B++,C++){let Pr=B*m-n\/2;if(t[C*3+_]=Pr*A,t[C*3+v]=te*b,t[C*3+f]=l\/2,e[C*3+_]=0,e[C*3+v]=0,e[C*3+f]=l>=0?1:-1,s[C*2]=B\/h,s[C*2+1]=1-k\/c,k===c||B===h)continue;let Tr=p+B+k*(h+1),fe=p+B+(k+1)*(h+1),Lr=p+B+(k+1)*(h+1)+1,ge=p+B+k*(h+1)+1;i[g*6]=Tr,i[g*6+1]=fe,i[g*6+2]=ge,i[g*6+3]=fe,i[g*6+4]=Lr,i[g*6+5]=ge,g++}}}}class li extends ne{constructor(t,{attributes:e={}}={}){Object.assign(e,{position:{size:2,data:new Float32Array([-1,-1,3,-1,-1,3])},uv:{size:2,data:new Float32Array([0,0,2,0,0,2])}}),super(t,e)}}class hi{constructor(t,{width:e,height:s,dpr:i,wrapS:n=t.CLAMP_TO_EDGE,wrapT:a=t.CLAMP_TO_EDGE,minFilter:l=t.LINEAR,magFilter:h=t.LINEAR,geometry:c=new li(t),targetOnly:_=null}={}){this.gl=t,this.options={wrapS:n,wrapT:a,minFilter:l,magFilter:h},this.passes=[],this.geometry=c,this.uniform={value:null},this.targetOnly=_;const v=this.fbo={read:null,write:null,swap:()=>{let f=v.read;v.read=v.write,v.write=f}};this.resize({width:e,height:s,dpr:i})}addPass({vertex:t=\"\",fragment:e=\"\",UNF:s={},textureUniform:i=\"tMap\",enabled:n=!0}={}){s[i]={value:this.fbo.read.texture};const a=new wt(this.gl,{vertex:t,fragment:e,UNF:s}),h={mesh:new yt(this.gl,{geometry:this.geometry,_pr:a}),_pr:a,UNF:s,enabled:n,textureUniform:i};return this.passes.push(h),h}resize({width:t,height:e,dpr:s}={}){s&&(this.dpr=s),t&&(this.width=t,this.height=e||t),s=this.dpr||this.gl.renderer.dpr,t=Math.floor((this.width||this.gl.renderer.width)*s),e=Math.floor((this.height||this.gl.renderer.height)*s),this.options.width=t,this.options.height=e,this.fbo.read=new se(this.gl,this.options),this.fbo.write=new se(this.gl,this.options)}render({scene:t,camera:e,texture:s,target:i=null,update:n=!0,sort:a=!0,frustumCull:l=!0,beforePostCallbacks:h}){const c=this.passes.filter(_=>_.enabled);s||(this.gl.renderer.render({scene:t,camera:e,target:c.length||!i&&this.targetOnly?this.fbo.write:i,update:n,sort:a,frustumCull:l}),this.fbo.swap(),h&&h.forEach(_=>_&&_())),c.forEach((_,v)=>{_.mesh._pr.UNF[_.textureUniform].value=!v&&s?s:this.fbo.read.texture,this.gl.renderer.render({scene:_.mesh,target:v===c.length-1&&(i||!this.targetOnly)?i:this.fbo.write,clear:!0}),this.fbo.swap()}),this.uniform.value=this.fbo.read.texture}}var ui=\"_m4 bmx(_f b){return _m4(1,0,0,0,0,1,0,0,0,0,1,0,b,b,b,1);}_v3 brn(_v3 c,_f v){return c+v;}\",ci=\"_m4 ctmx(_f contrast){_f t=(1.0-contrast)\/2.0;return _m4(contrast,0,0,0,0,contrast,0,0,0,0,contrast,0,t,t,t,1);}_v3 contrast(_v3 color,_f value){return 0.5+value*(color-0.5);}\",_i=\"_v3 hueshift(_v3 color,_f hue){const _v3 k=_v3(0.57735,0.57735,0.57735);_f cosAngle=cos(hue);return _v3(color*cosAngle+cross(k,color)*sin(hue)+k*dot(k,color)*(1.0-cosAngle));}_v3 hueshift2(_v3 color,_f shift){_v3 P=_v3(0.55735)*dot(_v3(0.55735),color);_v3 U=color-P;_v3 V=cross(_v3(0.55735),U);color=U*cos(shift*6.2832)+V*sin(shift*6.2832)+P;return color;}\",vi=\"_v3 saturation(_v3 rgb,_f adjustment){const _v3 W=_v3(0.2125,0.7154,0.0721);_v3 intensity=_v3(dot(rgb,W));return mix(intensity,rgb,adjustment);}_v3 saturation2(_v3 rgb,_f adjustment){const _v3 W=_v3(0.2125,0.7154,0.0721);_v3 intensity=_v3(dot(rgb,W));return mix(rgb,intensity,adjustment);}\",di=\"_f blOv(_f b,_f bl){return b<0.5 ?(2.0*b*bl):(1.0-2.0*(1.0-b)*(1.0-bl));}_v3 blOv(_v3 b,_v3 bl){return _v3(blOv(b.r,bl.r),blOv(b.g,bl.g),blOv(b.b,bl.b));}_v3 blOv(_v3 b,_v3 bl,_f o){return(blOv(b,bl)*o+b*(1.0-o));}_f blCB(_f b,_f bl){return(bl==0.0)? bl : max((1.0-((1.0-b)\/bl)),0.0);}_v3 blCB(_v3 b,_v3 bl){return _v3(blCB(b.r,bl.r),blCB(b.g,bl.g),blCB(b.b,bl.b));}_v3 blCB(_v3 b,_v3 bl,_f o){return(blCB(b,bl)*o+b*(1.0-o));}_f blCD(_f b,_f bl){return(bl==1.0)? bl : min(b\/(1.0-bl),1.0);}_v3 blCD(_v3 b,_v3 bl){return _v3(blCD(b.r,bl.r),blCD(b.g,bl.g),blCD(b.b,bl.b));}_v3 blCD(_v3 b,_v3 bl,_f o){return(blCD(b,bl)*o+b*(1.0-o));}_f blVL(_f b,_f bl){return(bl<0.5)? blCB(b,(2.0*bl)): blCD(b,(2.0*(bl-0.5)));}_v3 blVL(_v3 b,_v3 bl){return _v3(blVL(b.r,bl.r),blVL(b.g,bl.g),blVL(b.b,bl.b));}_v3 blVL(_v3 b,_v3 bl,_f o){return(blVL(b,bl)*o+b*(1.0-o));}_f blAdd(_f b,_f bl){return min(b+bl,1.0);}_v3 blAdd(_v3 b,_v3 bl){return min(b+bl,_v3(1.0));}_v3 blAdd(_v3 b,_v3 bl,_f o){return(blAdd(b,bl)*o+b*(1.0-o));}_v3 blav(_v3 b,_v3 bl){return(b+bl)\/2.0;}_v3 blav(_v3 b,_v3 bl,_f o){return(blav(b,bl)*o+b*(1.0-o));}_f blD(_f b,_f bl){return min(bl,b);}_v3 blD(_v3 b,_v3 bl){return _v3(blD(b.r,bl.r),blD(b.g,bl.g),blD(b.b,bl.b));}_v3 blD(_v3 b,_v3 bl,_f o){return(blD(b,bl)*o+b*(1.0-o));}_v3 blHL(_v3 b,_v3 bl){return blOv(bl,b);}_v3 blHL(_v3 b,_v3 bl,_f o){return(blHL(b,bl)*o+b*(1.0-o));}_f blHM(_f b,_f bl){return(blVL(b,bl)<0.5)? 0.0 : 1.0;}_v3 blHM(_v3 b,_v3 bl){return _v3(blHM(b.r,bl.r),blHM(b.g,bl.g),blHM(b.b,bl.b));}_v3 blHM(_v3 b,_v3 bl,_f o){return(blHM(b,bl)*o+b*(1.0-o));}_f blLi(_f b,_f bl){return max(bl,b);}_v3 blLi(_v3 b,_v3 bl){return _v3(blLi(b.r,bl.r),blLi(b.g,bl.g),blLi(b.b,bl.b));}_v3 blLi(_v3 b,_v3 bl,_f o){return(blLi(b,bl)*o+b*(1.0-o));}_f blLB(_f b,_f bl){return max(b+bl-1.0,0.0);}_v3 blLB(_v3 b,_v3 bl){return max(b+bl-_v3(1.0),_v3(0.0));}_v3 blLB(_v3 b,_v3 bl,_f o){return(blLB(b,bl)*o+b*(1.0-o));}_f blLD(_f b,_f bl){return min(b+bl,1.0);}_v3 blLD(_v3 b,_v3 bl){return min(b+bl,_v3(1.0));}_v3 blLD(_v3 b,_v3 bl,_f o){return(blLD(b,bl)*o+b*(1.0-o));}_f blll(_f b,_f bl){return bl<0.5 ? blLB(b,(2.0*bl)): blLD(b,(2.0*(bl-0.5)));}_v3 blll(_v3 b,_v3 bl){return _v3(blll(b.r,bl.r),blll(b.g,bl.g),blll(b.b,bl.b));}_v3 blll(_v3 b,_v3 bl,_f o){return(blll(b,bl)*o+b*(1.0-o));}_v3 blM(_v3 b,_v3 bl){return b*bl;}_v3 blM(_v3 b,_v3 bl,_f o){return(blM(b,bl)*o+b*(1.0-o));}_v3 blN(_v3 b,_v3 bl){return bl;}_v3 blN(_v3 b,_v3 bl,_f o){return(blN(b,bl)*o+b*(1.0-o));}_f blPL(_f b,_f bl){return(bl<0.5)? blD(b,(2.0*bl)): blLi(b,(2.0*(bl-0.5)));}_v3 blPL(_v3 b,_v3 bl){return _v3(blPL(b.r,bl.r),blPL(b.g,bl.g),blPL(b.b,bl.b));}_v3 blPL(_v3 b,_v3 bl,_f o){return(blPL(b,bl)*o+b*(1.0-o));}_f blSc(_f b,_f bl){return 1.0-((1.0-b)*(1.0-bl));}_v3 blSc(_v3 b,_v3 bl){return _v3(blSc(b.r,bl.r),blSc(b.g,bl.g),blSc(b.b,bl.b));}_v3 blSc(_v3 b,_v3 bl,_f o){return(blSc(b,bl)*o+b*(1.0-o));}_f blSL(_f b,_f bl){return(bl<0.5)?(2.0*b*bl+b*b*(1.0-2.0*bl)):(sqrt(b)*(2.0*bl-1.0)+2.0*b*(1.0-bl));}_v3 blSL(_v3 b,_v3 bl){return _v3(blSL(b.r,bl.r),blSL(b.g,bl.g),blSL(b.b,bl.b));}_v3 blSL(_v3 b,_v3 bl,_f o){return(blSL(b,bl)*o+b*(1.0-o));}_v3 blmd(_i mode,_v3 b,_v3 bl,_f o){if(mode==1){return blAdd(b,bl,o);}else if(mode==2){return blav(b,bl,o);}else if(mode==3){return blCB(b,bl,o);}else if(mode==4){return blCD(b,bl,o);}else if(mode==5){return blD(b,bl,o);}else if(mode==9){return blHL(b,bl,o);}else if(mode==10){return blHM(b,bl,o);}else if(mode==11){return blLi(b,bl,o);}else if(mode==12){return blLB(b,bl,o);}else if(mode==13){return blLD(b,bl,o);}else if(mode==14){return blll(b,bl,o);}else if(mode==15){return blM(b,bl,o);}else if(mode==17){return blN(b,bl,o);}else if(mode==18){return blOv(b,bl,o);}else if(mode==20){return blPL(b,bl,o);}else if(mode==22){return blSc(b,bl,o);}else if(mode==23){return blSL(b,bl,o);}else if(mode==25){return blVL(b,bl,o);}}\",pi=\"_v4 sharpen(in _s2 tex,in _v2 coords,in _v2 renderSize){_f dx=1.0\/renderSize.x;_f dy=1.0\/renderSize.y;_v4 sum=_v4(0.0);sum+=-1.*_t(tex,coords+_v2(-1.0*dx,0.0*dy));sum+=-1.*_t(tex,coords+_v2(0.0*dx,-1.0*dy));sum+=5.*_t(tex,coords+_v2(0.0*dx,0.0*dy));sum+=-1.*_t(tex,coords+_v2(0.0*dx,1.0*dy));sum+=-1.*_t(tex,coords+_v2(1.0*dx,0.0*dy));return sum;}\",fi=\"_v4 changeHSVForChannel(_v3 origin,_v3 channel,_v3 hsv,_f threshold){_v4 color=_v4(origin,0.);_v3 c1=rgb2hsv(origin);_v3 c2=rgb2hsv(channel);if(distance(c1,c2)<=threshold){color.rgb=hueshift2(color.rgb,hsv.x);color.rgb=saturation(color.rgb,hsv.y);color.rgb=brn(color.rgb,hsv.z);color.a=1.;}return color;}\",gi=\"_f eth(in _f thr1,in _f thr2,in _f val){if(val<thr1){return 0.0;}if(val>thr2){return 1.0;}return val;}_f edi(in _v4 p1,in _v4 p2){return(abs(p1.r-p2.r)+abs(p1.g-p2.g)+abs(p1.b-p2.b))\/3.0;}_f edge(in _s2 tex,in _v2 co,in _v2 rs){_f dx=1.0\/rs.x;_f dy=1.0\/rs.y;_v4 p[9];p[0]=_ee_-1.0*dx,-1.0*dy));p[1]=_ee_-1.0*dx,0.0*dy));p[2]=_ee_-1.0*dx,1.0*dy));p[3]=_ee_0.0*dx,-1.0*dy));p[4]=_ee_0.0*dx,0.0*dy));p[5]=_ee_0.0*dx,1.0*dy));p[6]=_ee_1.0*dx,-1.0*dy));p[7]=_ee_1.0*dx,0.0*dy));p[8]=_ee_1.0*dx,1.0*dy));_f delta=(edi(p[1],p[7])+edi(p[5],p[3])+edi(p[0],p[8])+edi(p[2],p[6]))\/4.;return eth(0.25,.4,clamp(3.0*delta,0.0,1.0));}\",bi=\"_v4 khwr(_s2 src,_v2 uv,_i rad,_v2 res){_f n=_f((rad+1)*(rad+1));_v3 m[4];_v3 s[4];for(_i k=0;k<4;++k){m[k]=_v3(0.);s[k]=_v3(0.);}for(_i j=-rad;j<=0;++j){for(_i i=-rad;i<=0;++i){_v3 c=_t(src,uv+_v2(i,j)\/res).rgb;m[0]+=c;s[0]+=c*c;}}for(_i j=-rad;j<=0;++j){for(_i i=0;i<=rad;++i){_v3 c=_t(src,uv+_v2(i,j)\/res).rgb;m[1]+=c;s[1]+=c*c;}}for(_i j=0;j<=rad;++j){for(_i i=0;i<=rad;++i){_v3 c=_t(src,uv+_v2(i,j)\/res).rgb;m[2]+=c;s[2]+=c*c;}}for(_i j=0;j<=rad;++j){for(_i i=-rad;i<=0;++i){_v3 c=_t(src,uv+_v2(i,j)\/res).rgb;m[3]+=c;s[3]+=c*c;}}_v4 color=_v4(0.);_f min=100.;for(_i k=0;k<4;++k){m[k]\/=n;s[k]=abs(s[k]\/n-m[k]*m[k]);_f nv=s[k].r+s[k].g+s[k].b;if(nv<min){min=nv;color=_v4(m[k],1.0);}}return color;}\",mi=\"_f hue2rgb(_f f1,_f f2,_f hue){if(hue<0.0)hue+=1.0;else if(hue>1.0)hue-=1.0;_f res;if((6.0*hue)<1.0)res=f1+(f2-f1)*6.0*hue;else if((2.0*hue)<1.0)res=f2;else if((3.0*hue)<2.0)res=f1+(f2-f1)*((2.0\/3.0)-hue)*6.0;else res=f1;return res;}_v3 hsl2rgb(_v3 hsl){_v3 rgb;if(hsl.y==0.0){rgb=_v3(hsl.z);}else{_f f2;if(hsl.z<0.5)f2=hsl.z*(1.0+hsl.y);else f2=hsl.z+hsl.y-hsl.y*hsl.z;_f f1=2.0*hsl.z-f2;rgb.r=hue2rgb(f1,f2,hsl.x+(1.0\/3.0));rgb.g=hue2rgb(f1,f2,hsl.x);rgb.b=hue2rgb(f1,f2,hsl.x-(1.0\/3.0));}return rgb;}_v3 hsl2rgb(_f h,_f s,_f l){return hsl2rgb(_v3(h,s,l));}\",xi=\"vec3 rgb2hsl(vec3 c){float cMin=min(min(c.r,c.g),c.b),cMax=max(max(c.r,c.g),c.b),delta=cMax-cMin;vec3 hsl=vec3(0.,0.,(cMax+cMin)\/2.);if(delta!=0.0){if(hsl.z<.5){hsl.y=delta\/(cMax+cMin);}else{hsl.y=delta\/(2.-cMax-cMin);}float deltaR=(((cMax-c.r)\/6.)+(delta\/2.))\/delta,deltaG=(((cMax-c.g)\/6.)+(delta\/2.))\/delta,deltaB=(((cMax-c.b)\/6.)+(delta\/2.))\/delta;if(c.r==cMax){hsl.x=deltaB-deltaG;}else if(c.g==cMax){hsl.x=(1.\/3.)+deltaR-deltaB;}else{hsl.x=(2.\/3.)+deltaG-deltaR;}hsl.x=fract(hsl.x);}return hsl;}\",Ci=\"const _v4 C=_v4(0.21,0.36,-0.57,0.02);_f snoise2d(_v2 v){_v2 i=floor(v+dot(v,C.yy));_v2 x0=v-i+dot(i,C.xx);_v2 i1;i1=(x0.x>x0.y)? _v2(1.0,0.0): _v2(0.0,1.0);_v4 x12=x0.xyxy+C.xxzz;x12.xy-=i1;i=mod(i,289.0);_v3 p=permute(permute(i.y+_v3(0.0,i1.y,1.0))+i.x+_v3(0.0,i1.x,1.0));_v3 m=max(0.5-_v3(dot(x0,x0),dot(x12.xy,x12.xy),dot(x12.zw,x12.zw)),0.0);m=m*m;m=m*m;_v3 x=2.0*fract(p*C.www)-1.0;_v3 h=abs(x)-0.5;_v3 ox=floor(x+0.5);_v3 a0=x-ox;m*=1.792-0.853*(a0*a0+h*h);_v3 g;g.x=a0.x*x0.x+h.x*x0.y;g.yz=a0.yz*x12.xz+h.yz*x12.yw;return 130.0*dot(m,g);}\",wi=`const float PI=3.14;const float PI2=PI*2.;_f snoise3d(_v3 v){\r\n#i_ snoise3dpart\r\n_v4 norm=tisq(_v4(dot(p0,p0),dot(p1,p1),dot(p2,p2),dot(p3,p3)));p0*=norm.x;p1*=norm.y;p2*=norm.z;p3*=norm.w;_v4 m=max(0.6-_v4(dot(x0,x0),dot(x1,x1),dot(x2,x2),dot(x3,x3)),0.0);m=m*m*m;return 42.0*dot(m,_v4(dot(p0,x0),dot(p1,x1),dot(p2,x2),dot(p3,x3)));}_v3 snoise_v3(_v3 x){_f s=snoise3d(_v3(x));_f s1=snoise3d(_v3(x.y-9.07,x.z+31.2,x.x+23.12));_f s2=snoise3d(_v3(x.z+74.2,x.x-130.2,x.y+99.4));_v3 c=_v3(s,s1,s2);return c;}_v3 curlNoise(_v3 p){const _f e=.1;_v3 dx=_v3(e,0.0,0.0);_v3 dy=_v3(0.0,e,0.0);_v3 dz=_v3(0.0,0.0,e);_v3 p_x0=snoise_v3(p-dx);_v3 p_x1=snoise_v3(p+dx);_v3 p_y0=snoise_v3(p-dy);_v3 p_y1=snoise_v3(p+dy);_v3 p_z0=snoise_v3(p-dz);_v3 p_z1=snoise_v3(p+dz);_f x=p_y1.z-p_y0.z-p_z1.y+p_z0.y;_f y=p_z1.x-p_z0.x-p_x1.z+p_x0.z;_f z=p_x1.y-p_x0.y-p_y1.x+p_y0.x;const _f divisor=1.0\/(2.0*e);return normalize(_v3(x,y,z)*divisor);}_v2 nsin(_v2 val){return sin(val)*.5+.5;}_v3 nsin(_v3 val){return sin(val)*.5+.5;}_v3 hh3(_v2 p,_f s){_v3 q=_v3(dot(p,_v2(127.1,311.7)),dot(p,_v2(269.5+pow(s,1.3),183.3+s)),dot(p,_v2(419.2,371.9+s)));return nsin(q+s);}_f iq(in _v2 x,_f u,_f v,_f s){_v2 p=floor(x);_v2 f=nsin(x*PI2*u);_f k=1.0+(63.0*.01)*pow(1.0-v,4.0);_f va=0.0;_f wt=0.0;for(_i j=-2;j<=2;j++)for(_i i=-2;i<=2;i++){_v2 g=_v2(_f(i),_f(j));_v3 o=hh3(p+g,s)*_v3(u,u,1.0);_v2 r=g-f+o.xy;_f d=dot(r,r);_f ww=pow(1.0-_smst(0.0,1.414,sqrt(d)),k);va+=o.z*ww;wt+=ww;}return va\/wt;}_v2 crliq(_v2 p,_f u,_f v,_f s){const _f e=.1;_v2 dx=_v2(e,0.0);_v2 dy=_v2(0.0,e);_v2 dz=_v2(e,0.);_f p_x0=iq(p-dx,u,v,s);_f p_x1=iq(p+dx,u,v,s);_f p_y0=iq(p-dy,u,v,s);_f p_y1=iq(p+dy,u,v,s);_f p_z0=iq(p-dz,u,v,s);_f p_z1=iq(p+dz,u,v,s);_f x=p_y1-p_y0-p_z1+p_z0;_f y=p_z1-p_z0-p_x1+p_x0;_f z=p_x1-p_x0-p_y1+p_y0;const _f divisor=1.0\/(2.0*e);return normalize(_v2(x,y)*divisor);}_v2 iqrep(_v3 p){return crliq(p.xy,1.1,.7,p.z);}`,yi=\"_v2 fade(_v2 t){return t*t*t*(t*(t*6.0-15.0)+10.0);}_f cnoise(_v2 P){_v4 Pi=floor(P.xyxy)+_v4(0.0,0.0,1.0,1.0);_v4 Pf=fract(P.xyxy)-_v4(0.0,0.0,1.0,1.0);Pi=mod(Pi,289.0);_v4 ix=Pi.xzxz;_v4 iy=Pi.yyww;_v4 fx=Pf.xzxz;_v4 fy=Pf.yyww;_v4 i=permute(permute(ix)+iy);_v4 gx=2.0*fract(i*0.024)-1.0;_v4 gy=abs(gx)-0.5;_v4 tx=floor(gx+0.5);gx=gx-tx;_v2 g00=_v2(gx.x,gy.x);_v2 g10=_v2(gx.y,gy.y);_v2 g01=_v2(gx.z,gy.z);_v2 g11=_v2(gx.w,gy.w);_v4 norm=1.793-0.853*_v4(dot(g00,g00),dot(g01,g01),dot(g10,g10),dot(g11,g11));g00*=norm.x;g01*=norm.y;g10*=norm.z;g11*=norm.w;_f n00=dot(g00,_v2(fx.x,fy.x));_f n10=dot(g10,_v2(fx.y,fy.y));_f n01=dot(g01,_v2(fx.z,fy.z));_f n11=dot(g11,_v2(fx.w,fy.w));_v2 fade_xy=fade(Pf.xy);_v2 n_x=mix(_v2(n00,n01),_v2(n10,n11),fade_xy.x);_f n_xy=mix(n_x.x,n_x.y,fade_xy.y);return 2.3*n_xy;}_v2 curlNoiseC(_v2 p){const _f e=.1;_v2 dx=_v2(e,0.0);_v2 dy=_v2(0.0,e);_v2 dz=_v2(0.0,0.0);_f p_x0=cnoise(p-dx);_f p_x1=cnoise(p+dx);_f p_y0=cnoise(p-dy);_f p_y1=cnoise(p+dy);_f p_z0=cnoise(p-dz);_f p_z1=cnoise(p+dz);_f x=p_y1-p_y0-p_z1+p_z0;_f y=p_z1-p_z0-p_x1+p_x0;const _f divisor=1.0\/(2.0*e);return normalize(_v2(x,y)*divisor);}\",Ai=\"_f pnoise3D(_v3 P,_v3 rep){_v3 Pi0=mod(floor(P),rep);_v3 Pi1=mod(Pi0+_v3(1.0),rep);Pi0=mod289(Pi0);Pi1=mod289(Pi1);_v3 Pf0=fract(P);_v3 Pf1=Pf0-_v3(1.0);_v4 ix=_v4(Pi0.x,Pi1.x,Pi0.x,Pi1.x);_v4 iy=_v4(Pi0.yy,Pi1.yy);_v4 iz0=Pi0.zzzz;_v4 iz1=Pi1.zzzz;_v4 ixy=permute(permute(ix)+iy);_v4 ixy0=permute(ixy+iz0);_v4 ixy1=permute(ixy+iz1);_v4 gx0=ixy0*(1.0\/7.0);_v4 gy0=fract(floor(gx0)*(1.0\/7.0))-0.5;gx0=fract(gx0);_v4 gz0=_v4(0.5)-abs(gx0)-abs(gy0);_v4 sz0=step(gz0,_v4(0.0));gx0-=sz0*(step(0.0,gx0)-0.5);gy0-=sz0*(step(0.0,gy0)-0.5);_v4 gx1=ixy1*(1.0\/7.0);_v4 gy1=fract(floor(gx1)*(1.0\/7.0))-0.5;gx1=fract(gx1);_v4 gz1=_v4(0.5)-abs(gx1)-abs(gy1);_v4 sz1=step(gz1,_v4(0.0));gx1-=sz1*(step(0.0,gx1)-0.5);gy1-=sz1*(step(0.0,gy1)-0.5);_v3 g000=_v3(gx0.x,gy0.x,gz0.x);_v3 g100=_v3(gx0.y,gy0.y,gz0.y);_v3 g010=_v3(gx0.z,gy0.z,gz0.z);_v3 g110=_v3(gx0.w,gy0.w,gz0.w);_v3 g001=_v3(gx1.x,gy1.x,gz1.x);_v3 g101=_v3(gx1.y,gy1.y,gz1.y);_v3 g011=_v3(gx1.z,gy1.z,gz1.z);_v3 g111=_v3(gx1.w,gy1.w,gz1.w);_v4 norm0=tisq(_v4(dot(g000,g000),dot(g010,g010),dot(g100,g100),dot(g110,g110)));g000*=norm0.x;g010*=norm0.y;g100*=norm0.z;g110*=norm0.w;_v4 norm1=tisq(_v4(dot(g001,g001),dot(g011,g011),dot(g101,g101),dot(g111,g111)));g001*=norm1.x;g011*=norm1.y;g101*=norm1.z;g111*=norm1.w;_f n000=dot(g000,Pf0);_f n100=dot(g100,_v3(Pf1.x,Pf0.yz));_f n010=dot(g010,_v3(Pf0.x,Pf1.y,Pf0.z));_f n110=dot(g110,_v3(Pf1.xy,Pf0.z));_f n001=dot(g001,_v3(Pf0.xy,Pf1.z));_f n101=dot(g101,_v3(Pf1.x,Pf0.y,Pf1.z));_f n011=dot(g011,_v3(Pf0.x,Pf1.yz));_f n111=dot(g111,Pf1);_v3 fade_xyz=fade(Pf0);_v4 n_z=mix(_v4(n000,n100,n010,n110),_v4(n001,n101,n011,n111),fade_xyz.z);vec2 n_yz=mix(n_z.xy,n_z.zw,fade_xyz.y);_f n_xyz=mix(n_yz.x,n_yz.y,fade_xyz.x);return 2.2*n_xyz;}\",ki=\"const _v2 C=_v2(1.0\/6.0,1.0\/3.0);const _v4 D=_v4(0.0,0.5,1.0,2.0);_v3 i=floor(v+dot(v,C.yyy));_v3 x0=v-i+dot(i,C.xxx);_v3 g=step(x0.yzx,x0.xyz);_v3 l=1.0-g;_v3 i1=min(g.xyz,l.zxy);_v3 i2=max(g.xyz,l.zxy);_v3 x1=x0-i1+C.xxx;_v3 x2=x0-i2+C.yyy;_v3 x3=x0-D.yyy;i=mod289(i);_v4 p=permute(permute(permute(i.z+_v4(0.0,i1.z,i2.z,1.0))+i.y+_v4(0.0,i1.y,i2.y,1.0))+i.x+_v4(0.0,i1.x,i2.x,1.0));_v3 ns=0.1428*D.wyz-D.xzx;_v4 j=p-49.0*floor(p*ns.z*ns.z);_v4 x_=floor(j*ns.z);_v4 y_=floor(j-7.0*x_);_v4 x=x_*ns.x+ns.yyyy;_v4 y=y_*ns.x+ns.yyyy;_v4 h=1.0-abs(x)-abs(y);_v4 b0=_v4(x.xy,y.xy);_v4 b1=_v4(x.zw,y.zw);_v4 s0=floor(b0)*2.0+1.0;_v4 s1=floor(b1)*2.0+1.0;_v4 sh=-step(h,_v4(0.));_v4 a0=b0.xzyw+s0.xzyw*sh.xxyy;_v4 a1=b1.xzyw+s1.xzyw*sh.zzww;_v3 p0=_v3(a0.xy,h.x);_v3 p1=_v3(a0.zw,h.y);_v3 p2=_v3(a1.xy,h.z);_v3 p3=_v3(a1.zw,h.w);\",Si=\"vec2 mod289(vec2 x){return x-floor(x*(1.0\/289.0))*289.0;}vec3 mod289(vec3 x){return x-floor(x*(1.0\/289.0))*289.0;}vec4 mod289(vec4 x){return x-floor(x*(1.0\/289.0))*289.0;}vec3 mod7(vec3 x){return x-floor(x*(1.0\/7.0))*7.0;}vec3 permute(vec3 x){return mod289(((x*34.0)+10.0)*x);}vec4 permute(vec4 x){return mod289(((x*34.0)+1.0)*x);}vec4 tisq(vec4 r){return 1.792-0.853*r;}vec3 fade(vec3 t){return t*t*t*(t*(t*6.0-15.0)+10.0);}\",Mi=\"_f grain(_v2 tc,_v2 r,_f f,_f m){_v2 mt=tc*r;_f offset=snoise3d(vec3(mt\/m,f));_f n1=pnoise3D(vec3(mt,offset),vec3(1.0\/tc*r,1.0));return n1\/2.0+0.5;}_f grain(_v2 tc,_v2 r,_f f){return grain(tc,r,f,2.5);}_f grain(_v2 tc,_v2 r){return grain(tc,r,0.0);}\";const Ae=\/(#i_ .*)\/gi,br={snoise3dpart:S(ki),brightness:S(ui),contrast:S(ci),hueShift:S(_i),saturation:S(vi),blendmodes:S(di),sharpen:S(pi),changeHSVForChannel:S(fi),edge:S(gi.replace(\/_ee_\/g,\"_t(tex, co + _v2(\")),khwr:S(bi),hsl2rgb:S(mi),rgb2hsl:xi,pnoise2d:S(yi),snoise2d:S(Ci),pnoise3d:S(Ai),noiseUtils:S(Si),grain:S(Mi)};br.snoise3d=S(mr(wi));function z(r){return r=mr(r),r=S(r),r=`#version 300 es\r\n\r\n\t\tprecision highp float;\r\n\t`+r,r}function S(r){return r=r.replace(\/_i\/g,\"int\"),r=r.replace(\/_f\/g,\"float\"),r=r.replace(\/_v2\/g,\"vec2\"),r=r.replace(\/_v3\/g,\"vec3\"),r=r.replace(\/_v4\/g,\"vec4\"),r=r.replace(\/_m2\/g,\"mat2\"),r=r.replace(\/_m3\/g,\"mat3\"),r=r.replace(\/_m4\/g,\"mat4\"),r=r.replace(\/_4\/g,\"mat4\"),r=r.replace(\/_s2\/g,\"sampler2D\"),r=r.replace(\/_t\/g,\"texture\"),r=r.replace(\/_u\/g,\"uniform\"),r=r.replace(\/_gte\/g,\"greaterThanEqual\"),r=r.replace(\/_lte\/g,\"lessThanEqual\"),r=r.replace(\/_smst\/g,\"smoothstep\"),r=r.replace(\/_lay\/g,\"layout(location = \"),r=r.replace(\/_vm\/g,\"void main() {\"),r}function mr(r){const t=Di(r);for(const e of t){const s=Ei(e);let i=br[s];i=i.replace(\"#define GLSLIFY 1\",\"\"),r=r.replace(e,i)}return r}function Di(r){Ae.lastIndex=0;let t=null,e=0;const s=[];for(;(t=Ae.exec(r))&&e<100;)s.push(t[0]);return s}function Ei(r){return r.replace(\"#i_\",\"\").replace(\/ \/g,\"\")}var Bi=`_u _v2 uArtworkSize;_u _s2 tArtwork;_u _v3 uBgColor;_u _f uBrt;_u _f uCst;_u _f uStr;_u _f uHlgt;_u _f uSh;_u _f uHa;_u _f uShb;_u _f uShs;_u _f uNs;_u _v2 uLp;_u _f uLs;_u _f uRA;_u _i uK1;_u _f uK1a;_u _i uK1b;_u _i uK2;_u _f uK2a;_u _i uK2b;in _v2 vUv;out _v4 fc;\r\n#i_ contrast\r\n#i_ brightness\r\n#i_ blendmodes\r\n#i_ sharpen\r\n#i_ khwr\r\n_v2 stdNormalMap(_f h){return-_v2(dFdx(h),dFdy(h));}_f Lum(_v3 c){return 0.299*c.r+0.587*c.g+0.114*c.b;}_v3 ClipColor(_v3 c){_f l=Lum(c);_f n=min(min(c.r,c.g),c.b);_f x=max(max(c.r,c.g),c.b);if(n<0.0)c=max((c-l)*l\/(l-n)+l,0.0);if(x>1.0)c=min((c-l)*(1.0-l)\/(x-l)+l,1.0);return c;}_v3 SetLum(_v3 c,_f l){c+=l-Lum(c);return ClipColor(c);}_f Sat(_v3 c){_f n=min(min(c.r,c.g),c.b);_f x=max(max(c.r,c.g),c.b);return x-n;}_v3 SetSat(_v3 c,_f s){_f ci=min(min(c.r,c.g),c.b);_f ca=max(max(c.r,c.g),c.b);_v3 r=_v3(0.0);if(ca>ci){if(c.r==ci&&c.b==ca){r.r=0.0;r.g=((c.g-ci)*s)\/(ca-ci);r.b=s;}else if(c.r==ci&&c.g==ca){r.r=0.0;r.b=((c.b-ci)*s)\/(ca-ci);r.g=s;}else if(c.g==ci&&c.b==ca){r.g=0.0;r.r=((c.r-ci)*s)\/(ca-ci);r.b=s;}else if(c.g==ci&&c.r==ca){r.g=0.0;r.b=((c.b-ci)*s)\/(ca-ci);r.r=s;}else if(c.b==ci&&c.r==ca){r.b=0.0;r.g=((c.g-ci)*s)\/(ca-ci);r.r=s;}else{r.b=0.0;r.r=((c.r-ci)*s)\/(ca-ci);r.g=s;}}return r;}_v3 applyHue(_v3 col,_f h){_v3 k=_v3(0.57735,0.57735,0.57735);_f ca=cos(h);return col*ca+cross(k,col)*sin(h)+k*dot(k,col)*(1.0-ca);}_vm_v2 uv=vUv;_v4 at=_t(tArtwork,uv).rgba;at.rgb=mix(uBgColor,at.rgb,at.a);at.rgba=at.rgba*uRA+(1.0-uRA)*_v4(uBgColor,1.0);_v4 kw1=khwr(tArtwork,uv,uK1,uArtworkSize);_v4 kw2=khwr(tArtwork,uv,uK2,uArtworkSize);at.rgb=blmd(uK1b,at.rgb,kw1.rgb,uK1a);at.rgb=blmd(uK2b,at.rgb,kw2.rgb,uK2a);_v3 s=sharpen(tArtwork,uv,uArtworkSize*uShs).rgb;at.rgb=blmd(2,at.rgb,s.rgb,uShb*uRA);at=bmx(uBrt)*ctmx(uCst)*at;_f amt=mix(uHlgt,uSh,1.0-Lum(at.rgb))*at.a;if(amt<0.0)amt*=2.0;_v3 res=mix(at.rgb,_v3(1.0),amt);_v3 blend=mix(_v3(1.0),pow(at.rgb,_v3(1.0\/0.7)),amt);res=max(1.0-((1.0-res)\/blend),0.0);res=SetLum(SetSat(at.rgb,Sat(res)),Lum(res));res=applyHue(res,uHa);const _v3 W=_v3(0.2125,0.7154,0.0721);_v3 intensity=_v3(dot(res,W));res=mix(intensity,res,uStr);at.rgb=res;_f h=(at.r+at.g+at.b)\/3.;_v2 n=stdNormalMap(h);n*=uNs;n+=.5;_f l=dot(n,normalize(uLp));at.rgb+=l*uLs*.5;fc=at;}`,zi=\"in vec2 position;in vec2 uv;out vec2 vUv;_vmgl_Position=vec4(position,0.,1.);vUv=uv;}\";const qt=[];function oe(){u.screen.width=window.innerWidth,u.screen.height=window.innerHeight;for(const r of qt)r()}window.addEventListener(\"resize\",oe,!1);window.addEventListener(\"orientationchange\",oe,!1);oe();const Pi={add:r=>{qt.push(r)},remove:r=>{const t=qt.indexOf(r);t!==-1&&qt.splice(t,1)}};function Ti(r,t=\"center\"){r.style.boxShadow=\"0 0 10px rgba(0,0,0,0.5)\",r.style.position=\"absolute\";function e(){let{width:s,height:i}=u.screen;if(s>i){r.style.transform=\"rotate(90deg) translateZ(0)\";let n=u.size.height,a=u.size.width,l=n,h=a;if(u.screen.height<a){let c=l\/h;h=i,l=i*c,l>s&&(c=h\/l,l=s,h=s*c)}else{let c=h\/l;l=s,h=s*c,h>i&&(c=l\/h,h=i,l=i*c)}l=Math.min(l,n),h=Math.min(h,a),r.style.width=h+\"px\",r.style.height=l+\"px\"}else{r.style.transform=\"translateZ(0)\";let n=r.width,a=r.height;if(u.screen.height<r.height){let l=n\/a;a=i,n=i*l,n>s&&(l=a\/n,n=s,a=s*l)}else{let l=a\/n;n=s,a=s*l,a>i&&(l=n\/a,a=i,n=i*l)}r.style.height=a+\"px\",r.style.width=n+\"px\"}}Pi.add(e),e()}const Li=z(Bi),Vi=z(zi);class Fi{constructor(t,e){this.width=t,this.height=e,this.op={brightness:0,contrast:1,saturation:1,saturationR:1,saturationG:1,saturationB:1,highlights:0,shadows:0,hue:0,sharpenBlur:0,sharpenSize:1,normalStr:10,lightPosX:-.3,lightPosY:.8,lightStr:.1,k1:14,k1a:.8,k1b:2,k2:2,k2a:.8,k2b:2},this.setBgColor(16777215),this.setClearAlpha(1),this.ha=!1,this._isFirstRender=!0}initWebGL(){this._initEngine(),this._scene=new Zt(this._gl),this._camera=new gr(this._gl,{fov:45,near:.1,far:1e3,aspect:this.width\/this.height}),this._camera.position.set(0,0,5),this._camera.lookAt([0,0,0]),u.resolution=new L(u.size.width*u.dpr,u.size.height*u.dpr),u.resolutionNoDPR=new L(u.size.width,u.size.height),this._initArtwork(),this._pc=new hi(this._gl,{width:this.width,height:this.height,dpr:u.dpr||1}),this._renderPass=this._pc.addPass({fragment:Li,vertex:Vi,UNF:this._u})}_initArtwork(){this._u={uArtworkSize:{value:u.resolution},uBgColor:{value:new $},tArtwork:{value:new Qt(u.gl,{image:new Uint8Array([191,25,54,255,96,18,54,255,96,18,54,255,37,13,53,255]),width:2,height:2,magFilter:u.gl.NEAREST})},uBrt:{value:1},uCst:{value:1},uStr:{value:1},uHlgt:{value:1},uSh:{value:1},uHa:{value:0},uShb:{value:0},uShs:{value:1},uNs:{value:10},uLp:{value:new L(-.3,.8)},uLs:{value:.1},uRA:{value:0},uK1:{value:14},uK1a:{value:.8},uK1b:{value:2},uK2:{value:2},uK2a:{value:.8},uK2b:{value:2}}}_initEngine(){this._renderer=new Yr({width:this.width,height:this.height,dpr:u.dpr||1,antialias:!0,preserveDrawingBuffer:!0}),this._gl=this._renderer.gl,u.gl=this._gl,this._gl.canvas.style.zIndex=1e3,this._gl.canvas.style.display=\"none\",this._gl.canvas.style.transform=\"translateZ(0)\",this._gl.autoClear=!1,Ti(this._gl.canvas),u.renderer=this._renderer}clear(){this._gl.clearColor(this._bgColor.r,this._bgColor.g,this._bgColor.b,this._clearAlpha)}renderWebGL=({useCanvasArtwork:t=!0,options:e=this.op,skipComposer:s=!1,clear:i=!0,scene:n=null}={})=>{i&&this._gl.clearColor(this._bgColor.r,this._bgColor.g,this._bgColor.b,this._clearAlpha),this._u.uBgColor.value=this._bgColor,this._u.uBrt.value=e.brightness,this._u.uCst.value=e.contrast,this._u.uStr.value=e.saturation,this._u.uHlgt.value=e.highlights,this._u.uSh.value=e.shadows,this._u.uHa.value=e.hue,this._u.uShb.value=Math.max(.2,e.sharpenBlur),this._u.uShs.value=e.sharpenSize,this._u.uNs.value=e.normalStr-3.5,this._u.uLp.value.x=e.lightPosX,this._u.uLp.value.y=e.lightPosY,this._u.uLs.value=e.lightStr,this._u.uRA.value=this.ha?1:0,this._u.uK1.value=e.k1,this._u.uK1a.value=e.k1a,this._u.uK1b.value=e.k1b,this._u.uK2.value=e.k2,this._u.uK2a.value=e.k2a,this._u.uK2b.value=e.k2b,s?this._renderer.render({scene:n||this._scene,camera:this._camera}):(this._renderPass.enabled=!0,this._pc.targetOnly=!1,this._pc.render({scene:this._scene})),this._isFirstRender&&(this._isFirstRender=!1)};_serializePostprocess(){const t={};for(const e in this.op)t[e]=this.op[e];return t}saveDataToFile(t,e){const s=document.createElement(\"a\"),i=new Blob([JSON.stringify(t)],{type:\"text\/plain\"});s.href=URL.createObjectURL(i),s.download=`${e}-${Date.now()}.json`,s.click()}setBgColor(t){t instanceof $||(this._bgColor instanceof $?this._bgColor.set(t):this._bgColor=new $(t))}setClearAlpha(t){this._clearAlpha=t}get artwork(){return this._u.tArtwork.value}set artwork(t){this.ha=!0,this._u.tArtwork.value=t}get scene(){return this._scene}get renderer(){return this._renderer}get camera(){return this._camera}}class Ri{constructor(){this.reset(),this.och=new R}reset(){this.brightness=0,this.contrast=.98,this.saturation=1.3,this.highlights=.33,this.shadows=-.13,this.hue=0,this.sharpenBlur=1,this.sharpenSize=.8,this.normalStr=3,this.lightPosX=.75,this.lightPosY=-.57,this.lightStr=.3,this.mirrorVerticalActivated=!1,this.mirrorHorizontalActivated=!1,this.k1=14,this.k1a=.8,this.k1b=2,this.k2=2,this.k2a=.8,this.k2b=2}setParams(t){if(!t){this.reset();return}for(const e in t)this[e]=t[e]}applyPalette(t){const e=t.postprocessData,s=(i,n)=>i!==void 0?i:n;this.contrast=s(e.contrast,.98),this.saturation=s(e.saturation,1.3),this.highlights=s(e.highlights,.33),this.shadows=s(e.shadows,-.13),this.hue=s(e.hue,0),this.k1=s(e.k1,14),this.k1a=s(e.k1a,0),this.k1b=s(e.k1b,2),this.k2=s(e.k2,3),this.k2a=s(e.k2a,0),this.k2b=s(e.k2b,2),this.sharpenBlur=s(e.sharpenBlur,1),this.sharpenSize=s(e.sharpenSize,.8)}}class x{constructor(t=null,e=null){this._params={},this._dataLayers={},this.canDispatch=!0,this._isDirty=!1,this.och=e||new R}reset(){for(let t in this._params)this[t]=this._params[t].value}setParams(t){for(let e in t){const s=this._params[e];if(s)s.isLocked||(this[e]=s.setMethod?s.setMethod(t[e]):t[e]);else{const i=this._dataLayers[e];i&&i.setParams(t[e])}}}ap(t,e,{serializeMethod:s=null,setMethod:i=null,och:n=null,isUniform:a=!1,type:l=null,isLocked:h=!1}={}){this._params[t]={value:e,defaultValue:e,serializeMethod:s,setMethod:i,isUniform:a,type:l,isLocked:h},Object.defineProperty(this,t,{get:function(){return this._params[t].value},set:function(c){c!==this._params[t].value&&(this._params[t].value=c,this._isDirty=!0,this.och.dispatch(),n&&this.canDispatch&&n(c))}})}resetParam(t){this[t]=this._params[t].defaultValue}adl(t,e){this._dataLayers[t]=e,Object.defineProperty(this,t,{get:function(){return this._dataLayers[t]}})}_dispatch=()=>{this._isDirty=!0,this.och.dispatch()};get dataLayers(){return this._dataLayers}get params(){return this._params}get isDirty(){}}const o={ou:{isUniform:!0},oui:{isUniform:!0,type:\"int\"},ouc:{isUniform:!0,type:\"color\"}},F=\"noise\",Tt=F+\"B\",T=F+\"Color\",Q=\"cNoise\",kt=\"color\",gt=kt+\"Impact\",M=kt+\"s\",ke=\"borders\",Se=\"noise\",Me=\"colorPerturbMix\",De=\"alphaPerturbMix\",w=\"voro\",ae=w+\"Color\",le=\"Blend\",he=\"Alpha\",ue=\"Mix\",mt=ae+\"1\",Ee=mt+le,Be=mt+he,ze=mt+ue,xt=ae+\"2\",Pe=xt+le,Te=xt+he,Le=xt+ue,Ct=ae+\"3\",Ve=Ct+le,Fe=Ct+he,Re=Ct+ue,ut=kt+\"From\",ct=kt+\"Replace\",_t=kt+\"Threshold\",Ue=ut+\"2\",Ne=ct+\"2\",Ie=_t+\"2\",$e=ut+\"3\",He=ct+\"3\",Oe=_t+\"3\",We=ut+\"4\",Ge=ct+\"4\",je=_t+\"4\",qe=ut+\"5\",Ke=ct+\"5\",Xe=_t+\"5\",St=\"red\",Mt=\"green\",Dt=\"blue\",Et=\"yellow\",Bt=\"magenta\",zt=\"cyan\",Pt=\"gray\",j=\"Hue\",q=\"Saturation\",K=\"Brightness\",X=\"Threshold\",Y=\"Channel\",J=St+Y,Ye=St+j,Ze=St+q,Qe=St+K,Je=St+X,tt=Mt+Y,ts=Mt+j,es=Mt+q,ss=Mt+K,rs=Mt+X,et=Dt+Y,is=Dt+j,ns=Dt+q,os=Dt+K,as=Dt+X,st=Et+Y,ls=Et+j,hs=Et+q,us=Et+K,cs=Et+X,rt=Bt+Y,_s=Bt+j,vs=Bt+q,ds=Bt+K,ps=Bt+X,it=zt+Y,fs=zt+j,gs=zt+q,bs=zt+K,ms=zt+X,nt=Pt+Y,xs=Pt+j,Cs=Pt+q,ws=Pt+K,ys=Pt+X,bt=\"linesPerturb\";class Ui extends x{constructor(){super(),this.adl(ke,new x),this[ke].ap(\"widthImpact\",.03,o.ou),this.adl(Se,new x);const t=this[Se];t.ap(\"curlUVMult\",4.076,o.ou),t.ap(\"curlUVXMult\",1,o.ou),t.ap(\"curlSeedMult\",282.6,o.ou),t.ap(\"seedModification\",0,o.ou),t.ap(\"useWrapUV\",!0,o.ou),t.ap(\"wrapUVStr\",6.087,o.ou),t.ap(\"wrapUVMix\",1,o.ou),t.ap(\"tierDivider\",6,o.ou),this.adl(Tt,new x);const e=this[Tt];e.ap(bt+\"UV\",5.8699,o.ou),e.ap(bt+\"SeedMult\",4.348,o.ou),e.ap(bt+\"Str\",.174,o.ou),e.ap(bt+\"Z\",1e3,o.ou),e.ap(bt+\"Abs\",!1,o.ou),e.ap(Me,3986943,o.ouc),e.ap(De,1,o.ou),e.ap(\"wrappingValues\",3,o.oui),this.adl(w,new x);const s=this[w];s.ap(w+\"UvMult\",2.391,o.ou),s.ap(w+\"Str\",.1,o.ou),s.ap(w+\"StrColor\",1,o.ou),s.ap(w+\"BorderImpact\",4.13,o.ou),s.ap(w+\"SeedMult\",1,o.ou),s.ap(w+\"Mix\",1,o.ou),s.ap(w+\"Mix2\",.565,o.ou),s.ap(mt,5861461,o.ouc),s.ap(Ee,18,o.oui),s.ap(Be,5,o.ou),s.ap(ze,1,o.ou),s.ap(xt,12279832,o.ouc),s.ap(Pe,11,o.oui),s.ap(Te,5,o.ou),s.ap(Le,0,o.ou),s.ap(Ct,12279832,o.ouc),s.ap(Ve,11,o.oui),s.ap(Fe,.522,o.ou),s.ap(Re,.13,o.ou),this.adl(\"c\"+F,new x);const i=this.cnoise;i.ap(Q+\"UVMult\",3.046,o.ou),i.ap(Q+\"UVMultX\",1,o.ou),i.ap(Q+\"SeedMult\",1.8479,o.ou),i.ap(Q+\"Str\",5.435,o.ou),i.ap(Q+\"Mix\",.533,o.ou),i.ap(Q+\"Abs\",!0,o.ou),this.adl(T,new x);const n=this.noiseColor;n.ap(T+\"Blend\",9,o.oui),n.ap(T+\"Alpha\",1.087,o.ou),n.ap(T+\"Color\",8781824,o.ouc),this.adl(gt,new x);const a=this[gt];a.ap(\"thresholdSoft\",.174,o.ou),a.ap(\"threshold\",-.5,o.ou),a.ap(\"saturationImpact\",.12,o.ou),this.adl(\"flow\",new x);const l=this.flow;l.ap(F+\"Base\",.598,o.ou),l.ap(F+\"BaseModification\",-.4,o.ou),l.ap(F+\"Maths\",8,o.oui),l.ap(F+\"Maths2\",8,o.oui),l.ap(F+\"Max\",!1,o.ou),l.ap(F+\"Max2\",!0,o.ou),l.ap(\"subdiv\",0,o.ou),this.adl(M,new x);const h=this[M];h.ap(ut,5820638,o.ouc),h.ap(ct,16777215,o.ouc),h.ap(_t,0,o.ou),h.ap(Ue,5820638,o.ouc),h.ap(Ne,16711935,o.ouc),h.ap(Ie,0,o.ou),h.ap($e,5820638,o.ouc),h.ap(He,16711935,o.ouc),h.ap(Oe,0,o.ou),h.ap(We,5820638,o.ouc),h.ap(Ge,16711935,o.ouc),h.ap(je,0,o.ou),h.ap(qe,5820638,o.ouc),h.ap(Ke,16711935,o.ouc),h.ap(Xe,0,o.ou),this.adl(J,new x);const c=this[J];c.ap(Ye,0,o.ou),c.ap(Ze,0,o.ou),c.ap(Qe,0,o.ou),c.ap(Je,.5,o.ou),this.adl(tt,new x);const _=this[tt];_.ap(ts,0,o.ou),_.ap(es,0,o.ou),_.ap(ss,0,o.ou),_.ap(rs,.5,o.ou),this.adl(et,new x);const v=this[et];v.ap(is,0,o.ou),v.ap(ns,0,o.ou),v.ap(os,0,o.ou),v.ap(as,.5,o.ou),this.adl(st,new x);const f=this[st];f.ap(ls,0,o.ou),f.ap(hs,0,o.ou),f.ap(us,0,o.ou),f.ap(cs,.5,o.ou),this.adl(rt,new x(null,this.och));const A=this[rt];A.ap(_s,0,o.ou),A.ap(vs,0,o.ou),A.ap(ds,0,o.ou),A.ap(ps,.5,o.ou),this.adl(it,new x);const b=this[it];b.ap(fs,0,o.ou),b.ap(gs,0,o.ou),b.ap(bs,0,o.ou),b.ap(ms,.5,o.ou),this.adl(nt,new x);const C=this[nt];C.ap(xs,0,o.ou),C.ap(Cs,0,o.ou),C.ap(ws,0,o.ou),C.ap(ys,.5,o.ou)}applyPalette(t){this._ap(t,\"borders\",\"widthImpact\"),this._ap(t,Tt,Me),this._ap(t,Tt,De),this._ap(t,T,T+\"Blend\"),this._ap(t,T,T+\"Alpha\"),this._ap(t,T,T+\"Color\"),this._ap(t,gt,\"thresholdSoft\"),this._ap(t,gt,\"threshold\"),this._ap(t,gt,\"saturationImpact\"),this._ap(t,w,mt),this._ap(t,w,Ee),this._ap(t,w,Be),this._ap(t,w,ze),this._ap(t,w,xt),this._ap(t,w,Pe),this._ap(t,w,Te),this._ap(t,w,Le),this._ap(t,w,Ct),this._ap(t,w,Ve),this._ap(t,w,Fe),this._ap(t,w,Re),this._ap(t,w,\"voroStr\"),this._ap(t,w,\"voroStrColor\"),this._ap(t,w,\"voroBorderImpact\"),this._ap(t,M,ut),this._ap(t,M,ct),this._ap(t,M,_t),this._ap(t,M,Ue),this._ap(t,M,Ne),this._ap(t,M,Ie),this._ap(t,M,$e),this._ap(t,M,He),this._ap(t,M,Oe),this._ap(t,M,We),this._ap(t,M,Ge),this._ap(t,M,je),this._ap(t,M,qe),this._ap(t,M,Ke),this._ap(t,M,Xe),this._ap(t,J,Ye),this._ap(t,J,Ze),this._ap(t,J,Qe),this._ap(t,J,Je),this._ap(t,tt,ts),this._ap(t,tt,es),this._ap(t,tt,ss),this._ap(t,tt,rs),this._ap(t,et,is),this._ap(t,et,ns),this._ap(t,et,os),this._ap(t,et,as),this._ap(t,st,ls),this._ap(t,st,hs),this._ap(t,st,us),this._ap(t,st,cs),this._ap(t,rt,_s),this._ap(t,rt,vs),this._ap(t,rt,ds),this._ap(t,rt,ps),this._ap(t,it,fs),this._ap(t,it,gs),this._ap(t,it,bs),this._ap(t,it,ms),this._ap(t,nt,xs),this._ap(t,nt,Cs),this._ap(t,nt,ws),this._ap(t,nt,ys)}_ap(t,e,s){const n=t.deformerData[e];n&&n.hasOwnProperty(s)?this[e][s]=n[s]||0:this[e].resetParam(s)}}const E=\"divisions\",O=E+\"Type\",As=\"cols\",ks=\"lines\",Ss=\"margin\",Ms=\"lineWidth\",Ds=\"chance\",Es=\"friction\",Bs=\"maxDivisions\",zs=\"activateChanceFilling\",Ps=\"chanceFilling\",Ts=\"chanceDrawLine\",Ls=\"full\",Vs=\"vertical\",Fs=\"horizontal\";class Ni extends x{constructor(){super(),this.ap(As,35),this.ap(ks,60),this.ap(Ss,100),this.ap(Ms,1.9),this.adl(E,new x(null,this.och)),this[E].ap(Ds,.83),this[E].ap(Es,.89),this[E].ap(Bs,14),this[E].ap(zs,!0),this[E].ap(Ps,.01),this[E].ap(Ts,.27),this.adl(O,new x(null,this.och)),this[O].ap(Ls,0),this[O].ap(Vs,.96),this[O].ap(Fs,.03)}applyPalette(t){this._ap(t,\"\",As),this._ap(t,\"\",ks),this._ap(t,\"\",Ss),this._ap(t,\"\",Ms),this._ap(t,E,Ds),this._ap(t,E,Es),this._ap(t,E,Bs),this._ap(t,E,zs),this._ap(t,E,Ps),this._ap(t,E,Ts),this._ap(t,O,Ls),this._ap(t,O,Vs),this._ap(t,O,Fs)}_apOrigin(t,e){t.gridData.hasOwnProperty(e)&&(this[e]=t.gridData[e])}_ap(t,e,s){if(!t)return;const i=t.gridData;if(!i)return;const n=e!==\"\"?i[e]:i;if(!n)return;const a=e!==\"\"?this[e]:this;n.hasOwnProperty(s)?a[s]=n[s]||0:a.resetParam(s)}}const Lt=\"lines\",vt=\"color\",ot=vt+\"s\",Vt=vt+\"1\",Ft=vt+\"2\",Rt=vt+\"3\",Ut=vt+\"4\",Nt=\"lengthM\",It=\"thicknessM\",$t=\"thicknessA\",Ht=\"rotationType\",U=vt+\"Adjustement\";function N(r,t){return r.hasOwnProperty(t)}class Ii extends x{constructor(t=null){super(t),this.adl(Lt,new x);const e=this[Lt];e.ap(\"count\",1e6),e.ap(It,30),e.ap($t,102.169),e.ap(\"thicknessP\",9),e.ap(Nt,16.3),e.ap(\"lengthA\",0),e.ap(\"lengthP\",35),e.ap(Ht,3),e.ap(\"rotationNoise\",{x:6.765,y:3.442}),e.ap(\"visibleThreshold\",.663),e.ap(\"dontUsePattern\",!1),this.adl(ot,new x);const s=this[ot];s.ap(Vt,16777215),s.ap(Ft,14276548),s.ap(Rt,896749),s.ap(Ut,14727992),s.ap(\"alpha\",{min:.86,max:.92}),s.ap(\"alphaPower\",4),s.ap(\"applyAlpha\",!0),s.ap(\"hueRand\",{min:-.01,max:.02}),s.ap(\"saturationRand\",{min:.415,max:.581}),s.ap(\"luminosityRand\",{min:-.065,max:.129}),this.adl(U,new x);const i=this[U];i.ap(U+\"Value\",-.478),i.ap(U+\"Sat\",1),i.ap(U+\"Lum\",.946),i.ap(U+\"Scale\",750),i.ap(U+\"Value2\",.239),i.ap(U+\"Scale2\",369.565)}applyPalette(t){if(!t.vegeData)return;const e=t.vegeData.colors;e&&(N(e,Vt)&&(this[ot][Vt]=e[Vt]),N(e,Ft)&&(this[ot][Ft]=e[Ft]),N(e,Rt)&&(this[ot][Rt]=e[Rt]),N(e,Ut)&&(this[ot][Ut]=e[Ut]));const s=t.vegeData[Lt],i=this[Lt];s&&(N(s,Nt)&&(i[Nt]=s[Nt]),N(s,It)&&(i[It]=s[It]),N(s,$t)&&(i[$t]=s[$t]),N(s,Ht)&&(i[Ht]=s[Ht]))}}const xr=\"lines\",dt=\"Color\",Z=\"edges\",pt=\"Alpha\",Cr=\"Contrast\",wr=Z+Cr,ce=\"Blend\",$i=ce+\"Mode\",Kt=Z+pt,Xt=Z+$i,Rs=xr+dt,Us=xr+pt,Yt=Z+dt,Ns=Z+dt+\"B\",Is=Z+pt+\"1\",$s=Kt+\"1b\",Hs=Xt+\"3\",Os=Z+\"Kuwa\",Ws=Yt+\"2\",Gs=Kt+\"2\",js=Xt+\"2\",qs=Yt+\"3\",Ks=wr,Xs=wr+\"2\",Ys=\"specialEdgeContrast\",Zs=\"specialEdgeColor\",Qs=\"specialEdgeAlpha\",_e=\"kuwaVoro\",Js=_e+dt,tr=_e+pt,er=_e+ce,ve=\"voroEdges\",sr=ve+ce,rr=ve+dt,ir=ve+pt,yr=\"zonesEdge\",Ar=yr+\"s\",nr=yr+Cr,or=Ar+dt,ar=Ar+pt,lr=\"grainScale\",hr=\"grainPerturb\",Ot=\"noiseStr\",ur=\"noiseBlendMode\",Wt=\"stainsValue\",cr=\"stainsBlendMode\";class Hi extends x{constructor(){super(),this.ap(Rs,15261663,o.ouc),this.ap(Us,1,o.ou),this.adl(\"kw\",new x),this.kw.ap(\"p1\",2,o.oui),this.kw.ap(\"p1a\",0,o.ou),this.kw.ap(\"p1b\",0,o.oui),this.kw.ap(\"p2\",2,o.oui),this.kw.ap(\"p2a\",0,o.ou),this.kw.ap(\"p2b\",0,o.oui),this.kw.ap(\"ls1\",13,o.oui),this.kw.ap(\"ls2\",6,o.oui),this.kw.ap(\"ze\",3,o.oui),this.kw.ap(\"ek1\",1,o.oui),this.kw.ap(\"ek2\",3,o.oui),this.kw.ap(\"ek3\",1,o.oui),this.kw.ap(\"se1\",14,o.oui),this.kw.ap(\"se2\",3,o.oui),this.ap(Yt,13230047,o.ouc),this.ap(Ns,13230047,o.ouc),this.ap(Is,1,o.ou),this.ap($s,.3,o.ou),this.ap(Hs,3,o.oui),this.ap(Os,10,o.oui),this.ap(Ws,16777215,o.ouc),this.ap(Gs,1,o.ou),this.ap(js,11,o.oui),this.ap(Ks,5.869,o.ou),this.ap(Xs,5.87,o.ou),this.ap(qs,16777215,o.ouc),this.ap(Kt,0,o.ou),this.ap(Xt,3,o.oui),this.ap(Ys,.511),this.ap(Zs,4088468,o.ouc),this.ap(Qs,1,o.ou),this.ap(Js,4088468,o.ouc),this.ap(tr,1,o.ou),this.ap(er,5,o.oui),this.ap(sr,2,o.oui),this.ap(rr,997703,o.ouc),this.ap(ir,0,o.ou),this.ap(nr,38.043),this.ap(or,16777215,o.ouc),this.ap(ar,.457,o.ou),this.ap(lr,10,o.ou),this.ap(hr,98,o.ou),this.ap(Ot,.12,o.ou),this.ap(ur,18,o.oui),this.ap(Wt,.1,o.ou),this.ap(cr,15,o.oui)}applyPalette(t){this.app(t,Rs),this.app(t,Us),this.app(t,Yt),this.app(t,Ns),this.app(t,Is),this.app(t,$s),this.app(t,Hs),this.app(t,Os),this.app(t,Ws),this.app(t,Gs),this.app(t,js),this.app(t,Ks),this.app(t,Xs),this.app(t,qs),this.app(t,Kt),this.app(t,Xt),this.app(t,Ys),this.app(t,Zs),this.app(t,Qs),this.app(t,Js),this.app(t,tr),this.app(t,er),this.app(t,sr),this.app(t,rr),this.app(t,ir),this.app(t,nr),this.app(t,or),this.app(t,ar),this.app(t,lr),this.app(t,hr),this.app(t,Ot),this.app(t,ur),this.app(t,Wt),this.app(t,cr),this[Ot]=Math.min(this[Ot],.2),this[Wt]=Math.min(this[Wt],.15),this._app(t,\"kw\",\"p1\"),this._app(t,\"kw\",\"p1a\"),this._app(t,\"kw\",\"p1b\"),this._app(t,\"kw\",\"p2\"),this._app(t,\"kw\",\"p2a\"),this._app(t,\"kw\",\"p2b\"),this._app(t,\"kw\",\"ls1\"),this._app(t,\"kw\",\"ls2\"),this._app(t,\"kw\",\"ze\"),this._app(t,\"kw\",\"ek1\"),this._app(t,\"kw\",\"ek2\"),this._app(t,\"kw\",\"ek3\"),this._app(t,\"kw\",\"se1\"),this._app(t,\"kw\",\"se2\")}app(t,e){t.composerData.hasOwnProperty(e)?this[e]=t.composerData[e]:this.resetParam(e)}_app(t,e,s){const n=t.composerData[e];n&&n.hasOwnProperty(s)?this[e][s]=n[s]||0:this[e].resetParam(s)}}const Oi={sat:1.1,sh:-.37,k1:6,k1a:1,k1b:11,k2:2,k2a:.239,k2b:2,shS:.6,shB:.8},Wi={div:{fric:.37,maxDiv:1,chFill:.45},lw:18.7},Gi={bord:{wImp:.046},nsB:{cPMix:3972567,aPMix:.734},vro:{vroS:2.391,vroBI:1.304,vroC1:2698554,vroC1B:25,vroC1A:.924,vroC1M:.239,vroC2:3227177,vroC2B:3,vroC2A:1.485,vroC2M:.031,vroC3A:2.826,vSC:2.609,vroC3:12017693},nC:{nCA:1.296,nCC:3292210},yCh:{ySat:.05}},ji={clrs:{clr1:16776183,clr2:2521814,clr3:5062693,clr4:15523285},lns:{lenM:100,rotT:1,thkA:102.17}},qi={kw:{p1:10,p1a:.373,p1b:3,p2:2,p2a:0,p2b:0,ls1:17,ls2:4,ze:6,ek1:3,ek2:15,ek3:2,se1:18,se2:3},lnClr:16777215,lnA:.815,eClr:16346678,eClrB:16777215,eClr2:11355686,eCon:2.174,eCon2:1,eClr3:551072,eA:.489,eBM:23,spECon:1,spEClr:2893605,spEA:.71,kuwVC:15195860,kuwVB:18,znECon:50,znEClr:16728607,znEA:.424,eA1b:.4,eBM3:18,eA1:.946,eA2:1.793,kuwVA:.696,gScl:8.079,gPert:761.528,nStr:.2,nBM:3,stVal:.25},Ki=15262418,Xi={ppD:Oi,gD:Wi,defD:Gi,vD:ji,compD:qi,bgCol:Ki},Yi={sat:1.1,k1:14,k1a:.261,k1b:3,k2:2,k2a:.261,k2b:18,shS:.6},Zi={div:{maxDiv:13,chFill:.08}},Qi={bord:{wImp:.046},ns:{tDiv:8},nsB:{cPMix:7772590,aPMix:.804,wVal:4},vro:{vroS:1.63,vroC1:9138272,vroC1A:2.772,vroC1M:.478,vroC2:2699611,vroC2B:5,vroC2A:2.065,vroC2M:.031},nC:{nCA:2.065,nCC:3296306},cns:{cNUVM:4.046}},Ji={clrs:{clr1:15780291,clr2:15328997,clr3:10521734,clr4:15787495},lns:{thkA:102.17}},tn={kw:{p1:9,p1a:0,p1b:17,p2:2,p2a:.286,p2b:3,ls1:17,ls2:6,ze:2,ek1:1,ek2:3,ek3:1,se1:14,se2:3},lnClr:16777215,lnA:.38,eClr:11522530,eClr2:2055918,eCon:3.261,eClr3:555936,eA:.522,eBM:23,spECon:5.326,spEClr:85807,kuwVC:12901285,kuwVB:18,gPert:609.687,nStr:.177},en={ppD:Yi,gD:Zi,defD:Qi,vD:Ji,compD:tn},sn={sat:1.1,sh:-.37,k1:11,k1a:.098,k1b:3,k2:2,k2a:.337,k2b:2,shS:.6,shB:.78},rn={div:{fric:.37,maxDiv:1,chFill:.87}},nn={bord:{wImp:.046},nsB:{cPMix:3972567,aPMix:.883},vro:{vroS:2.391,vroBI:0,vroC1:5318432,vroC1B:25,vroC1A:.543,vroC1M:.239,vroC2:9874305,vroC2B:5,vroC2A:3.387,vroC2M:.031,vroC3A:1.576},nC:{nCA:1.739,nCC:3292210},rCh:{rHue:.978},gCh:{gSat:.89},bCh:{bSat:.072,bBri:.138},yCh:{ySat:-.1},mCh:{mSat:1}},on={clrs:{clr1:16776183,clr2:14079445,clr3:10524806,clr4:16775416}},an={kw:{p1:2,p1a:.341,p1b:17,p2:2,p2a:.362,p2b:3,ls1:13,ls2:6,ze:2,ek1:1,ek2:3,ek3:1,se1:14,se2:3},lnClr:16777215,lnA:.467,eClr:13618884,eClrB:16777215,eClr2:4859509,eCon:4.13,eCon2:1,eClr3:551072,eA:.391,eBM:23,spECon:.435,spEClr:4277321,spEA:.967,kuwVC:12436648,kuwVB:18,znECon:10,znEClr:1737186,znEA:.685,kuwVA:0,gScl:1.2,gPert:671.306,nStr:.15,stVal:.14},ln=15460833,hn={ppD:sn,gD:rn,defD:nn,vD:on,compD:an,bgCol:ln},un={sh:-.22,k1:3,k1a:.587,k1b:3,k2:5,k2a:1,k2b:2,shS:.7,shB:1},cn={lw:10.4},_n={ns:{tDiv:10},nsB:{cPMix:4684601,aPMix:.85,wVal:4},vro:{vroC1:4426550,vroC2:84111,vroC2B:18,vroC2A:1.957,vroC2M:.337,vroC3A:3.442,vroC3:5804241,vroC3B:2,vroC3M:.239},nC:{nCA:1.1,nCC:3741515,nCB:17},cns:{cNUVM:4.046},clrs:{cR:9389895},yCh:{ySat:-.623}},vn={clrs:{clr2:1907724,clr3:16166184,clr4:16374567},lns:{thkM:154.35,thkA:102.17}},dn={kw:{p1:2,p1a:0,p1b:0,p2:2,p2a:0,p2b:0,ls1:10,ls2:3,ze:13,ek1:2,ek2:2,ek3:3,se1:5,se2:2},lnClr:14866849,lnA:.424,eClr:6653913,eClrB:15852732,eClr2:16217630,eCon:16.522,eCon2:1.376,eClr3:13096703,eA:.848,spECon:.514,spEClr:16503718,spEA:.732,kuwVC:14779662,kuwVB:9,znECon:50,znEClr:8160680,znEA:1,eA1b:1.543,eBM3:18,eA1:.554,eA2:2.511,eKuwa:3,eBM2:23,gScl:1.087,gPert:549.887,nStr:.264,stVal:.167},pn=16118247,fn={ppD:un,gD:cn,defD:_n,vD:vn,compD:dn,bgCol:pn},gn={hue:-6.28,k1:2,k1a:.685,k1b:2,k2:2,k2a:.12,k2b:3,shS:.6,shB:.88},bn={div:{fric:.37,maxDiv:1,chFill:.87}},mn={bord:{wImp:.046},nsB:{cPMix:16002092},vro:{vroS:2.174,vroBI:0,vroC1:5271883,vroC1M:.576,vroC2A:.6,vroC2M:.196,vroC3A:0,vSC:2.174,vroC3:0,vroC3B:0,vroC3M:0},nC:{nCA:2.935,nCC:4741192,nCB:2}},xn={clrs:{clr2:66560,clr3:15577919,clr4:13253178},lns:{thkA:102.17}},Cn={kw:{p1:8,p1a:.191,p1b:3,p2:2,p2a:.667,p2b:17,ls1:16,ls2:13,ze:4,ek1:3,ek2:5,ek3:2,se1:14,se2:4},lnClr:16769792,lnA:.207,eClr:14084061,eClrB:7679791,eClr2:5131854,eCon:3.261,eCon2:1.81,spECon:1,spEClr:16777215,spEA:0,kuwVC:14603892,kuwVB:2,znECon:10,znEClr:9765378,znEA:1,eA1b:1.674,eBM3:18,eA1:1.413,gScl:2,gPert:962.161,nStr:.221,stVal:.125},wn=15262417,yn={ppD:gn,gD:bn,defD:mn,vD:xn,compD:Cn,bgCol:wn},An={sat:1.1,k1:14,k1a:.087,k1b:18,k2:1,k2a:.239,k2b:3,shS:.7},kn={div:{maxDiv:13,chFill:.08}},Sn={bord:{wImp:.046},ns:{tDiv:4},nsB:{cPMix:4044244,aPMix:1.087},vro:{vroS:1.63,vroBI:0,vroC1:15370813,vroC1A:3.5,vroC1M:.478,vroC2:14341073,vroC2B:4,vroC2A:2.8,vroC2M:.076,vroC3A:.8,vSC:1.1,vroC3:11623703,vroC3B:1,vroC3M:.315},nC:{nCA:1.848,nCC:2642507},cImp:{satImp:.087},rCh:{rHue:.03}},Mn={clrs:{clr1:14504194,clr2:16777215,clr3:16777215,clr4:14444037},lns:{thkA:102.17}},Dn={kw:{p1:2,p1a:0,p1b:0,p2:2,p2a:.221,p2b:3,ls1:14,ls2:13,ze:3,ek1:1,ek2:3,ek3:1,se1:3,se2:3},lnClr:16777215,lnA:.38,eClr:14276049,eClrB:16777215,eClr2:15502110,eCon:3.261,eCon2:1,eClr3:9068609,eBM:23,spECon:1,spEClr:14670034,spEA:.391,kuwVC:12901285,kuwVB:18,znECon:10,znEClr:13586451,znEA:.859,eA1:1.402,gPert:807.522,nStr:.243,stVal:.275},En=14010813,Bn={ppD:An,gD:kn,defD:Sn,vD:Mn,compD:Dn,bgCol:En},zn={k1:7,k1a:.283,k1b:3,k2:2,k2a:0,k2b:2,shS:.6,shB:.8},Pn={ns:{tDiv:4},nsB:{wVal:3},vro:{vroS:3.918,vroBI:0,vSC:.8}},Tn={lns:{rotT:2}},Ln={kw:{p1:2,p1a:0,p1b:0,p2:2,p2a:0,p2b:0,ls1:17,ls2:2,ze:2,ek1:3,ek2:3,ek3:2,se1:7,se2:4},eClr:12901596,eClr2:14079956,eA:.775,spECon:.819,spEA:.634,eA1b:.206,eA2:.565,kuwVA:.971,gPert:980.74,nStr:.15,stVal:.18},Vn={ppD:zn,defD:Pn,vD:Tn,compD:Ln},Fn=1,Rn={k1:14,k1a:0,k1b:2,k2:3,k2a:0,k2b:2,shS:.6,shB:.761},Un={nsB:{cPMix:4684601,aPMix:.5},vro:{vroC1:2797077,vroC2:13606997,vroC2B:9,vroC2A:1.087,vroC2M:.228,vroC3A:1.196,vSC:.6,vroC3:7936986},nC:{nCA:1.1,nCC:5771646,nCB:17},clrs:{cF:9100888,cT:.0978,cF2:13552301,cR2:16777215,cT2:.125,cF3:5709679,cR3:16745984,cT3:.2772,cF4:13543046,cR4:16748288,cT4:.1413},gCh:{gSat:.543},yCh:{ySat:-.739}},Nn={clrs:{clr3:16166184,clr4:16374567},lns:{thkM:100,thkA:102.17}},In={kw:{p1:3,p1a:.188,p1b:3,p2:2,p2a:0,p2b:0,ls1:13,ls2:13,ze:3,ek1:1,ek2:3,ek3:4,se1:14,se2:3},lnClr:15917436,lnA:.761,eClr:6522588,eClrB:15851487,eClr2:6846363,eCon:6.522,eCon2:1.957,eClr3:13096703,eA:.75,spECon:1,spEClr:16291126,spEA:.761,kuwVC:11427334,kuwVB:9,znECon:50,znEClr:5202504,znEA:1,eA1b:3,eBM3:18,eA1:1.043,eA2:2.283,kuwVA:.848,eKuwa:12,eBM2:18,gScl:1.992,gPert:738.49,nStr:.177,stVal:.145},$n=16118247,Hn={f:Fn,ppD:Rn,defD:Un,vD:Nn,compD:In,bgCol:$n},On={hue:-.05,sh:-.52,k1:14,k1a:0,k1b:2,k2:2,k2a:.185,k2b:3,shS:.7,shB:1},Wn={nsB:{cPMix:3644188,aPMix:.964},vro:{vroC1:8289339,vroC2:12497828,vroC2B:18,vroC2A:2.065,vroC2M:.228,vroC3A:5,vroC3:11041498,vroC3M:.163},nC:{nCA:1,nCC:5771646,nCB:17},rCh:{rHue:.446,rSat:.891},gCh:{gSat:.391,gBri:-.217},yCh:{ySat:-.522,yBri:-.043},mCh:{mHue:.076,mSat:-.065}},Gn={clrs:{clr2:13403396,clr3:16166184,clr4:16374567},lns:{thkM:100,thkA:102.17}},jn={kw:{p1:3,p1a:.25,p1b:3,p2:13,p2a:.221,p2b:10,ls1:11,ls2:12,ze:3,ek1:1,ek2:3,ek3:1,se1:14,se2:3},lnClr:15917436,eClr:9282524,eClrB:11841948,eClr2:13258799,eCon:3.984,eCon2:1.593,eClr3:13096703,eA:.75,eBM:15,spECon:1,spEClr:8031361,spEA:.424,kuwVC:8088670,kuwVB:9,znECon:50,znEClr:6528048,znEA:.772,eA1b:3,eBM3:18,eA1:.913,eA2:2.945,kuwVA:.359,eKuwa:8,eBM2:18,gScl:1.666,gPert:856.59,nStr:.384},qn=16513523,Kn={ppD:On,defD:Wn,vD:Gn,compD:jn,bgCol:qn},Xn={hue:-.1,sh:-.54,hg:-.05,k1:2,k1a:0,k1b:11,k2:3,k2a:0,k2b:2,shS:.7},Yn={div:{maxDiv:13,chFill:.08}},Zn={bord:{wImp:.02},nsB:{cPMix:14599335,aPMix:1.594},vro:{vroS:1.63,vroBI:7.97,vroC1:469010,vroC1A:3.478,vroC1M:.478,vroC2:5384459,vroC2B:18,vroC2M:.058,vroC3A:4.293,vroC3:14600392,vroC3B:14,vroC3M:.12},nC:{nCA:1.557,nCC:9018158},clrs:{cF:3975290,cR:1324391,cT:.0887,cF2:13944259,cR2:14947080,cT2:.1413,cF3:14170850,cR3:2578308,cT3:.0978},rCh:{rHue:.471,rSat:.377},gCh:{gHue:.449,gSat:.529},bCh:{bHue:.286},yCh:{yHue:.482,ySat:-.254,yBri:-.05},cCh:{cHue:.623,cSat:-.362},grCh:{grHue:.917,grSat:.29,grBri:.094}},Qn={clrs:{clr1:16184048,clr2:9473678,clr3:14634316,clr4:14471879},lns:{thkA:93.479}},Jn={kw:{ls1:4,ls2:6,ze:3,ek1:1,ek2:4,ek3:1,se1:4,se2:4},lnClr:16777215,lnA:.38,eClr:16119285,eClrB:13317195,eClr2:7623174,eCon:2.174,eCon2:3,eClr3:9197656,eA:.406,eBM:15,spECon:.457,spEClr:11382965,spEA:.851,kuwVC:15392732,kuwVB:18,znECon:38.22,znEA:.743,eA1b:.75,eBM3:18,eA1:.826,eBM2:2,gScl:1.8,gPert:938.287,nStr:.275},to=15723748,eo={ppD:Xn,gD:Yn,defD:Zn,vD:Qn,compD:Jn,bgCol:to},so={sat:1.2,sh:-.85,hg:.55,k1:14,k1a:0,k1b:2,k2:2,k2a:.098,k2b:3,shS:.6,shB:.789},ro={div:{maxDiv:13,chFill:.08}},io={bord:{wImp:.046},nsB:{cPMix:9294586,aPMix:1.746},vro:{vroS:2.391,vroBI:0,vroC1:7685406,vroC1A:1.957,vroC1M:.239,vroC2:10573108,vroC2B:18,vroC2A:4.094,vroC2M:.12,vroC3A:4.855,vroC3:6834458,vroC3B:22},nC:{nCA:1.92,nCC:3292210},clrs:{cF:13459252,cR:4607072,cT:.2228,cF2:14769954,cR2:12614985,cT2:.1848},yCh:{ySat:-.435}},no={clrs:{clr1:16775927,clr2:14079677,clr3:10722450,clr4:16775416},lns:{thkA:102.17}},oo={kw:{p1:3,p1a:.145,p1b:3,p2:2,p2a:0,p2b:0,ls1:10,ls2:6,ze:4,ek1:1,ek2:3,ek3:1,se1:14,se2:3},lnClr:16777215,eClr:14015714,eClrB:85905,eClr2:5415384,eCon:9.13,eCon2:4.202,eClr3:4614012,eA:.884,eBM:23,spECon:1,spEClr:19845,spEA:.993,kuwVC:13739405,kuwVB:18,znECon:22.283,znEClr:498171,znEA:.424,eA1b:1,eBM3:23,kuwVA:.946,gScl:1.666,gPert:98,nStr:.167},ao=15262159,lo={ppD:so,gD:ro,defD:io,vD:no,compD:oo,bgCol:ao},ho={sat:1.25,k1:2,k1a:.511,k1b:3,k2:2,k2a:.663,k2b:2,shS:.7,shB:1},uo={ns:{tDiv:8},nsB:{cPMix:4684601,aPMix:.5,wVal:4},vro:{vroS:.435,vroC1:4741189,vroC2:15571481,vroC2B:9,vroC2A:.489,vroC2M:.228,vroC3A:3.75,vSC:.85,vroC3:1732043,vroC3B:17},nC:{nCA:1.1,nCC:3741515,nCB:17},cns:{cNUVM:4.046},clrs:{cF:5867693,cR:5490616,cF2:7918733,cR2:16246813,cT2:.1811,cF3:606197,cR3:1316138,cT3:.2681}},co={clrs:{clr3:16166184,clr4:16374567},lns:{thkM:100,thkA:102.17}},_o={kw:{p1:2,p1a:0,p1b:0,p2:2,p2a:0,p2b:0,ls1:15,ls2:6,ze:12,ek1:17,ek2:2,ek3:1,se1:14,se2:3},lnClr:6537106,lnA:.859,eClr:11066588,eClrB:14937591,eClr2:13334199,eCon:9.13,eCon2:1.8,eClr3:12637885,eA:.554,spECon:1,spEClr:16503718,spEA:.663,kuwVC:11628086,kuwVB:9,znECon:33.152,znEClr:2705096,znEA:.837,eA1b:1.337,eBM3:18,eA1:.913,eA2:2.315,kuwVA:.935,eKuwa:12,eBM2:18,gPert:871.074,nStr:.362},vo=4478841,po={ppD:ho,defD:uo,vD:co,compD:_o,bgCol:vo},fo=1,go={hue:-.08,sh:-.01,k1:2,k1a:.087,k1b:3,k2:4,k2a:.087,k2b:18,shS:.7},bo={bord:{wImp:.02},nsB:{cPMix:4684601,aPMix:.638},vro:{vroC1:4741189,vroC2:12482821,vroC2B:9,vroC2A:.489,vroC2M:.228,vroC3A:4.094,vroC3:1792209,vroC3B:17,vroC3M:.18},nC:{nCA:1.5,nCC:4719363,nCB:17},clrs:{cF:11194345,cR:12049394,cF2:7061428,cR2:16729119,cF3:606197,cR3:342732,cF4:14339217,cR4:16316388,cT4:.0978,cF5:789773,cR5:4938557,cT5:.067}},mo={clrs:{clr3:16166184,clr4:16374567},lns:{thkM:100,thkA:102.17}},xo={kw:{p1:2,p1a:0,p1b:0,p2:2,p2a:0,p2b:0,ls1:13,ls2:10,ze:3,ek1:2,ek2:3,ek3:3,se1:12,se2:3},lnClr:16316138,eClr:8295884,eClrB:16249571,eClr2:16477198,eCon:12.245,eCon2:2.609,eClr3:13096703,eA:.739,spECon:1,spEClr:16503718,spEA:.971,kuwVC:12481817,kuwVB:9,znECon:24.457,znEClr:2640347,znEA:.761,eA1b:1.511,eBM3:18,eA1:.88,eA2:3,kuwVA:.891,eKuwa:3,eBM2:18,gScl:.8,gPert:375.461,nStr:.536,stVal:.134},Co=16118247,wo={f:fo,ppD:go,defD:bo,vD:mo,compD:xo,bgCol:Co},yo={sat:1.1,con:1,sh:-.5,k1:4,k1a:.12,k1b:3,k2:2,k2a:0,k2b:2,shS:.7,shB:1},Ao={nsB:{aPMix:1.224,wVal:4},vro:{vroBI:4.166,vroC1:12694319,vroC1A:4.365,vroC2:3214184,vroC2B:10,vroC2A:.1,vroC2M:.1},nC:{nCC:14554132},cns:{cNUVM:4.046},clrs:{cF:15788742,cR:15724013,cT:.0561},gCh:{gSat:.377},yCh:{yHue:.957,ySat:-.232,yBri:-.058},mCh:{mHue:.49,mSat:.29,mBri:-.1},cCh:{cHue:.047,cSat:-.123,cBri:-.123},grCh:{grHue:.069,grSat:.029}},ko={clrs:{clr3:15448845,clr4:12533254}},So={kw:{p1:5,p1a:.569,p1b:17,p2:2,p2a:.351,p2b:3,ls1:13,ls2:14,ze:8,ek1:11,ek2:3,ek3:1,se1:14,se2:4},lnClr:15265266,eClr:15460576,eClrB:4749783,eCon:1,eCon2:3,spEClr:2451672,spEA:.536,kuwVC:9922400,kuwVB:18,znEClr:15601166,eA1b:.728,eA1:2.032,kuwVA:.884,gScl:.6,gPert:734.356,nStr:.29,nBM:25,stVal:.156},Mo=16118500,Do={ppD:yo,defD:Ao,vD:ko,compD:So,bgCol:Mo},Eo={sh:-1,hg:.3,k1:14,k1a:.185,k1b:3,k2:2,k2a:.054,k2b:3,shS:.6,shB:.75},Bo={div:{maxDiv:13,chFill:.08}},zo={bord:{wImp:.046},nsB:{cPMix:15892841,aPMix:1.746},vro:{vroS:2.391,vroBI:0,vroC1:7685406,vroC1B:23,vroC1A:1.957,vroC1M:.239,vroC2:6890247,vroC2B:18,vroC2A:4.583,vroC2M:.12,vroC3A:4.855,vroC3:6834458,vroC3B:22},nC:{nCA:1.92,nCC:3292210},clrs:{cF:13459252,cR:4607072,cT:.2228,cF2:14769954,cR2:12614985,cT2:.1703},yCh:{yHue:.952,ySat:-1}},Po={clrs:{clr1:16775927,clr2:14079677,clr3:8815988,clr4:16775416},lns:{thkA:102.17}},To={kw:{p1:2,p1a:.21,p1b:3,p2:2,p2a:0,p2b:0,ls1:15,ls2:14,ze:3,ek1:1,ek2:2,ek3:6,se1:14,se2:4},lnClr:16777215,eClr:15787762,eClrB:3169841,eClr2:14198098,eCon:9.13,eCon2:4.202,eClr3:4605563,eA:.884,eBM:23,spECon:.917,spEClr:5392455,spEA:.58,kuwVC:13458968,kuwVB:18,znECon:27.351,znEClr:498171,znEA:.424,eA1b:1,eBM3:23,kuwVA:.946,gScl:1.8,gPert:218.239,nStr:.19},Lo=16186622,Vo={ppD:Eo,gD:Bo,defD:zo,vD:Po,compD:To,bgCol:Lo},Fo={k1:14,k1a:0,k1b:2,k2:10,k2a:.228,k2b:3,shS:.6,shB:.72},Ro={nsB:{cPMix:5408850,aPMix:1.1,wVal:4},vro:{vroS:3.918,vroBI:0,vroC1:349681,vroC1A:1.322,vroC2M:.036,vroC3A:4.094,vSC:.8,vroC3:12261536},cns:{cNUVM:4.046}},Uo={clrs:{clr3:14211804,clr4:4941384},lns:{rotT:2,thkM:76.8}},No={kw:{p1:2,p1a:0,p1b:0,p2:2,p2a:0,p2b:0,ls1:13,ls2:6,ze:3,ek1:1,ek2:3,ek3:1,se1:14,se2:3},eClr:13754313,eClrB:14081993,spEClr:6329406,kuwVC:2896172,eA1:.304,gScl:.905,gPert:345.03,nStr:.286},Io=15723239,$o={ppD:Fo,defD:Ro,vD:Uo,compD:No,bgCol:Io},Ho={postprocessData:\"ppD\",saturation:\"sat\",hue:\"hue\",contrast:\"con\",gridData:\"gD\",divisions:\"div\",friction:\"fric\",maxDivisions:\"maxDiv\",chanceFilling:\"chFill\",chanceDrawLine:\"chDraw\",lineWidth:\"lw\",deformerData:\"defD\",borders:\"bord\",widthImpact:\"wImp\",noise:\"ns\",tierDivider:\"tDiv\",noiseB:\"nsB\",colorPerturbMix:\"cPMix\",alphaPerturbMix:\"aPMix\",wrappingValues:\"wVal\",voro:\"vro\",voroStr:\"vroS\",voroBorderImpact:\"vroBI\",voroColor1:\"vroC1\",voroColor1Blend:\"vroC1B\",voroColor1Alpha:\"vroC1A\",voroColor1Mix:\"vroC1M\",voroColor2:\"vroC2\",voroColor2Blend:\"vroC2B\",voroColor2Alpha:\"vroC2A\",voroColor2Mix:\"vroC2M\",voroColor3:\"vroC3\",voroColor3Blend:\"vroC3B\",voroColor3Alpha:\"vroC3A\",voroColor3Mix:\"vroC3M\",voroUvMult:\"vroUVM\",voroSeedMult:\"vroSM\",voroMix2:\"vroM2\",noiseColor:\"nC\",noiseColorAlpha:\"nCA\",noiseColorColor:\"nCC\",noiseColorBlend:\"nCB\",cnoise:\"cns\",cNoiseUVMult:\"cNUVM\",cNoiseUVMultX:\"cNUVMX\",cNoiseMix:\"cNMix\",cNoiseAbs:\"cNAbs\",flow:\"flw\",noiseMaths:\"nMths\",noiseMaths2:\"nMths2\",noiseMax:\"nMax\",noiseMax2:\"nMax2\",colorImpact:\"cImp\",saturationImpact:\"satImp\",vegeData:\"vD\",colors:\"clrs\",color1:\"clr1\",color2:\"clr2\",color3:\"clr3\",color4:\"clr4\",lines:\"lns\",lengthM:\"lenM\",rotationType:\"rotT\",thicknessM:\"thkM\",thicknessA:\"thkA\",composerData:\"compD\",linesColor:\"lnClr\",linesAlpha:\"lnA\",edgesColor:\"eClr\",edgesColorB:\"eClrB\",edgesColor2:\"eClr2\",edgesContrast:\"eCon\",edgesContrast2:\"eCon2\",edgesColor3:\"eClr3\",edgesAlpha:\"eA\",edgesBlendMode:\"eBM\",specialEdgeContrast:\"spECon\",specialEdgeColor:\"spEClr\",specialEdgeAlpha:\"spEA\",kuwaVoroColor:\"kuwVC\",kuwaVoroBlend:\"kuwVB\",voroEdgesBlend:\"vrEB\",voroEdgesColor:\"vrEC\",voroEdgesAlpha:\"vrEA\",zonesEdgeContrast:\"znECon\",zonesEdgesColor:\"znEClr\",zonesEdgesAlpha:\"znEA\",edgesAlpha1b:\"eA1b\",edgesBlendMode3:\"eBM3\",edgesAlpha1:\"eA1\",edgesAlpha2:\"eA2\",kuwaVoroAlpha:\"kuwVA\",edgesKuwa:\"eKuwa\",edgesBlendMode2:\"eBM2\",backgroundColor:\"bgCol\",shadows:\"sh\",highlights:\"hg\",colorFrom:\"cF\",colorReplace:\"cR\",colorThreshold:\"cT\",colorFrom2:\"cF2\",colorReplace2:\"cR2\",colorThreshold2:\"cT2\",colorFrom3:\"cF3\",colorReplace3:\"cR3\",colorThreshold3:\"cT3\",colorFrom4:\"cF4\",colorReplace4:\"cR4\",colorThreshold4:\"cT4\",colorFrom5:\"cF5\",colorReplace5:\"cR5\",colorThreshold5:\"cT5\",redChannel:\"rCh\",redHue:\"rHue\",redSaturation:\"rSat\",redBrightness:\"rBri\",redThreshold:\"rTh\",greenChannel:\"gCh\",greenHue:\"gHue\",greenSaturation:\"gSat\",greenBrightness:\"gBri\",greenThreshold:\"gTh\",blueChannel:\"bCh\",blueHue:\"bHue\",blueSaturation:\"bSat\",blueBrightness:\"bBri\",blueThreshold:\"bTh\",yellowChannel:\"yCh\",yellowHue:\"yHue\",yellowSaturation:\"ySat\",yellowBrightness:\"yBri\",yellowThreshold:\"yTh\",magentaChannel:\"mCh\",magentaHue:\"mHue\",magentaSaturation:\"mSat\",magentaBrightness:\"mBri\",magentaThreshold:\"mTh\",cyanChannel:\"cCh\",cyanHue:\"cHue\",cyanSaturation:\"cSat\",cyanBrightness:\"cBri\",cyanThreshold:\"cTh\",grayChannel:\"grCh\",grayHue:\"grHue\",graySaturation:\"grSat\",grayBrightness:\"grBri\",grayThreshold:\"grTh\",grainScale:\"gScl\",grainPerturb:\"gPert\",noiseStr:\"nStr\",noiseBlendMode:\"nBM\",stainsValue:\"stVal\",stainsBlendMode:\"stBM\",sharpenSize:\"shS\",sharpenBlur:\"shB\",voroStrColor:\"vSC\"};function kr(r,t){const e={};for(const s in r){const i=Object.keys(t).find(n=>t[n]===s)||s;typeof r[s]==\"object\"&&r[s]!==null?e[i]=kr(r[s],t):e[i]=r[s]}return e}function D(r){return kr(r,Ho)}const d=[];d.push({value:d.length,data:{}});d.push({value:d.length,data:D(fn)});d.push({value:d.length,data:D(wo)});d.push({value:d.length,data:D(po)});d.push({value:d.length,data:D(Hn)});d.push({value:d.length,data:D(Kn)});d.push({value:d.length,data:D(Xi)});d.push({value:d.length,data:D(Vn)});d.push({value:d.length,data:D(yn)});d.push({value:d.length,data:D(en)});d.push({value:d.length,data:D(hn)});d.push({value:d.length,data:D(lo)});d.push({value:d.length,data:D(Bn)});d.push({value:d.length,data:D(eo)});d.push({value:d.length,data:D(Do)});d.push({value:d.length,data:D(Vo)});d.push({value:d.length,data:D($o)});class Oo extends x{constructor(){super(),this.ap(\"palette\",0)}get current(){return d[this.params.palette.value].data}}class Wo{constructor(){this.och=new R,this.cbs={w:\"hsl( 65, 50%, 50% )\",sp:\"hsl( 130, 50%, 50% )\",su:\"hsl( 195, 50%, 50% )\",a:\"hsl( 260, 50%, 50% )\"},this.backgroundColor=15065039,this.postprocessData=new Ri,this._dataLayers=[],this.gridData=new Ni,this.gridData.och.add(this._dispatch),this._dataLayers.push(this.gridData),this.deformerData=new Ui,this.deformerData.och.add(this._dispatch),this._dataLayers.push(this.deformerData),this.vegeData=new Ii,this.vegeData.och.add(this._dispatch),this._dataLayers.push(this.vegeData),this.composerData=new Hi,this.composerData.och.add(this._dispatch),this._dataLayers.push(this.composerData),this.paletteData=new Oo}setPalette(t){this.gridData.applyPalette(t),this.vegeData.applyPalette(t),this.deformerData.applyPalette(t),this.composerData.applyPalette(t),this.postprocessData.applyPalette(t),t.backgroundColor!==void 0?this.backgroundColor=t.backgroundColor:this.backgroundColor=15065039,this.hasBGChange=!0}_dispatch=()=>{this.och.dispatch()}}const y=new Wo,Sr=new R;window.addEventListener(\"keydown\",r=>{Sr.dispatch(r.key)});const Go={onDown:Sr};function _r(r){return`${global.id}-${r}`}function jo(r,t){const e=JSON.parse(localStorage.getItem(_r(r)))||[];e.includes(t)||(e.push(t),localStorage.setItem(_r(r),JSON.stringify(e)))}let ht=null;const Mr=new R,de=new R,Jt=new R;function Dr(){return tokenData.hash}function qo(r,t=null){ht=r,ht.init(t),ht.createPrerand()}function Ko(r=!0){ht.reset(),r&&(Mr.dispatch(),Jt.dispatch())}function Xo(r){ht.setHash(r),de.dispatch(),Jt.dispatch()}function Yo(){ht.generateNewHash(),de.dispatch(),Jt.dispatch()}function Zo(r){Go.onDown.add(t=>{switch(t){case\"S\":jo(r,Dr());break}})}const at={load:qo,reset:Ko,setHash:Xo,generateNewHash:Yo,getHash:Dr,activateKeyboard:Zo,onReset:Mr,ochHash:de,onResetOrChangeHash:Jt};class Qo{constructor(){this.ochHash=at.ochHash}start(t,e=null){console.log(\"Engine: start\"),at.load(t,e)}resetHash(t=!0){at.reset(t)}generateNewHash(){at.generateNewHash()}setHash(t){at.setHash(t)}get hash(){return at.getHash()}}const Jo=new Qo;let I=null,Gt=null;function ta(r,{prefix:t=\"\",postfix:e=\"\"}={}){I||(I=document.createElement(\"canvas\"),Gt=I.getContext(\"2d\")),I.width=r.height,I.height=r.width,Gt.translate(I.width\/2,I.height\/2),Gt.rotate(Math.PI\/2),Gt.drawImage(r,-r.width\/2,-r.height\/2);const s=document.createElement(\"a\");s.setAttribute(\"download\",(t?t+\"_\":\"\")+u.id+\"-\"+tokenData.hash+(e?\"_\"+e:\"\")+\".jpg\"),s.setAttribute(\"href\",I.toDataURL(\"image\/jpg\",1)),s.click()}class ea{constructor(){this._isExporting=!1,this._hasToExportData=!1,this._countToExport=100,this.onCompleteExport=new R,this._init()}_init(){window.addEventListener(\"keydown\",t=>{t.key===\"s\"&&ta(u.gl.canvas)})}}var Er=\"in vec2 vUv;_lay0)out vec4 outColor0;_vmoutColor0=vec4(vUv,0.,1.);}\",Br=\"in vec2 uv;in vec3 position;out vec2 vUv;_vmvUv=uv;gl_Position=vec4(position*2.,1.0);}\";const sa=z(Br);function ra({UNF:r={},vertex:t=sa,fragment:e=Er}={}){return new yt(u.gl,{geometry:new At(u.gl,{width:1,height:1}),_pr:new wt(u.gl,{vertex:t,fragment:e,UNF:r,transparent:!0})})}class ft extends Zt{constructor(t=1,e={}){super();const{width:s,height:i}=u.size;this._width=s,this._height=i,this._camera=new gr(this._gl,{fov:50,near:.1,far:1e3,aspect:s\/i}),this._camera.position.set(0,0,5),this._camera.lookAt([0,0,0]),this._renderTarget=this._createRT(t,e),this._uinj=[],this._u={}}init({UNF:t=this._u,textures:e={},fs:s=Er}={}){Object.entries(e).forEach(([i,n])=>{n!==null&&(t[i]={value:n})}),this._u=Object.assign({uSeed:{value:0},uRes:{value:u.resolutionNoDPR},uSR:{value:u.size.width\/u.size.height}},t),this.mesh=ra({UNF:this._u,fragment:s}),this.addChild(this.mesh)}_createRT(t,e){const s={width:this._width,height:this._height,minFilter:u.gl.LINEAR,magFilter:u.gl.NEAREST,wrapS:u.gl.CLAMP_TO_EDGE,wrapT:u.gl.CLAMP_TO_EDGE,color:t},i=Object.assign({},s,e);return new se(u.gl,i)}render(t=-1,e=1,s=!0){this._u&&this._uiu(this._u),this._render(this,this._renderTarget,s)}_setClear(t=-1,e=1){t>=0&&(t=t instanceof $?t:new $(t),u.gl.clearColor(t.r,t.g,t.b,e))}_render(t,e,s=!0){u.renderer.render({scene:t,camera:this._camera,target:e,clear:s})}_gufd(t,{vs:e=null,fs:s=null,UNFToFeed:i=this._u}={}){let n=\"\";n=this._gufp(i,t.params,n);for(let a in t.dataLayers){let l=t.dataLayers[a];n=this._gufp(i,l.params,n)}return s=s.replace(\"#iu_\",n),{vs:e,fs:s}}_gufp(t,e,s){for(let i in e){let n=e[i];if(n.isUniform){let a=\"u\"+i.charAt(0).toUpperCase()+i.slice(1),l=\"float\";typeof n.value==\"boolean\"&&(l=\"bool\");let h=n.value;n.type===\"color\"?(h=new $(h),l=\"vec3\"):typeof h==\"object\"&&(\"min\"in h||\"max\"in h)?(h=new L(h.min,h.max),l=\"vec2\"):n.type===\"int\"&&(l=\"int\"),t[a]={value:h},s+=`uniform ${l} ${a};\r\n`,this._uinj.push({name:a,type:l,from:e,nameParam:i})}}return s}_uiu(t){for(let e of this._uinj){const s=e.from[e.nameParam].value,i=e.type;i===\"vec3\"?t[e.name].value.set(new $(s)):i===\"vec2\"?t[e.name].value.set(s.min,s.max):t[e.name].value=s}}get texture(){return this._renderTarget.texture}get textures(){return this._renderTarget.textures}get camera(){return this._camera}}var ia=`#i_ noiseUtils\r\n#i_ snoise3d\r\n#i_ pnoise2d\r\n#i_ blendmodes\r\n#i_ hsl2rgb\r\n#i_ rgb2hsl\r\n#i_ hueShift\r\n#i_ brightness\r\n#i_ saturation\r\n#iu_\r\n_f s3mod(_v3 v,_f nb){\r\n#i_ snoise3dpart\r\nif(uNoiseMax2==true){p0=max(p0,_v3(0.));p1=max(p1,_v3(0.));p2=max(p2,_v3(0.));p3=max(p3,_v3(0.));}_v4 norm=tisq(_v4(dot(p0,p0),dot(p1,p1),dot(p2,p2),dot(p3,p3)));p0*=norm.x;p1*=norm.y;p2*=norm.z;p3*=norm.w;_f m0=floor(abs(dot(x0,x0))*uSubdiv)\/uSubdiv;_f m1=floor(abs(dot(x1,x1))*uSubdiv)\/uSubdiv;_f m2=floor(abs(dot(x2,x2))*uSubdiv)\/uSubdiv;_f m3=floor(abs(dot(x3,x3))*uSubdiv)\/uSubdiv;if(uSubdiv==0.){m0=dot(x0,x0);m1=dot(x1,x1);m2=dot(x2,x2);m3=dot(x3,x3);}_v4 m=_v4(0.);if(uNoiseMax==true){m=max(nb-_v4(m0,m1,m2,m3),0.);}else{m=nb-_v4(m0,m1,m2,m3);};m=cos(m);_f noise=42.*dot(m*m,_v4(dot(p0,x0),dot(p1,x1),dot(p2,x2),dot(p3,x3)));return noise;}_v3 s3v3m(_v3 x,_f nb){_f s=s3mod(_v3(x),nb);_f s1=s3mod(_v3(x.y-9.07,x.z+31.2,x.x+23.12),nb);_f s2=s3mod(_v3(x.z+74.2,x.x-130.2,x.y+99.4),nb);_v3 c=_v3(s,s1,s2);return c;}_v3 crlNMod(_v3 p,_f nb){const _f e=.1;_v3 dx=_v3(e,0.0,0.0);_v3 dy=_v3(0.0,e,0.0);_v3 dz=_v3(0.0,0.0,e);_v3 p_x0=s3v3m(p-dx,nb);_v3 p_x1=s3v3m(p+dx,nb);_v3 p_y0=s3v3m(p-dy,nb);_v3 p_y1=s3v3m(p+dy,nb);_v3 p_z0=s3v3m(p-dz,nb);_v3 p_z1=s3v3m(p+dz,nb);_f x=p_y1.z-p_y0.z-p_z1.y+p_z0.y;_f y=p_z1.x-p_z0.x-p_x1.z+p_x0.z;_f z=p_x1.y-p_x0.y-p_y1.x+p_y0.x;const _f divisor=1.0\/(2.0*e);return normalize(_v3(x,y,z)*divisor);}_u _s2 tGridLines;_u _s2 tVeges[1];_u _f uSeed;_u _f uSR;_u _v2 uRes;in _v2 vUv;_v4 rgbfch(_v3 o,_v3 ch,_v3 hsl,_f th){_v4 color=_v4(o,0.);_v3 c1=o;_v3 c2=ch;if(distance(c1,c2)<=th){color.rgb=hueshift2(color.rgb,hsl.x);color.rgb=saturation2(color.rgb,hsl.y);color.rgb=brn(color.rgb,hsl.z);color.a=1.;}return color;}_lay0)out _v4 ocl0;_lay1)out _v4 ocl1;_lay2)out _v4 ocl2;_lay3)out _v4 ocl3;_lay4)out _v4 ocl4;_vm_v2 uvM=_v2(vUv.x,vUv.y);_v2 uvM2=uvM;_v2 uvScaled=uvM2*_v2(uSR,1.);_v2 vb=_v2(25.\/uRes.x)*_v2(uSR,1.);_f xb2=_smst(0.,vb.x,vUv.x)-(_smst(1.-vb.x,1.,vUv.x));_f yb2=_smst(0.,vb.y*uSR,vUv.y)-(_smst(1.-vb.y*uSR,1.,vUv.y));_f bdr2=1.-xb2*yb2;_f bdw=uWidthImpact;_f xb=_smst(0.,bdw,vUv.x)-(_smst(1.-bdw,1.,vUv.x));_f yb=_smst(0.,bdw*uSR,vUv.y)-(_smst(1.-bdw*uSR,1.,vUv.y));_f bdr=xb*yb;bdr*=1.-bdr2;bdr=1.-bdr;_f bordersImpact=bdr;_f ombdr=1.-bdr;_v2 viq=(iqrep(_v3(uvScaled*uVoroUvMult,(uSeed+5.)*uVoroSeedMult))*2.-1.);_f vbi=uVoroBorderImpact;_v2 crliqVal=viq*((uVoroStr+(bdr)*vbi)*ombdr);_v2 crliqvc=viq*((uVoroStrColor+(bdr)*vbi)*ombdr);_f voroValue2=(crliqvc.x+crliqvc.y)\/2.;_f iqVal=(abs(snoise3d(vec3(uvScaled*uVoroUvMult,(uSeed+5.))))*2.-1.)*.1*uVoroStrColor*(1.-bdr);iqVal+=(iq(uvScaled*uVoroUvMult,1.1,.7,(uSeed+5.)*uVoroSeedMult)*2.-1.)*.05*uVoroStrColor*(1.-bdr);_f seed=uSeed;_v2 vcn=uvScaled*uCNoiseUVMult*_v2(uCNoiseUVMultX,1.)+(uSeed)*uCNoiseSeedMult;_f cnv1=cnoise(vcn);_f cnv2=cnoise(vcn+_v2(5.2,1.3));_f cnv=cnoise(_v2(cnv1,cnv2))*uCNoiseStr;if(uCNoiseAbs){cnv=abs(cnv);}_v2 ucr=uvScaled;ucr.x*=uCurlUVXMult;_v3 curlP=curlNoise(_v3(uvScaled*uCurlUVMult+uSeed*uCurlSeedMult,0.));_f nsb=uNoiseBase;_v2 uvcrl=ucr*uCurlUVMult;_v3 curl=_v3(0.);curl=crlNMod(_v3(uvcrl+seed*uCurlSeedMult,0.),nsb);_v3 curl2=crlNMod(_v3(uvcrl*_v2(1.,1.)+(seed+10.)*uCurlSeedMult,0.),nsb);ucr+=curlP.xy*uVoroMix2;_v3 curl3=crlNMod(_v3(ucr*uCurlUVMult*_v2(1.,1.)+(seed+20.)*uCurlSeedMult,0.),nsb);_v2 wuv=uvScaled;wuv=mix(wuv,crliqVal,uVoroMix);_v2 originWrapUV=wuv;_v3 vcl1=curl;_v3 vcl2=uWrappingValues>1 ? curl2 : curl;_v3 vcl3=uWrappingValues>2 ? curl3 : curl;_v3 vcl4=uWrappingValues>3 ? curlP : curl;_v3 vcl5=(curl2+curl3)\/2.;_f tierDivider=uTierDivider;_f tier=1.\/tierDivider;_f wuvt=uWrapUVStr*tier;if(uUseWrapUV){wuv-=cnv*uCNoiseMix;wuv+=max(0.,vcl1.r)*max(vcl1.g,vcl1.b)*wuvt;wuv-=max(cnv,vcl1.g)*max(vcl1.r,vcl1.b)*wuvt;wuv-=max(cnv,vcl1.b)*max(vcl1.g,vcl1.r)*wuvt;wuv+=max(0.,vcl2.r)*max(vcl3.g,vcl1.b)*wuvt;wuv-=max(cnv,vcl3.g)*max(vcl3.r,vcl2.b)*wuvt;wuv+=max(0.,vcl2.b)*max(vcl2.g,vcl1.r)*wuvt;if(uWrappingValues>3){wuv+=max(0.,vcl4.r)*max(vcl4.g,vcl4.b)*wuvt;wuv-=max(0.,vcl4.g)*max(vcl3.b,vcl5.r)*wuvt;wuv-=max(0.,vcl4.b)*max(vcl4.b,vcl4.r)*wuvt;wuv-=max(0.,vcl2.g)*max(vcl4.g,vcl4.r)*wuvt;}if(uWrappingValues>4){wuv-=max(0.,vcl5.r)*max(vcl5.g,vcl5.b)*wuvt;wuv-=max(0.,vcl5.g)*max(vcl3.b,vcl5.r)*wuvt;wuv-=max(0.,vcl2.g)*max(vcl5.b,vcl4.r)*wuvt;wuv-=max(0.,vcl5.b)*max(vcl3.g,vcl5.r)*wuvt;wuv-=max(0.,vcl3.g)*max(vcl2.b,vcl5.g)*wuvt;}}_v2 wuvsave2=wuv;_v2 wuvsave=mod(wuv,1.);wuv=wuvsave2;wuv=mod(wuv,1.);wuvsave=wuv;_v2 stepped=step(_v2(.4),wuvsave);_f bw=(stepped.x+stepped.y)\/2.;_f steppedBW=step(.5,bw);ocl2=_v4(_v3(steppedBW),1.);_f vuvuv=(wuvsave2.x+wuvsave2.y)\/2.;ocl4=_v4(vuvuv);ocl4.a=1.;wuvsave=wuv;_f lpb=curlNoise(_v3(uvScaled*(uLinesPerturbUV)-.5*uLinesPerturbSeedMult,uLinesPerturbZ)).r;_f lpb2=curlNoise(_v3(uvScaled*(uLinesPerturbUV)-.5+10.*uLinesPerturbSeedMult,uLinesPerturbZ)).r;_v2 uvlpb=mix(originWrapUV,wuv,uWrapUVMix);uvlpb.x+=lpb*uLinesPerturbStr;uvlpb.y+=lpb2*uLinesPerturbStr;uvlpb=mix(uvM,uvlpb,(1.-bordersImpact));_v2 uv=uvM;uv=uvlpb;_v4 gridLines=_t(tGridLines,uvlpb);gridLines.r=step(.1,gridLines.r);_v4 vege0=_t(tVeges[0],uv);_v4 clr=vege0;clr.rgb=mix(clr.rgb,_v3(clr.rgb)*uColorPerturbMix,step(.25,((curl.x+curl.y+curl.z)\/3.)*wuv.x)*uAlphaPerturbMix);_v4 noiseb=_v4(wuv,0.,1.);_f f=uThresholdSoft\/2.0;_f a=uThreshold-f;_f b=uThreshold+f;_f l=(noiseb.x+noiseb.y+noiseb.z)\/3.0;_f v=_smst(a,b,l);_f rci=(clr.r+clr.g+clr.b)\/3.;_v3 hsl=rgb2hsl(clr.rgb);hsl.y+=.4;hsl.z-=.035;_v3 cb=hsl2rgb(hsl);const _v3 W=_v3(0.2125,0.7154,0.0721);_v3 _iensity=_v3(dot(clr.rgb,W));_v3 changed=mix(_iensity,clr.rgb,uSaturationImpact);cb.rgb=mix(_iensity,cb.rgb,1.05);clr.rgb=mix(clr.rgb,cb,steppedBW);changed=mix(_iensity,clr.rgb,uSaturationImpact);clr.rgb=mix(clr.rgb,changed,(1.-v)*rci);changed=mix(_iensity,clr.rgb,uSaturationImpact);clr.rgb=mix(clr.rgb,changed,1.-steppedBW);ocl0=clr;ocl1=_t(tGridLines,uvlpb);ocl3=noiseb;_v3 iNoise=_v3(1.-noiseb.rgb);_f nsv=(iNoise.r+iNoise.g)\/2.;_v3 rgbbw=_v3((clr.r+clr.g+clr.b)\/3.);_v3 cc=mix(clr.rgb,rgbbw*uNoiseColorColor,1.-nsv);ocl0.rgb=mix(clr.rgb,blmd(uNoiseColorBlend,clr.rgb,cc.rgb,uNoiseColorAlpha),(1.-nsv));ocl0.rgb=mix(ocl0.rgb,blmd(uVoroColor1Blend,ocl0.rgb,uVoroColor1,uVoroColor1Alpha*iqVal*(1.-nsv)),iqVal*uVoroColor1Mix*(1.-nsv));ocl0.rgb=mix(ocl0.rgb,blmd(uVoroColor2Blend,ocl0.rgb,uVoroColor2,uVoroColor2Alpha*voroValue2*nsv),voroValue2*uVoroColor2Mix*nsv);ocl0.rgb=mix(ocl0.rgb,blmd(uVoroColor3Blend,ocl0.rgb,uVoroColor3,uVoroColor3Alpha*(1.-iqVal)*(nsv)),(1.-iqVal)*uVoroColor3Mix*(nsv));_v3 crgb=rgbfch(ocl0.rgb,_v3(1.,0.,0.),_v3(uRedHue,uRedSaturation,uRedBrightness),uRedThreshold).rgb;crgb=rgbfch(crgb,_v3(0.,1.,0.),_v3(uGreenHue,uGreenSaturation,uGreenBrightness),uGreenThreshold).rgb;crgb=rgbfch(crgb,_v3(0.,0.,1.),_v3(uBlueHue,uBlueSaturation,uBlueBrightness),uBlueThreshold).rgb;crgb=rgbfch(crgb,_v3(1.,1.,0.),_v3(uYellowHue,uYellowSaturation,uYellowBrightness),uYellowThreshold).rgb;crgb=rgbfch(crgb,_v3(255.,128.,255.)\/255.,_v3(uMagentaHue,uMagentaSaturation,uMagentaBrightness),uMagentaThreshold).rgb;crgb=rgbfch(crgb,_v3(0.,1.,1.),_v3(uCyanHue,uCyanSaturation,uCyanBrightness),uCyanThreshold).rgb;crgb=rgbfch(crgb,_v3(.5,.5,.5),_v3(uGrayHue,uGraySaturation,uGrayBrightness),uGrayThreshold).rgb;ocl0.rgb=crgb;_v3 px=ocl0.rgb;_v3 eps=_v3(uColorThreshold);_ia_px,uColorFrom-eps)_al_px,uColorFrom+eps))){ocl0.rgb=uColorReplace;}eps=_v3(uColorThreshold2);_ia_px,uColorFrom2-eps)_al_px,uColorFrom2+eps))){ocl0.rgb=uColorReplace2;}eps=_v3(uColorThreshold3);_ia_px,uColorFrom3-eps)_al_px,uColorFrom3+eps))){ocl0.rgb=uColorReplace3;}eps=_v3(uColorThreshold4);_ia_px,uColorFrom4-eps)_al_px,uColorFrom4+eps))){ocl0.rgb=uColorReplace4;}eps=_v3(uColorThreshold5);_ia_px,uColorFrom5-eps)_al_px,uColorFrom5+eps))){ocl0.rgb=uColorReplace5;}}`;let re=ia.replace(\/_ia_\/g,\"if( all( _gte(\");re=re.replace(\/_al_\/g,\" ) && all( _lte(\");const na=z(re);class oa extends ft{constructor(t={}){super(5),this._data=y.deformerData;const{fs:e}=this._gufd(y.deformerData,{fs:na});this.init({textures:t,fs:e})}prepare(t){this._u.tGrid.value=t}render(){this._u.uSeed.value=u.seed>>0,super.render()}get texture(){return this.fxaaPass?this.fxaaPass.texture:super.texture}get textures(){return this.fxaaPass?this.fxaaPass.textures:super.textures}}class vr{constructor({width:t=u.size.width,height:e=u.size.height}={}){this._width=t,this._height=e,this._initEngine()}_initEngine(){this.canvas=document.createElement(\"canvas\"),this.canvas.width=this._width,this.canvas.height=this._height,this.canvas.classList.add(\"patterns\"),this.ctx=this.canvas.getContext(\"2d\"),this.ctx.fillStyle=\"#fff\",this.ctx.fillRect(0,0,this._width,this._height),this.texture=new Qt(u.gl,{image:this.canvas,minFilter:u.gl.NEAREST,magFilter:u.gl.NEAREST,generateMipmaps:!1})}clear({clearColor:t=\"#000\"}={}){this.ctx.fillStyle=t,this.ctx.fillRect(0,0,this._width,this._height)}draw(){}_refreshDebugMesh(){this._UNF.uOpacity.value=.1}resize(t,e){this._width=t,this._height=e,this.canvas.width=this._width,this.canvas.height=this._height,this.canvas.style.width=this._width+\"px\",this.canvas.style.height=this._height+\"px\",this.texture.needsUpdate=!0}}class lt{constructor(t,e,s,i){this.x=t,this.y=e,this.width=s,this.height=i,this._ls=[],this._data=y.gridData.divisions,this._isFinal=!1}divide(t=0,e=1){this._idxDivision=t,this._chanceDivision=e;const s=this.x,i=this.y;this._ls.push({xFrom:s,yFrom:i,xTo:s+this.width,yTo:i}),this._ls.push({xFrom:s,yFrom:i,xTo:s,yTo:i+this.height}),this._ls.push({xFrom:s+this.width,yFrom:i,xTo:s+this.width,yTo:i+this.height}),this._ls.push({xFrom:s,yFrom:i+this.height,xTo:s+this.width,yTo:i+this.height});const n=this._divide(this.x,this.y,this.width,this.height),a=u.rand();!n&&(!this._data.activateChanceFilling||a<this._data.chanceFilling)&&(this._isFinal=!0)}_divide(t,e,s,i){const n=u.rand(),a=u.rand();if(this._idxDivision>=this._data.maxDivisions||n>this._chanceDivision)return!1;const l=y.gridData.divisionsType;let h=y.gridData.margin;const c=s\/2-h*.5,_=i\/2-h*.5;this._cs=[],a>l.full&&a<l.full+l.vertical?(this._cs.push(new lt(t,e,c,i)),this._cs.push(new lt(t+c+h,e,c,i))):a>l.full+l.vertical&&a<l.full+l.vertical+l.horizontal&&(this._cs.push(new lt(t,e,s,_)),this._cs.push(new lt(t,e+_+h,s,_)));for(let v of this._cs)v.divide(this._idxDivision+1,this._chanceDivision*this._data.friction);return!0}seasonize(){if(!this._isFinal){for(let e of this._cs)e.seasonize();return}const t=u.rand();t<.25?this.se=\"w\":t<.5?this.se=\"sp\":t<.75?this.se=\"su\":this.se=\"a\"}draw=t=>{this._isFinal&&(t.save(),t.fillStyle=y.cbs[this.se],t.translate(this.x,this.y),t.fillRect(0,0,this.width,this.height),t.restore())};drawLines=t=>{if(!this._isFinal)return;const e=2,s=e>>1;t.save(),t.strokeStyle=\"#fff\",t.lineWidth=e,t.translate(this.x,this.y),t.strokeRect(-s,-s,this.width+s,this.height+s),t.restore()};get finalCells(){if(this._isFinal)return[this];{let t=[];if(this._cs)for(let e of this._cs)t=t.concat(e.finalCells);return t}}get lines(){let t=[];if(t=t.concat(this._ls),this._cs)for(let e of this._cs)t=t.concat(e.lines);return t}}class aa extends vr{constructor(){super(),this._grids=[],this._gridLines=new vr}generate(){this._cells=[],this._fc=null;const t=y.gridData,e=t.margin,s=(this._width-e*(t.cols+1))\/t.cols,i=(this._height-e*(t.lines+1))\/t.lines;let n=e,a=e;for(let l=0;l<t.lines;l++){for(let h=0;h<t.cols;h++){const c=new lt(n,a,s,i);c.divide(0,t.divisions.chance),this._cells.push(c),n+=s+e}n=e,a+=i+e}this._fc=[],this._fl=[],this._fl.push({xFrom:e,yFrom:e,xTo:this._width-e,yTo:e}),this._fl.push({xFrom:e,yFrom:e,xTo:e,yTo:this._height-e}),this._fl.push({xFrom:this._width-e,yFrom:e,xTo:this._width-e,yTo:this._height-e}),this._fl.push({xFrom:e,yFrom:this._height-e,xTo:this._width-e,yTo:this._height-e});for(let l of this._cells)Array.prototype.push.apply(this._fc,l.finalCells),Array.prototype.push.apply(this._fl,l.lines)}seasonize(){for(let t of this.finalCells)t.seasonize()}render(){this.clear({clearColor:\"#fff\"});for(let t of this._grids)t.clear();this._gridLines.clear();for(let t of this._fc)t.draw(this.ctx);this.texture.needsUpdate=!0,this._gridLines.ctx.strokeStyle=\"#fff\",this._gridLines.ctx.lineWidth=y.gridData.lineWidth,this._gridLines.ctx.beginPath();for(let t of this.finalLines)!t||u.rand()>y.gridData.divisions.chanceDrawLine||(this._gridLines.ctx.moveTo(t.xFrom,t.yFrom),this._gridLines.ctx.lineTo(t.xTo,t.yTo));this._gridLines.ctx.stroke(),this._gridLines.texture.needsUpdate=!0}get finalCells(){return this._fc}get finalLines(){return this._fl}get textureLines(){return this._gridLines.texture}}class la extends ne{constructor(t){t=t;const e=t.count,s=e<<1,i=e<<2;let n=0,a=0,l=0,h=0,c=0,_=0;const v=new Float32Array(i),f=new Float32Array(i*2);for(let k=0;k<i;k++){const te=k;for(let B=0;B<4;B++)v[n]=te,f[a+0]=c\/(t.width-1),f[a+1]=_\/(t.height-1),n+=1,a+=2;c+=1,c>t.width-1&&(c=0,_+=1)}n=0,a=0;let A=1,b=1;const C=new Float32Array(i*2),g=new Float32Array(i*2),p=new Float32Array(i*2);for(let k=0;k<s;k++)g[h+0]=-1*A,g[h+1]=-1*b,p[h+0]=0,p[h+1]=0,g[h+2]=-1*A,g[h+3]=1*b,p[h+2]=0,p[h+3]=1,g[h+4]=1*A,g[h+5]=-1*b,p[h+4]=1,p[h+5]=0,g[h+6]=1*A,g[h+7]=1*b,p[h+6]=1,p[h+7]=1,h+=8;a=0;const m=new Uint32Array(i*3);for(let k=0;k<e;k++)m[l+0]=a,m[l+1]=m[l+4]=a+1,m[l+2]=m[l+3]=a+2,m[l+5]=a+3,a+=4,l+=12;const P={uid:{data:v},uvDataTexture:{size:2,data:f},side:{size:2,data:g},uv:{size:2,data:p},index:{data:m},pos:{size:2,data:C}};super(u.gl,P)}}class zr extends wt{constructor({size:t=10,vs:e=null,fs:s=null,UNF:i={}}={}){i={...i,...{sizePlanes:{value:t},tdtm:{value:null}}};let a=\"\",l=\"\";super(u.gl,{UNF:i,vertex:a+e,fragment:l+s,transparent:!0,cullFace:u.gl.FRONT,depthWrite:!1})}init(t){this.UNF.tdtm.value=t.textureMain}}class ha extends yt{constructor(t,{material:e=new zr}={}){const s=new la(t);e.init(t),super(u.gl,{geometry:s,_pr:e})}}class ua{constructor(t,e){this.reset(t,e)}reset(t,e){this.width=t,this.height=e,this.count=this.width*this.height>>0,this.count4=this.count<<2;const s=new Float32Array(this.count4),i=u.gl;this.tm=new Qt(i,{image:s,width:this.width,height:this.height,type:i.FLOAT,generateMipmaps:!1,target:i.TEXTURE_2D,format:i.RGBA,internalFormat:i.renderer.isWebgl2?i.RGBA32F:i.RGBA,wrapS:i.CLAMP_TO_EDGE,wrapT:i.CLAMP_TO_EDGE,generateMipmaps:!1,minFilter:i.NEAREST,magFilter:i.NEAREST,flipY:!1});for(let n=0;n<this.count4;n+=4)this.tm.image[n+0]=u.prerand(),this.tm.image[n+1]=u.prerand(),this.tm.image[n+2]=0,this.tm.image[n+3]=0;this.tm.needsUpdate=!0}get textureMain(){return this.tm}}var ca=`#define M_PI 3.1415\r\n#define HALF_PI 1.5707\r\n_u _s2 tdtm;_u _s2 tPattern;_u _f ugenhash;_u _f ultMin;_u _f ultAdd;_u _f ultPower;_u _f ullMin;_u _f ullAdd;_u _f ullPower;_u _f urType;_u _v2 urNoise;_u _v2 uHr;_u _v2 uSr;_u _v2 uLr;_u _f ucadV;_u _f ucadSl;_u _f ucadV2;_u _f ucadSl2;_u _v2 uA;_u _f uAPower;_u _f uVisibleThreshold;_u _v2 uTextureSize;_u _f uTextureRatio;in _f uid;in _v2 uvDataTexture;in _v2 side;in _v2 uv;out _v2 vUv;out _v3 vColor;out _f iv;out _f ivs[4];out _f vUid;out _f vUidBase;out _f vModColor1;out _f vModColor2;out _f vAlpha;\r\n#i_ rgb2hsl\r\n#i_ noiseUtils\r\n#i_ snoise2d\r\n_f vh(_v3 p){p=fract(p*0.31+.1);p*=17.0;return fract(p.x*p.y*p.z*(p.x+p.y+p.z));}_f vn(in _v3 x){_v3 i=floor(x);_v3 f=fract(x);f=f*f*(3.0-2.0*f);return mix(mix(mix(vh(i+_v3(0,0,0)),vh(i+_v3(1,0,0)),f.x),mix(vh(i+_v3(0,1,0)),vh(i+_v3(1,1,0)),f.x),f.y),mix(mix(vh(i+_v3(0,0,1)),vh(i+_v3(1,0,1)),f.x),mix(vh(i+_v3(0,1,1)),vh(i+_v3(1,1,1)),f.x),f.y),f.z);}_f hash12(_v2 p){_v3 p3=fract(_v3(p.xyx)*.11);p3+=dot(p3,p3.yzx+33.33);return fract((p3.x+p3.y)*p3.z);}mat3 mfe(_v3 eu){mat3 m;_f a=cos(eu.x);_f b=sin(eu.x);_f c=cos(eu.y);_f d=sin(eu.y);_f e=cos(eu.z);_f f=sin(eu.z);_f ae=a*e;_f af=a*f;_f be=b*e;_f bf=b*f;m[0][0]=c*e;m[0][1]=-c*f;m[0][2]=d;m[1][0]=af+be*d;m[1][1]=ae-bf*d;m[1][2]=-b*c;m[2][0]=bf-ae*d;m[2][1]=be+af*d;m[2][2]=a*c;return m;}_f cBV(_v3 p1,_v3 p2,_f hueToCompare){_f dx=p2.x-p1.x;_f dy=p2.y-p1.y;_f a=atan(dy,dx);_f dist=sqrt(dx*dx+dy*dy);_f acc=dist\/4.;_f x=p1.x;_f y=p1.y;for(_i i=0;i<4;i++){_v3 p=_t(tPattern,_v2(x,y)).rgb;_v3 hsl=rgb2hsl(p);_f hDiff=abs(hueToCompare-hsl.r);if(hDiff>uVisibleThreshold*.19){return 0.;}x+=cos(a)*acc;y+=sin(a)*acc;}return 1.;}_f mtp(_f v,_f miv,_f mav,_f po){_f vSign=sign(v);v=(v-miv)\/(mav-miv);v=vSign>0. ? v : v-1.;v=pow(v*vSign,abs(po));v=vSign>0. ? v : 1.-v;return v*(mav-miv)+miv;}_f rBP(_f miv,_f mav,_f po){if(miv==mav){return miv;}_f value=hash12(_v2(uid,ugenhash))*(mav-miv)+miv;return mtp(value,miv,mav,po);}\r\n#i_ hsl2rgb\r\n_f grnd(){return hash12(_v2(uid,ugenhash));}_f _grinc=0.;_f grinc(){_grinc+=.1;return hash12(_v2(uid+_grinc,ugenhash+_grinc));}_vmvUv=uv;_f id=uid;_v4 dtm=_t(tdtm,uvDataTexture);_v4 dtm2=dtm.xyzw;dtm2.x=mod(dtm2.x,1.);dtm2.y=mod(dtm2.y,1.);dtm2.x=(dtm2.x*1.-.5)*2.;dtm2.y=(dtm2.y*1.-.5)*2.;_f rt=0.;_f canAdd=0.;_f rtType=urType;if(rtType==0.){rt=grinc()*M_PI*2.;canAdd=1.;}else if(rtType==1.){if(grinc()<.75){rt=grinc()*M_PI*2.;canAdd=1.;}else{if(grinc()<.5){rt=0.;}else{rt=M_PI*.5;}}}else if(rtType==2.){if(grinc()<.3){rt=grinc()*M_PI*2.;canAdd=1.;}else{if(grinc()<.5){rt=0.;}else{rt=M_PI*.5;}}}else if(rtType==3.){rt=vn(_v3((dtm.x+ugenhash*.001)*urNoise.x,(dtm.y+ugenhash*.001)*urNoise.y,0.))*M_PI*2.;}_f sgl=ullMin+rBP(0.,ullAdd,ullPower);_f sgt=ultMin+rBP(0.,ultAdd,ultPower);_f scl=1.\/uTextureSize.x*2.;_v3 posBase=_v3(0.);posBase.x+=side.x*sgl*scl;posBase.y+=side.y*sgt*scl;mat3 rtm=mfe(_v3(0.,0.,rt));_v3 p1=_v3(0.);p1.x=-1.*sgl*scl;p1*=rtm;p1.y*=uTextureRatio;p1+=(dtm2.xyz*.5+.5);_v3 p2=_v3(0.);p2.x=1.*sgl*scl;p2*=rtm;p2.y*=uTextureRatio;p2+=(dtm2.xyz*.5+.5);ivs[0]=cBV(p1,p2,65.\/360.);ivs[1]=cBV(p1,p2,130.\/360.);ivs[2]=cBV(p1,p2,195.\/360.);ivs[3]=cBV(p1,p2,260.\/360.);_f ivSum=ivs[0]+ivs[1]+ivs[2]+ivs[3];iv=ivSum>0. ? 1. : 0.;posBase.xyz*=rtm;posBase.y*=uTextureRatio;_v2 pUV=posBase.xy;pUV+=(dtm2.xy*.5+.5);_f hue=rBP(uHr.x,uHr.y,1.);_f saturation=rBP(uSr.x,uSr.y,1.);_f luminosity=rBP(uLr.x,uLr.y,1.);vAlpha=rBP(uA.x,uA.y,uAPower);vColor=_v3(hue,saturation,luminosity);posBase+=_v3(dtm2.x,dtm2.y,0.);_v4 pos=_v4(posBase,1.);vModColor1=vn(_v3((dtm2.x)*ucadSl,(dtm2.y)*ucadSl,0.))*ucadV;vModColor2=vn(_v3((dtm2.x)*ucadSl,(dtm2.y)*ucadSl,0.))*ucadV;_f percentModColor=snoise2d(_v2((dtm2.x)*ucadSl2,(dtm2.y)*ucadSl2));_f baseValue2=1.-ucadV2;vModColor1*=(baseValue2+percentModColor*ucadV2);vModColor2*=(baseValue2+percentModColor*ucadV2);gl_Position=pos;gl_Position.z=grnd();vUid=id;vUidBase=uid;}`,_a=`#ifndef PI\r\n#define PI 3.141592653589793\r\n#endif\r\n_u _f uCountLines;_u _v3 uCs[4];_u _f ucadSat;_u _f ucadLum;_u bool uApplyAlpha;in _v3 vColor;in _f iv;in _f ivs[4];in _f vUid;in _f vModColor1;in _f vModColor2;in _f vAlpha;\r\n#i_ hsl2rgb\r\n_lay0)out vec4 o0;_v3 am(_v3 c,_v3 mod){_f hue=c.r+mod.r;_f sat=c.g+mod.g;_f lum=c.b+mod.b;c=hsl2rgb(hue,sat,lum);return c;}_vmif(vUid>uCountLines){discard;}_v3 mod=_v3(0.);mod.r=vColor.r;mod.g=vColor.g+vModColor1*ucadSat;mod.b=vColor.b+vModColor2*ucadLum;_v3 c0=am(uCs[0],mod);_v3 c1=am(uCs[1],mod);_v3 c2=am(uCs[2],mod);_v3 c3=am(uCs[3],mod);_f a=2.;a=1.;a*=vAlpha;if(uApplyAlpha==false){a=1.;a*=.88;}if(iv==0.){discard;}o0=vec4(c0,a)*ivs[0]+vec4(c1,a)*ivs[1]+vec4(c2,a)*ivs[2]+vec4(c3,a)*ivs[3];}`;function va(r){const t=r>>16&255,e=r>>8&255,s=r&255;return{r:t\/255,g:e\/255,b:s\/255}}function da(r,t,e){var s=Math.max(r,t,e),i=Math.min(r,t,e),n,a,l=(s+i)\/2;if(s==i)n=a=0;else{var h=s-i;switch(a=l>.5?h\/(2-s-i):h\/(s+i),s){case r:n=(t-e)\/h+(t<e?6:0);break;case t:n=(e-r)\/h+2;break;case e:n=(r-t)\/h+4;break}n\/=6}return[n,a,l]}function pa(r,t=!0){const e=va(r),s=da(e.r,e.g,e.b);return t?(s[0]*=360,s[1]*=100,s[2]*=100,`hsl( ${s[0]}, ${s[1]}%, ${s[2]}% )`):s}const dr=function(r){const t=pa(r,!1);return{h:t[0]*360,s:t[1]*100,l:t[2]*100}},fa=z(ca),ga=z(_a);class ba extends ft{constructor(t){super(1),this._u={ugenhash:{value:0},tPattern:{value:t},ultMin:{value:1},ultAdd:{value:0},ultPower:{value:1},ullMin:{value:10},ullAdd:{value:100},ullPower:{value:1},urType:{value:0},urNoise:{value:new L(0,0)},uCs:{value:[new V,new V,new V,new V]},uA:{value:new L},uAPower:{value:4},uApplyAlpha:{value:!0},uHr:{value:new L},uSr:{value:new L},uLr:{value:new L},ucadV:{value:0},ucadSat:{value:0},ucadLum:{value:0},ucadSl:{value:0},ucadV2:{value:0},ucadSl2:{value:0},uVisibleThreshold:{value:1},uCountLines:{value:2e5},uTextureSize:{value:u.resolutionNoDPR},uTextureRatio:{value:u.size.width\/u.size.height}};const e=new zr({UNF:this._u,vs:fa,fs:ga}),s=new ua(1024,1024);this._lines=new ha(s,{material:e}),this.addChild(this._lines)}generate(){this._u.ugenhash.value=u.rand()*15e6+10}render(t=!0){const e=y.vegeData.lines;this._u.uCountLines.value=e.count,this._u.ultMin.value=e.thicknessM,this._u.ultAdd.value=e.thicknessA,this._u.ultPower.value=e.thicknessP,this._u.ullMin.value=e.lengthM,this._u.ullAdd.value=e.lengthA,this._u.ullPower.value=e.lengthP,this._u.urType.value=Math.min(e.rotationType,3),this._u.urNoise.value.set(e.rotationNoise.x,e.rotationNoise.y),this._u.uVisibleThreshold.value=e.visibleThreshold;const s=y.vegeData.colors;let i=s.color1,n=dr(i);for(let l=0;l<4;l++)i=s[\"color\"+(l+1)],n=dr(i),this._u.uCs.value[l].set(n.h\/360,n.s\/100,n.l\/100);this._u.uHr.value.set(s.hueRand.min,s.hueRand.max),this._u.uSr.value.set(s.saturationRand.min,s.saturationRand.max),this._u.uLr.value.set(s.luminosityRand.min,s.luminosityRand.max);const a=y.vegeData.colorAdjustement;this._u.ucadV.value=a.colorAdjustementValue,this._u.ucadSat.value=a.colorAdjustementSat,this._u.ucadLum.value=a.colorAdjustementLum,this._u.ucadSl.value=a.colorAdjustementScale,this._u.ucadV2.value=a.colorAdjustementValue2,this._u.ucadSl2.value=a.colorAdjustementScale2,this._u.uA.value.set(s.alpha.min,s.alpha.max),this._u.uAPower.value=s.alphaPower,this._u.uApplyAlpha.value=s.applyAlpha,t&&super.render()}}var ma=\"uniform _v2 uRes;uniform _f uBoost;in _v3 position;in _v2 uv;out _v2 vUv;out _v2 vnw;out _v2 vne;out _v2 vsw;out _v2 vse;out _v2 vbm;void texcoords(_v2 fc,_v2 res,out _v2 vnw,out _v2 vne,out _v2 vsw,out _v2 vse,out _v2 vbm){_v2 ivp=1.0\/res.xy;vnw=(fc+_v2(-1.0,-1.0))*ivp;vne=(fc+_v2(1.0,-1.0))*ivp;vsw=(fc+_v2(-1.0,1.0))*ivp;vse=(fc+_v2(1.0,1.0))*ivp;vbm=_v2(fc*ivp);}_vmvUv=uv;_v2 resolution=uRes*uBoost;_v2 fragCoord=vUv*resolution;texcoords(fragCoord,resolution,vnw,vne,vsw,vse,vbm);gl_Position=vec4(position*2.,1.);}\",xa=`#define TC {texcount}\r\n_u _s2 _ts[{texcount}];_u _v2 uRes;_u _f uBoost;in _v2 vnw;in _v2 vne;in _v2 vsw;in _v2 vse;in _v2 vbm;in _v2 vUv;_lay0)out _v4 oc0;\r\n#if TC > 1\r\n_lay1)out _v4 oc1;\r\n#endif\r\n#if TC > 2\r\n_lay2)out _v4 oc2;\r\n#endif\r\n#if TC > 3\r\n_lay3)out _v4 oc3;\r\n#endif\r\n#ifndef FRM\r\n#define FRM (1.0\/ 128.0)\r\n#endif\r\n#ifndef FRMU\r\n#define FRMU (1.0 \/ 8.0)\r\n#endif\r\n#ifndef FSM\r\n#define FSM 8.0\r\n#endif\r\n_v4 fxaa(_s2 tex,_v2 fc,_v2 res,_v2 vnw,_v2 vne,_v2 vsw,_v2 vse,_v2 vbm){_v4 color;mediump _v2 ivp=_v2(1.0\/res.x,1.0\/res.y);_v3 rgbNW=_t(tex,vnw).xyz;_v3 rgbNE=_t(tex,vne).xyz;_v3 rgbSW=_t(tex,vsw).xyz;_v3 rgbSE=_t(tex,vse).xyz;_v4 tc=_t(tex,vbm);_v3 rgbM=tc.xyz;_v3 l=_v3(0.299,0.587,0.114);_f lNW=dot(rgbNW,l);_f lNE=dot(rgbNE,l);_f lSW=dot(rgbSW,l);_f lSE=dot(rgbSE,l);_f lM=dot(rgbM,l);_f lMin=min(lM,min(min(lNW,lNE),min(lSW,lSE)));_f lMax=max(lM,max(max(lNW,lNE),max(lSW,lSE)));mediump _v2 dir;dir.x=-((lNW+lNE)-(lSW+lSE));dir.y=((lNW+lSW)-(lNE+lSE));_f dr=max((lNW+lNE+lSW+lSE)*(0.25*FRMU),FRM);_f rc=1.0\/(min(abs(dir.x),abs(dir.y))+dr);dir=min(_v2(FSM,FSM),max(_v2(-FSM,-FSM),dir*rc))*ivp;_v3 rgbA=0.5*(_t(tex,fc*ivp+dir*(1.0\/3.0-0.5)).xyz+_t(tex,fc*ivp+dir*(2.0\/3.0-0.5)).xyz);_v3 rgbB=rgbA*0.5+0.25*(_t(tex,fc*ivp+dir*-0.5).xyz+_t(tex,fc*ivp+dir*0.5).xyz);_f lB=dot(rgbB,l);if((lB<lMin)||(lB>lMax))color=_v4(rgbA,tc.a);else color=_v4(rgbB,tc.a);return color;}_vm_v2 r=uRes*uBoost;_v2 fc=vUv*r;oc0=fxaa(_ts[0],fc,r,vnw,vne,vsw,vse,vbm);\r\n#if TC > 1\r\noc1=fxaa(_ts[1],fc,r,vnw,vne,vsw,vse,vbm);\r\n#endif\r\n#if TC > 2\r\noc2=fxaa(_ts[2],fc,r,vnw,vne,vsw,vse,vbm);\r\n#endif\r\n#if TC > 3\r\noc3=fxaa(_ts[3],fc,r,vnw,vne,vsw,vse,vbm);\r\n#endif\r\n}`;const Ca=z(ma);class wa extends ft{constructor({textures:t=null,resolution:e=new L(u.size.width,u.size.height),boost:s=1}={}){super(t.length,!1),this._UNF={textures:{value:t},uRes:{value:u.resolution},uBoost:{value:s}};let i=z(xa);i=i.replaceAll(\"{texcount}\",t.length),this.mesh=new yt(u.gl,{geometry:new At(u.gl,{width:1,height:1}),_pr:new wt(u.gl,{vertex:Ca,fragment:i,UNF:this._UNF,transparent:!0})}),this.addChild(this.mesh)}}var ya=`#i_ noiseUtils\r\n#i_ snoise3d\r\n#i_ pnoise2d\r\n#i_ pnoise3d\r\n#i_ blendmodes\r\n#i_ edge\r\n#i_ contrast\r\n#i_ khwr\r\n#i_ hueShift\r\n#i_ brightness\r\n#i_ saturation\r\n#i_ grain\r\n#iu_\r\n_u _s2 tp;_u _s2 tl;_u _s2 tb;_u _s2 tbe;_u _s2 tn;_u _s2 tne;_u _s2 tne2;_u _s2 tve;_u _s2 tze;_u _v2 uRes;_u _f uSeed;in _v2 vUv;_lay0)out _v4 oc0;_v4 perm(_v4 x){return mod289(((x*34.0)+1.0)*x);}_f ns(_v3 p){_v3 a=floor(p);_v3 d=p-a;d=d*d*(3.0-2.0*d);_v4 b=a.xxyy+_v4(0.0,1.0,0.0,1.0);_v4 k1=perm(b.xyxy);_v4 k2=perm(k1.xyxy+b.zzww);_v4 c=k2+a.zzzz;_v4 k3=perm(c);_v4 k4=perm(c+1.0);_v4 o1=fract(k3*(1.0\/41.0));_v4 o2=fract(k4*(1.0\/41.0));_v4 o3=o2*d.z+o1*(1.0-d.z);_v2 o4=o3.yw*d.x+o3.xz*(1.0-d.x);return o4.y*d.y+o4.x*(1.0-d.y);}_f gtstns(_v2 o){_f st=1.-_v3(grain(vUv+_v2(0.,o.x),uRes*uGrainScale*.0025)).r;st=_smst(.8,.6,st);st=clamp(st,0.,1.);return st;}_v3 gtgrn(float gs){_f gp=ns(_v3(vUv*_v2(80.,4.),0.));_v3 cn=_v3(grain(vUv,uRes*gs+gp*uGrainPerturb+uSeed*.1));return cn;}_vm_v4 ptt=_t(tp,vUv);_v4 lines=_t(tl,vUv);_v4 noise=_t(tn,vUv);_v3 iNoise=_v3(1.-noise.rgb);_f noiseValue=(iNoise.r+iNoise.g+iNoise.b)\/3.;_v3 noiseValueBoosted=_v4(bmx(-.43)*ctmx(1.45)*_v4(_v3(noiseValue),1.)).rgb;_v4 c=ptt;_v4 ptk1=khwr(tp,vUv,uP1,uRes);c.rgb=(1.-uP1a)*c.rgb+blmd(uP1b,c.rgb,ptk1.rgb,uP1a)*uP1a;c.rgb=(1.-uP2a)*c.rgb+blmd(uP2b,c.rgb,ptk1.rgb,uP2a)*uP2a;_v4 lk13=khwr(tl,vUv,uLs1,uRes);_v4 lk6=khwr(tl,vUv,uLs2,uRes);c.rgb=mix(c.rgb,_v3(uLinesColor),(lk13.r)*1.*uLinesAlpha);c.rgb=mix(c.rgb,_v3(uLinesColor),(lk6.r)*.575*uLinesAlpha);_f v=step(.1,lines.r);_f adjustment=max(.04,(1.-noiseValueBoosted.r));c=mix(c,_v4(uLinesColor,1.),v*0.109*uLinesAlpha*adjustment);_v4 kze=khwr(tze,vUv,3,uRes);c.rgb=mix(c.rgb,_v3(uZonesEdgesColor),kze.r*uZonesEdgesAlpha);_f edges=edge(tn,vUv,uRes);_f e=edges*1.;_v4 e4=1.-_v4(_v3(e),1.);c.rgb=blmd(12,c.rgb,e4.rgb,.087*(1.-e4.a));_v4 khe=khwr(tne,vUv,uEdgesKuwa+1,uRes);_v4 kheBlend=khwr(tne,vUv,uEk1,uRes);_v4 khe10=khwr(tne,vUv,uEdgesKuwa,uRes);_v4 khe3=khwr(tne2,vUv,3,uRes);_v4 khe4=khwr(tne2,vUv,uEk2+1,uRes);_v4 khe5=khwr(tne2,vUv,uEk2+2,uRes);_v4 khe1=khwr(tne,vUv,uEk3,uRes);c.rgb=mix(c.rgb,_v3(uEdgesColor),khe10.r*.34*uEdgesAlpha1);c.rgb=mix(c.rgb,_v3(uEdgesColor),khe.r*.42*uEdgesAlpha1);_f ae=kheBlend.r*.3*uEdgesAlpha2;_f ae3=(khe3.r+khe4.r*.5+khe5.r*.1)*uEdgesAlpha1b;_f ae2=khe1.r*uEdgesAlpha;c.rgb=blmd(uEdgesBlendMode,c.rgb,uEdgesColor3,ae2);c.rgb=blmd(uEdgesBlendMode2,c.rgb,uEdgesColor2,ae);c.rgb=blmd(uEdgesBlendMode3,c.rgb,uEdgesColorB,ae3);_v4 khse14=khwr(tbe,vUv,uSe1,uRes);_v4 khse=khwr(tbe,vUv,uSe2,uRes);c.rgb=mix(c.rgb,_v3(uSpecialEdgeColor),khse.r*uSpecialEdgeAlpha);_f ase14=khse14.r*uKuwaVoroAlpha;_f ase=khse.r*uKuwaVoroAlpha;c.rgb=blmd(uKuwaVoroBlend,c.rgb,uKuwaVoroColor,ase14);c.rgb=blmd(uKuwaVoroBlend,c.rgb,uKuwaVoroColor,ase);oc0=c;_v3 grn1=gtgrn(uGrainScale);_f stns=gtstns(grn1.rg);oc0.rgb=blmd(uNoiseBlendMode,oc0.rgb,grn1,uNoiseStr);oc0.rgb=blmd(uStainsBlendMode,oc0.rgb,_v3(stns),uStainsValue);}`,Aa=`#i_ edge\r\n#i_ contrast\r\n#i_ brightness\r\n_u _s2 tN;_u _f uEB;_u _f uEC;_u _v2 uRes;in _v2 vUv;_lay0)out _v4 outColor0;_v4 tbw(_s2 tex,_v2 co){_v4 c=texture(tex,co);c=bmx(uEB)*ctmx(uEC)*c;c.rgb=brn(c.rgb,uEB);_f bw=(c.r+c.g+c.b)\/3.0;return _v4(_v3(bw),c.a);}_f edge2(in _s2 tex,in _v2 co,in _v2 rs){_f dx=1.0\/rs.x;_f dy=1.0\/rs.y;_v4 p[9];p[0]=_ttb_-1.0*dx,-1.0*dy));p[1]=_ttb_-1.0*dx,0.0*dy));p[2]=_ttb_-1.0*dx,1.0*dy));p[3]=_ttb_0.0*dx,-1.0*dy));p[4]=_ttb_0.0*dx,0.0*dy));p[5]=_ttb_0.0*dx,1.0*dy));p[6]=_ttb_1.0*dx,-1.0*dy));p[7]=_ttb_1.0*dx,0.0*dy));p[8]=_ttb_1.0*dx,1.0*dy));_f d=(edi(p[1],p[7])+edi(p[5],p[3])+edi(p[0],p[8])+edi(p[2],p[6]))\/4.;return eth(0.25,.4,clamp(3.0*d,0.0,1.0));}void main(){_f es=edge2(tN,vUv,uRes);_f e=es*1.;_v4 e4=1.-_v4(_v3(e),1.);outColor0=_v4(1.-e4.rgb,(1.-e4.a));}`;const ka=z(Br),Sa=Aa.replace(\/_ttb_\/g,\"tbw(tex, co + _v2(\");let Ma=z(Sa);class jt extends ft{constructor(t){super(),this._u={tN:{value:t},uEB:{value:1},uEC:{value:1},uRes:{value:u.resolutionNoDPR}},this.mesh=new yt(u.gl,{geometry:new At(u.gl,{width:1,height:1}),_pr:new wt(u.gl,{vertex:ka,fragment:Ma,UNF:this._u,transparent:!0})}),this.addChild(this.mesh)}render(t,e){this._u.uEB.value=t,this._u.uEC.value=e,super.render()}}const Da=z(ya);class Ea extends ft{constructor(t={}){super(1),this._d=y.composerData,this._ne=new jt(t.tn),this._ne2=new jt(t.tn),this._se=new jt(t.tb),this._ze=new jt(t.tz);const{fs:e}=this._gufd(this._d,{fs:Da});this.init({textures:t,fs:e}),this._u.tne={value:this._ne.texture},this._u.tne2={value:this._ne2.texture},this._u.tbe={value:this._se.texture},this._u.tze={value:this._ze.texture},this.fxaaPass=new wa({textures:this._renderTarget.textures})}render(){const t=this._d;this._ne.render(1,t.edgesContrast),this._ne2.render(1,t.edgesContrast2),this._se.render(1,t.specialEdgeContrast),this._ze.render(1,t.zonesEdgeContrast),this._u.uSeed.value=u.seed,super.render(),this.fxaaPass.render()}get texture(){return this.fxaaPass.texture}get tne2(){return this._ne2.texture}}var Ba=`#i_ noiseUtils\r\n#i_ snoise3d\r\n#iu_\r\n_u _f uSeed;_u _f uSR;in vec2 vUv;_lay0)out _v4 outColor0;_vm_v2 uvScaled=vUv*_v2(uSR,1.);_f borderWidth=uWidthImpact;_f xborder=_smst(0.,borderWidth,vUv.x)-(_smst(1.-borderWidth,1.,vUv.x));_f yborder=_smst(0.,borderWidth*uSR,vUv.y)-(_smst(1.-borderWidth*uSR,1.,vUv.y));_f border=xborder*yborder;border=1.-border;vec2 curlIQNoiseVal=(iqrep(_v3(uvScaled*uVoroUvMult,(uSeed+5.)*uVoroSeedMult))*2.-1.)*((uVoroStr+border*uVoroBorderImpact)*(1.-border));outColor0=_v4(curlIQNoiseVal,0.,1.);}`;z(Ba);u.rand;class za extends ft{constructor(){super(),this._grid=new aa(!0),this._vegeLayer=new ba(this._grid.texture),this._def=new oa({tGrid:this._grid.texture,tGridLines:this._grid.textureLines,tVeges:this._vegeLayer.textures},!1),this._cp=new Ea({tp:this._def.textures[0],tl:this._def.textures[1],tb:this._def.textures[2],tn:this._def.textures[3],tz:this._def.textures[4]}),this._orders=[{r:this._grid,data:y.gridData},{r:this._vegeLayer,data:y.vegeData},{r:this._def,data:y.deformerData},{r:this._cp,data:y.composerData}]}generate(){this._grid.generate(),this._grid.seasonize(),this._vegeLayer.generate()}render(t=!1){let e=!1;for(let s of this._orders){if(!s.data){e&&s.r?.render();continue}(t||s.data.isDirty||e)&&(s.r.render(),e=!0)}return super.render(),e}get t(){return this._cp.texture}get td(){return this._def.textures[3]}get tc(){return this._cp.tne2}}function Pa(r,t){return u.rand()*(t-r)+r}class Ta{generate(){u.rand(),y.composerData.grainPerturb=Pa(50,1e3);const t=[2,2,2,3,3,4];let e=t[u.rand()*t.length>>0];y.forceWrap&&(e=2);const s=y.deformerData,i=s.cnoise;s.noiseB.wrappingValues=e,e===4?i.cNoiseUVMult=4.046:i.cNoiseUVMult=3.046;const n=[0,2,4];e===5&&n.push(6);let l=6+n[u.rand()*n.length>>0];e===2?(l-=4,l=Math.max(l,4)):e===3&&(l-=2),s.noise.tierDivider=l}}console.log(\"@florianzumbrunn; Hash: \",tokenData.hash);d.shift();const W=navigator.userAgent;W.match(\/Android\/i)||W.match(\/webOS\/i)||W.match(\/iPhone\/i)||W.match(\/iPod\/i)||W.match(\/BlackBerry\/i)||W.match(\/Windows Phone\/i)?u.dpr=.4:W.match(\/iPad\/i)&&(u.dpr=.7);Jo.start(Ir,tokenData.hash);let La=d[d.length*u.rand()>>0];y.setPalette(La.data);new ea;const G=new Fi(u.size.width,u.size.height);G.initWebGL();u.sketch=G;const pe=new za,Va=new Ta;Va.generate();G.setBgColor(y.backgroundColor);G.renderWebGL({clear:!0});document.body.appendChild(u.gl.canvas);const Fa=()=>{G.artwork=pe.t,G.setBgColor(y.backgroundColor),G.renderWebGL({options:y.postprocessData,clear:!0})};u.seed=600+u.rand()*100;pe.generate();pe.render(y.hasBGChange);setTimeout(()=>{Fa(),u.gl.canvas.style.display=\"block\"},10);\r\n",
  "tokens" : [
    {
      "hash" : "0x8afbf286782a3e6b1dd39d65e19439e6a10ba89ca2678859baa8a15154831fb0",
      "id" : "76000034"
    },
    {
      "hash" : "0x0ef4b11f4d20aa66c25132e562a5fc9d7b33cad7789ad288771e5c9d4ed4e0f1",
      "id" : "76000068"
    },
    {
      "hash" : "0x4fa123e4829cc4bb81d11e958b5ab3f46a2b6229fd7ad782b2ba96ec600172c4",
      "id" : "76000023"
    },
    {
      "hash" : "0xfdab6155bcdaa68ff0f051d7defc8721041279e815fcd6ea61a62a814e039c91",
      "id" : "76000070"
    },
    {
      "hash" : "0xaa1c86ed92f2d58bbcc90c4c5226f3ccd80f498cad4321d1942306280533b9df",
      "id" : "76000072"
    },
    {
      "hash" : "0x08c5e57cf8f020e8b074e74a260f34f12ef63facd6664001285094d8b446c5ef",
      "id" : "76000075"
    },
    {
      "hash" : "0xb6d1a39280fcafc0e8a701fa4c612633abd8e683a6efa7dd846d2c94b159df68",
      "id" : "76000042"
    },
    {
      "hash" : "0x6d727a8d33b8a713f8b76c819c54c4cf7441ba2c17646b5ba3977698599795a2",
      "id" : "76000067"
    },
    {
      "hash" : "0x7291e01317ef42c7e54705c1f805c2d187dec89f571cdd464c073fd0762cc2d2",
      "id" : "76000002"
    },
    {
      "hash" : "0x37fcf024685a9e2c42107d79ba6ee9b3d286bcd1db2c3b8397b79f02491637d0",
      "id" : "76000088"
    },
    {
      "hash" : "0x2d6bedf9815faa27022f0fa2585a60dcce10b05323684b47aca0642959bbb417",
      "id" : "76000097"
    },
    {
      "hash" : "0x961a0f1a0798f4281296e633038ca57306f4f8a5029fa2fb714b6903cee39c26",
      "id" : "76000096"
    },
    {
      "hash" : "0x5ae37b73bcfd3a271695e020e8c0b3b51f0267c0eb5ed91ce6311f4e6d231697",
      "id" : "76000099"
    },
    {
      "hash" : "0xa8bd0a3f2fc4aacef13bdb3d4a27dee327f585920382b9a9e9fa270a37b44d9c",
      "id" : "76000098"
    },
    {
      "hash" : "0xc266ac64d11373ab036ae298e701737495a9c0b0ff5ed905d3bb57b7370a0c44",
      "id" : "76000019"
    },
    {
      "hash" : "0x7407b595d27619ec8ad4726772f9f87116851a357067c45cd2105cb2391e7892",
      "id" : "76000020"
    },
    {
      "hash" : "0xbc22cb4542c8c3e3b56d6bf18cdc2d612089ccab50fe888550b7d9ec0ed31262",
      "id" : "76000026"
    },
    {
      "hash" : "0xcf307666adaf8c411800501d1afbec2af6fcca3ef8994925101174a4f5ca1df1",
      "id" : "76000029"
    },
    {
      "hash" : "0x6d2bc72228b8ec2b56311ff61c31cd1a61355cf9f9c5ec65c21e431847a151ad",
      "id" : "76000033"
    },
    {
      "hash" : "0x4d071dbab5469f1ea693d8f0f17f65a01c1b40b01a5d19885e2189d1601b4203",
      "id" : "76000045"
    },
    {
      "hash" : "0x12d5da0eb4557d5927c7f3a699d53c8aa3b730a48bfa12413f02c1dc7f583a34",
      "id" : "76000058"
    },
    {
      "hash" : "0xcb1016270fc72dcc96bfbd452f394f5bcc2b24826f8304e9fe2d841993f05a86",
      "id" : "76000060"
    },
    {
      "hash" : "0xdff85a3fd3f39d2cbc95a018061c79a612783ee3fbf1e42f9a0cc6ee821b231c",
      "id" : "76000074"
    },
    {
      "hash" : "0x44f8122a3ea574f8d501449b5fe56b040aa5271eebd776db285063c3d39602a7",
      "id" : "76000081"
    },
    {
      "hash" : "0xf726ad378c13559f72f01ac6565aa3444c3790b8f19fce735f5829f3b997fed7",
      "id" : "76000054"
    },
    {
      "hash" : "0xd21f330d590e9faed95347b6235457da4efd1e26ba103d7e313e29c9a855fb09",
      "id" : "76000050"
    },
    {
      "hash" : "0x269bb21812c2da2e0f3188bf5e5e1cee6cdf8188b558ccb01be7e22a44378d0a",
      "id" : "76000059"
    },
    {
      "hash" : "0x9978f0c075ec15112b82fb4bf2059427a2ab0b9292efcfd6524884dd9abb824e",
      "id" : "76000022"
    },
    {
      "hash" : "0xd972c34a51f54d6ea80e0963ec94054d450e3dd11cb84b6351df7dc5715b8178",
      "id" : "76000056"
    },
    {
      "hash" : "0x3a14527aa6e1531251819c771f53632843ff467b7d0d33863c7c65ec85bcc61c",
      "id" : "76000003"
    },
    {
      "hash" : "0x0d057d4e822cb3bad7e91cf11d83e17261753d552e5210bcf486829ce44e679c",
      "id" : "76000001"
    },
    {
      "hash" : "0x7da2ac8a110ad16721ece9987f6ae4dc6569e7e1cc299c2335c482ea1a89e681",
      "id" : "76000010"
    },
    {
      "hash" : "0xa3511a50c730cce28a98cafe523e10ba50a299690e1f920df4dab658723d6219",
      "id" : "76000017"
    },
    {
      "hash" : "0x16d8c59d9fd5dbb25a8b993e93c1d00f0a5b76109a1708e39186bbd4eaca390e",
      "id" : "76000021"
    },
    {
      "hash" : "0xf5bfbfa96cad412ababfc7d5df0dad4264c5cdb0e98c43ac76cc4fe0dc6d7a94",
      "id" : "76000027"
    },
    {
      "hash" : "0x0d594f3a5e36e4206fcc9159bd39b3cc478a47ed8b22724b7954dd8269b67273",
      "id" : "76000040"
    },
    {
      "hash" : "0x7e41240697e23a95bf55b2f1d2087dbb8c3d68ca19e0d2b7e4a8dda2c4cd472f",
      "id" : "76000044"
    },
    {
      "hash" : "0x3061dd54392be4ae8db6250f463fb688753e73f35143a1cd1b1f27dfed961674",
      "id" : "76000087"
    },
    {
      "hash" : "0x3a11a0ce63e1aeab6707a59f4e0458ee56dd52c7cb794c56fe7e616f78281be4",
      "id" : "76000095"
    },
    {
      "hash" : "0xf56cb28f0ada789f3f0a832401808170a53dab2519d7ca92e944bc9cb833c12b",
      "id" : "76000028"
    },
    {
      "hash" : "0xfa9bbcca18fb177698d737f9d9931cb76493d963033b4d8cffe12a7d95af47dd",
      "id" : "76000009"
    },
    {
      "hash" : "0x63b4a1e84f6d8be56b2a5e317d4d1740ca5567c6816f1f2db632a979c3ffc14e",
      "id" : "76000073"
    },
    {
      "hash" : "0x6a4a2c7ebfdea495174deefbbd5281d7ac5df3d403c5e52d2487e737fb3e3706",
      "id" : "76000090"
    },
    {
      "hash" : "0x8d1e753bd4296445074c0a4f382bcf5063713db6da2a1f671c60447dfce27f42",
      "id" : "76000024"
    },
    {
      "hash" : "0xf5d7e994906ea8449af296740ab17b3f448ac997ff8a07aa4d2e47c752dcb661",
      "id" : "76000079"
    },
    {
      "hash" : "0xadcc15694a07ce1d65ca5749f1de73ade9560d58f717f5ecfb32e38000e2f97f",
      "id" : "76000030"
    },
    {
      "hash" : "0xa0b453443bd2ee803d41fdddfca1faa93fb247b5891aea211fba0169682a6bc6",
      "id" : "76000055"
    },
    {
      "hash" : "0xaf7db7a322697232458a1e0dfea074478920e10590dc0abeb176cc9d785b7e93",
      "id" : "76000008"
    },
    {
      "hash" : "0x05369831b7a078c359f2ed3fefba806263c00b07d05d02408d90aa1ea1ead503",
      "id" : "76000048"
    },
    {
      "hash" : "0xf9ead21fffa8f0c4cbdacea188ee953bd4468fc2487ab259f685b1a5f47f2eed",
      "id" : "76000069"
    },
    {
      "hash" : "0x8d2de6ec13527b0d921711bb6e4d53b02d0622181d85e0247ba7659232d97359",
      "id" : "76000043"
    },
    {
      "hash" : "0x268d27c48bdc18863020b2cae4832c70d3b4608693c48dfde6c2f699a523113c",
      "id" : "76000091"
    },
    {
      "hash" : "0x5ae261f0627a27d05ceb891410038ffdfb51571c63dafdd8bdacdc7fab9aaed6",
      "id" : "76000006"
    },
    {
      "hash" : "0x3b4569973ea8a3923bd73129199d5593d57d5f8494a8a21ebab8c60e98fcd04c",
      "id" : "76000049"
    },
    {
      "hash" : "0xbb1e671615956b461c8cc9f0811830179e5e866b9705ff862a748c926b3b0653",
      "id" : "76000037"
    },
    {
      "hash" : "0x1a4519c3fa88510e4f125fcef033e0bb7c0dea8594b131bbe5355d752273b53e",
      "id" : "76000057"
    },
    {
      "hash" : "0xcde3ae3d8f399632a8fc7cbb2d77a73b8cc8315dcdc14c8eb50efd90b8d982d3",
      "id" : "76000004"
    },
    {
      "hash" : "0xb23ebd8e7f0577012df6a4af14adba1badc4c7adbb168259a63619e371bc5630",
      "id" : "76000052"
    },
    {
      "hash" : "0x23e40e85bee9cb2ace5e279a63c19629039a367f1a0eda232a04c45c82aefb42",
      "id" : "76000071"
    },
    {
      "hash" : "0x72fc7f69614027b4660370db1d309aab580e5bbf81a3f089f8cb4c594c6de333",
      "id" : "76000085"
    },
    {
      "hash" : "0x5b06fe85bad12ed5bde861a601976d867eb1fa3c64db0f0aafa3bf47e911277f",
      "id" : "76000051"
    },
    {
      "hash" : "0x9ae6f69a7211725dcc95beaeff2a5a3796c5b88be12bcd8c0c4b72df84563e20",
      "id" : "76000082"
    },
    {
      "hash" : "0xe8f3f44c41d5c3a1e54289289497c348dae90d5479ec9f20919b3b964b1de7cc",
      "id" : "76000089"
    },
    {
      "hash" : "0x88a115ab4bb7098d5a857be02736279684ac040176e2e6fdd1301c606e3e172d",
      "id" : "76000011"
    },
    {
      "hash" : "0x12c91b3bf121ef4b2dbb0d40f6ff33661056939bc4d4b2b9b176af3b47dd167c",
      "id" : "76000031"
    },
    {
      "hash" : "0xd787b63fccaceb28b10cd79ed3a5b616a064a3cb2ece5517ab2f5f41340caf62",
      "id" : "76000084"
    },
    {
      "hash" : "0x99360af37e42d2e78e73fa5ad7e9c56300ad46ba1ef5ad04f4151590b40ee95a",
      "id" : "76000038"
    },
    {
      "hash" : "0xe8ca68317fdbdb625e0d95e12a0b1e812878abdb82c5f3e26e2140590a5946b0",
      "id" : "76000077"
    },
    {
      "hash" : "0x5530242bf46e1dd83cfc863094b8281d3f54ba736de39d54e2ad8761e1c1b32a",
      "id" : "76000014"
    },
    {
      "hash" : "0xe4500e981e44a2fe31a9535a0050fdaaead6e673963ab28993827e5e09f6bf9b",
      "id" : "76000018"
    },
    {
      "hash" : "0x61eff69c903a4f331f962f471204391b7d1e9a08a43aa953bebf5f0b62b6c5f2",
      "id" : "76000080"
    },
    {
      "hash" : "0x7fb6de9aa86459187f1eaeab3febdfacaba400b10571a833eff39ea009fd56ca",
      "id" : "76000041"
    },
    {
      "hash" : "0xfa4f3c8afe22cf36f82793708c47d7ef509e43ad1d54311e10e84eb1fe0725f6",
      "id" : "76000063"
    },
    {
      "hash" : "0x37b970c7f01cdb984936f0674315ebc0f01145a9c3d9f44882593f06830157bd",
      "id" : "76000035"
    },
    {
      "hash" : "0x635f06a20128ae780f44fca9c2e08928b53a43e8c0fec0c69aafb41ae00066d4",
      "id" : "76000093"
    },
    {
      "hash" : "0x4ff8a134f2e93e8c2b683751825f6061a2b8919f2026d26b47f5cd0cce4c4cce",
      "id" : "76000076"
    },
    {
      "hash" : "0x610e7c85d5795cb8812b6e5ef99c8746d94405ffc78f70a7b169c9166f098d11",
      "id" : "76000064"
    },
    {
      "hash" : "0xa5f847a68f04665a93fac494538f6805bb09940768c4fdadc7404a88ad209182",
      "id" : "76000066"
    },
    {
      "hash" : "0x41c40774947258348da4bc8e4ba44f6ca672822e0d5f88c0b73baba657c003b7",
      "id" : "76000053"
    },
    {
      "hash" : "0x2e96aa23fa47b8ad150c90b94dd62a9cfbb6bc06c8ce1fb31deaea8f6f25c0d1",
      "id" : "76000061"
    },
    {
      "hash" : "0x44badcf86fdc9eaa134fe3f63046381f49b8796603957d878b7be07826006f1a",
      "id" : "76000092"
    },
    {
      "hash" : "0x6847857885b3ffeddfb9163d717b203500e33b5f3ed4dfb6260c3e8bbcf46d2c",
      "id" : "76000025"
    },
    {
      "hash" : "0x92b97559cedceabd003459d8b78eba6668d5d5bd1ba83be39562a7f086787af2",
      "id" : "76000013"
    },
    {
      "hash" : "0xe09e99fc7d5832bf9469fc849d6c1e0a260e65cbcdf5ada284828acd8d017154",
      "id" : "76000047"
    },
    {
      "hash" : "0x07eca32cbe3db61dbf1d2bb243ec6f2ce3860ac8a2c6cf57eee75ab1cf07057f",
      "id" : "76000012"
    },
    {
      "hash" : "0x3114bfe7eeed95554e7d96216348b5f7bf8e6987ea64165c709a2512c3681dca",
      "id" : "76000007"
    },
    {
      "hash" : "0xc0dbcbfa1cae81859b19fe096acb2dc65040c828650e3dbc332f85ce269f7d1b",
      "id" : "76000065"
    },
    {
      "hash" : "0x1a9f0cc103e84aaddd646793fcd45118dea657d9f1180b807e0406955160ca50",
      "id" : "76000015"
    },
    {
      "hash" : "0xabc5cb292b2308f33f0847bd475cd702ebe18e0b5856def35d5ffdcddf8f0e26",
      "id" : "76000032"
    },
    {
      "hash" : "0x54a057da765ba7307fb8b56f26601c016f115190a556ee0a27bcba2ffc2091b9",
      "id" : "76000094"
    },
    {
      "hash" : "0x99194e83fbbf4b2f5e0e1067214b3f4a2c0b7d53ce0f142f71a9b6cb3c4b1ede",
      "id" : "76000016"
    },
    {
      "hash" : "0x8bf8c2dccecb70d1e0a0db1ca39719f96b7a43e7eecef681d673b914734daacd",
      "id" : "76000036"
    },
    {
      "hash" : "0xf33b563ed5bfc951b57ca0d4529a049aa5a6868987fb2217444aef0ab46efa2f",
      "id" : "76000083"
    },
    {
      "hash" : "0xd7f0be4ee55ae2c554f0d4727f9930edb94cb44455fd0fb2d05fe07b10a525a7",
      "id" : "76000086"
    },
    {
      "hash" : "0xa89649e729b550a167b394a1f2874fcf13642f9021aa909de762fbe9be48c05b",
      "id" : "76000005"
    },
    {
      "hash" : "0x91469e91a84a7411d5e05d876377bf81af176fc57fd9b998f86d8e844fc767a7",
      "id" : "76000078"
    },
    {
      "hash" : "0x92763c87cce6c83379357763aa514991765f2030e0532a401f61204f66f89e08",
      "id" : "76000046"
    },
    {
      "hash" : "0xdbc80e9a25cc4fb9891db54df6c6848b796e660448ccbe4848158d1420b67091",
      "id" : "76000062"
    },
    {
      "hash" : "0x7b3ff05086610bbc84f067dca033c1b474a36ea5b98b369b4a934103461976ae",
      "id" : "76000039"
    },
    {
      "hash" : "0x9e07bc5c487a56fd99d582f831c4301840b30c143fff48292f3cde68c58d0be7",
      "id" : "76000000"
    }
  ]
}