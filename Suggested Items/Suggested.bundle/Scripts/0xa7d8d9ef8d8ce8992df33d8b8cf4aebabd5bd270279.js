const a=/\bHeadlessChrome/.test(navigator.userAgent);var e=window.devicePixelRatio,n=!1;class o{constructor(){this.t=0;let r=function(r){let a=parseInt(r.substr(0,8),16),t=parseInt(r.substr(8,8),16),e=parseInt(r.substr(16,8),16),n=parseInt(r.substr(24,8),16);return function(){a|=0,t|=0,e|=0,n|=0;let r=(a+t|0)+n|0;return n=n+1|0,a=t^t>>>9,t=e+(e<<3)|0,e=e<<21|e>>>11,e=e+r|0,(r>>>0)/4294967296}};this.o=new r(tokenData.hash.substr(2,32)),this.v=new r(tokenData.hash.substr(34,32));for(let r=0;r<1e6;r+=2)this.o(),this.v()}i(){return this.t=!this.t,this.t?this.o():this.v()}u(r,a){return r+(a-r)*this.i()}T(r,a){return g(this.u(r,a+1))}H(r){return this.i()<r}}let v=new o;for(var i=[],s=0;s<40;s++)i.push(v.i());let f=r=>v.i()*r,l=(r,a)=>i[r]*a,E=(r,a)=>v.T(a,r),w=(r,a,t)=>g(t+(a+1-t)*i[r]),u=(r,a,t)=>Math.min(Math.max(t,g(q(i[r]-.01)*(a-1)+t)),a),T=(r,a,t,e,n,o,v,i,s)=>{r.length>0&&(a=a<r.length?r.length:a,t=t<e.length?e.length:t,lt(n,r,e,o,v),s&&(i.R=e.length))},H=(r,a,t,e,n)=>{r.m[0]={},r.m[0].p=N(r.p),r.m[0].M=N(r.M),r.m[0].I=a,r.m[0]._=t,r.m[0].k=e,r.m[0].A=n},R=r=>{let a=a=>{a=a.join("");for(var t=1+parseInt(r.B[r.B.length-1]),e=0;e<a.length;e++)r.B+=t;r.C+=a.slice()};for(var t=[],e=0;e<r.C.length;e++)for(var n=0;n<7;n++){if(r.C[e]==n){if(t.push(r.q[n]),r.D+=1,54*r.D>kr)return void a(t);break}if(r.C[e]==ea){t.push(r.q[7]);break}if(r.C[e]==ta){t.push(r.q[8]);break}if(r.C.length+t.length>2500)return void a(t)}a(t)};function c(){for(this.q=[],this.F=this.W=this.R=this.k=this.j=this.G=this.J=this.K=this.A=this.D=0,this._=1,this.I=.1,this.m={},this.C="";this.C.length<5;)this.C+=E(6,1).toString();this.B="00000",this.M=G(0,.1,0),this.p=N(this.M),H(this,.5,1,0,0),this.L=r=>{this.q=r}}let m=(r,a,t)=>G(r,a,.99999).unproject(t),p=(r,a,t)=>new THREE.Color(r,a,t),d=()=>new THREE.Color,b=()=>new THREE.PerspectiveCamera(70,window.innerWidth/window.innerHeight,.2,500),M=(r,a)=>(me=new THREE.Mesh(r,a),me.frustumCulled=0,zr||(me.castShadow=1,me.receiveShadow=1),me),I=r=>{r.N=M(r.O,r.P),r.S=M(r.U,r.V),r.X=br?new THREE.Points(r.U,r.Y):{},r.X.receiveShadow=1,r.X.frustumCulled=0},_=(r,a,t,e)=>{r.setHSL(a,t,e)},y=()=>({h:0,s:0,l:0}),k=(r,a,t)=>r[a].Z>3*r[t].Z?3*r[t].Z:r[a].Z,A=(r,a,t)=>r*(1-t)+a*t,z=r=>{r.updateProjectionMatrix()},B=r=>{va.add(r)},C=r=>{va.remove(r)},g=r=>Math.floor(r),q=r=>Math.abs(r),x=(r,a)=>Math.pow(r,a),D=(r,a)=>{r.applyMatrix3(a)},F=(r,a)=>r.multiplyScalar(a),W=r=>new Array(r),j=()=>new THREE.Vector3,G=(r,a,t)=>new THREE.Vector3(r,a,t),J=()=>new THREE.Matrix3,K=(r,a,t)=>{r.clampLength(a,t)},L=(r,a)=>{r.copy(a)},N=r=>r.clone(),O=r=>Math.sin(r),P=r=>Math.cos(r),Q=(r,a,t)=>r.addVectors(a,t),S=(r,a)=>{for(var t=1;t<Na-1;t++)r[a.W]=a.k,r[a.W+1]=a.k+t,r[a.W+2]=a.k+t+1,a.W+=3;a.k+=Na},U=(r,a)=>{r.p=N(r.m[a].p),r.M=N(r.m[a].M),r.I=r.m[a].I,r._=r.m[a]._,r.A=r.m[a].A},V=r=>Hr>1||br||wr||fr?r.$.length<50?1:0:r.$.length<100,X=(r,a,t,e,n,o,v,i)=>{i=wr||br?1:i,V(r)&&(r.rr.push(i),r.$.push(a.k),r.ar.push(N(e)),r.tr.push(a.I),r.er.push(n),r.nr.push(o),r.vr.push(N(t)),r.ir.push(v))},Y=(r,a,t,e,n)=>{r.copy(a),r.offsetHSL(t,e,n)};var Z=W(12),$=W(6),rr=new THREE.BufferGeometry,ar="normal",tr="position",er="color";const nr=Math.PI,or=2*Math.PI;var vr=l(27,1),ir=.9;let sr=()=>(r=f(1),.4*(x(1-r,5)+q(1-x(r,7)))+.1);var fr,lr=l(29,1)<.5,hr=vr<.3,Er=vr>.6,wr=l(17,1)<.03,ur=wr?1:l(20,1)<.09,Tr=wr?0:l(16,1)>.9,Hr=wr?1:l(1,100)<3?3:1,Rr=wr?0:l(29,1)<.5?1:0,cr=Tr&&l(4,1)<.1?1:0,mr=l(29,.1)+.1,pr=Tr?1:wr?.1:(l(18,.1)+.09)*Hr,dr=u(1,3,2),br=wr||Hr>1||l(17,1)<.2?.7:0,Mr=l(20,.5)+2,Ir=l(15,.36)+.07515,_r=Hr>1?2:w(19,3,2),yr=3e4,kr=g(Hr>1?.5*yr/_r:yr/_r),Ar=sr(),zr=(fr=!Boolean(u(14,9,0)))?0:l(29,1)<.02,Br=fr?2:w(23,3,1),Cr=(ur=(fr=wr?0:fr)?0:ur,fr?.05:.85);let gr=r=>d().setHSL(l(r,1),1,.5);var qr=gr(9),xr=fr?0:l(26,1)<.95?1:0,Dr=w(10,17,0),Fr=[[.483,.511,.584],[.252,.139,.56],[.164,.153,.221],[.166,.113,.23],[.198,.421,.419],[.298,.352,.301],[.662,.434,.443],[.239,.192,.062],[.066,.282,.203],[.201,.209,.148],[.09,.198,.383],[.151,.299,.29],[.05,.241,.356],[.09,.198,.385],[.315,.316,.32],[.669,.436,.558],[.14,.31,.52],[.072,.111,.204],[.2,.21,.127]],Wr=[[.415,.496,.068],[.029,.144,.02],[.415,.496,.068],[0,.343,.256],[.395,.496,.068],[.495,.496,.068],[.399,.496,.068],[.122,.144,.02],[.123,.144,.02],[.39,.496,.068],[.047,.0741,0],[.391,.496,.068],[.616,.644,.7],[.021,.144,.02],[.388,.496,.068],[.441,.496,.068],[.2,.24,.2],[.411,.496,.068],[.394,.496,.068]],jr=[[.757,.841,.626],[.825,.669,.475],[.43,.624,.35],[.679,.334,.263],[.789,.495,.43],[.776,.639,.639],[.795,.874,.902],[.444,.142,.759],[.72,.45,.228],[.408,.349,.608],[.77,.329,.297],[.728,.334,.322],[.826,.625,.18],[.778,.298,.631],[.659,.635,.576],[.797,.824,.904],[.97,.98,.54],[.549,.69,.186],[.4,.3,.63]];xr&&(qr=p(Fr[Dr][0],Fr[Dr][1],Fr[Dr][2]));var Gr=l(16,1)<.3,Jr=fr?0:l(17,1)<Cr,Kr=fr?1:l(23,.7)<.01,Lr=l(22,.3),Nr=ur?.2:q(.85-x(l(19,1),9));Nr=br?.5:Nr,Hr>1&&(Nr=.1);var Or=wr?1:l(3,1)<.985;Boolean(Or)||(zr=0);var Pr=0,Qr=45,Sr=360,Ur=1,Vr=0,Xr=.015,Yr=0,Zr=1,$r=0,ra=0,aa=0;const ta="]",ea="[";let na,oa,va,ia,sa,fa=!0,la=!0,ha=new THREE.Clock;var Ea,wa=0,ua=u(7,2,1),Ta=u(9,2,0),Ha=l(17,.1),Ra=l(25,1)<.2,ca=G(),ma=j(),pa=j(),da=G(),ba=G(),Ma=G(),Ia=j(),_a=j(),ya=0,ka=0,Aa=d(),za=d(),Ba=d(),Ca=0,ga=0,qa=G(0,0,0);let xa=(r,a)=>{var t=r.project(a);return t.x=(t.x+1)/2,t.y=-(t.y-1)/2,t};var Da={},Fa=[0,0,0,0],Wa=20;let ja=()=>new THREE.MeshStandardMaterial({color:16777215,transparent:1,vertexColors:1,depthTest:0}),Ga=()=>new THREE.PointsMaterial({size:2,sizeAttenuation:0,opacity:1,transparent:1,color:fr?Aa:za}),Ja=r=>{var a=Da[r];1==fa&&(a={}),a.Z=0,a.sr=G(0,0,0),a.lr=w(r,9,1),a.hr=new c(r),a.Er=[],a.wr=Ar+.0174*(3*f(1)-1.5),a.O=new THREE.BufferGeometry,a.U=new THREE.BufferGeometry,a.ur=a.Tr=a.Hr=a.Rr=2e3,a.cr=1,a.P=ja(),a.V=ja(),a.V.side=2,a.Y=Ga(),Boolean(ur)||(a.V.wireframe=Hr>1?0:fr,a.P.wireframe=fr),I(a),a.X.receiveShadow=1,Da[r]=a},Ka=r=>{var a=Da[r];a.Z=0;var t=a.hr.C,e=a.hr.G,n=a.wr,o=a.hr.B;h=a.hr.j,a.hr=new c(r),a.hr.C=t,a.hr.G=e,a.wr=n,a.hr.B=o,a.hr.j=h},La=(r,a)=>{for(var t=[],e=0;e<Sr;e+=r){var n=F(G(0,0,1),O(e*or/Sr)),o=F(G(1,0,0),P(e*or/Sr));Q(t[e/r]=j(),n,o),a&&K(t[e/r],.01,.015)}return t};var Na=Sr/Wa,Oa=La(Wa,0),Pa=Wa/2,Qa=Sr/Pa,Sa=La(Pa,0),Ua=La(Pa,1);let Va=()=>{tt(!1),Ea.renderOrder=9999,ia.setRenderTarget(sa),ia.setClearColor(qr,1),ia.alpha=!1,ia.autoClearColor=0,ia.preserveDrawingBuffer=1,va.background=null},Xa=()=>{tt(!0),Ea.renderOrder=-1,ia.setClearColor(qr,Nr),va.background=sa.texture},Ya=()=>{sa=new THREE.WebGLRenderTarget(g(window.innerWidth*e),g(window.innerHeight*e))},Za=()=>{wa=1;var r=window.innerWidth,a=window.innerHeight;ia.setSize(r,a),ia.setPixelRatio(e),na.aspect=r/a,z(na),oa.aspect=r/a,z(oa),fa||(Ya(),Va(),ia.clear(),ia.render(va,oa),ia.setRenderTarget(null))},$a=()=>{a?ya<5&&Za():Za()},rt=r=>2*(r>-.05&&r<1.05)-1,at=r=>{var a=xa(r,na).y,t=xa(r,na).x;return(a=rt(a))<(t=rt(t))?a:t},tt=r=>{var a=r?na:oa;Ea.material.opacity=r?Nr:wa?1:Ea.material.opacity,wa=0;for(var t=[m(-1,-1,a),m(1,-1,a),m(-1,1,a),m(1,1,a)],e=0,n=0;n<12;n+=3)Z[n]=t[e].x,Z[n+1]=t[e].y,Z[n+2]=t[e].z,e+=1;for(ft(rr,tr,st(Z,3)),n=0;n<36;n++)$[n]=n/12*3;for(col=d().copy(za).lerp(qr,.5*Nr),n=0;n<6;n+=3)$[n]=col.r,$[n+1]=col.g,$[n+2]=col.b;for(n=6;n<12;n+=3)$[n]=qr.r,$[n+1]=qr.g,$[n+2]=qr.b;ft(rr,er,st($,3))},et=()=>{const r=new THREE.MeshBasicMaterial({opacity:1,transparent:1,depthWrite:0,depthTest:0,fog:0,vertexColors:1});var a=W(6);a[0]=0,a[1]=1,a[2]=2,a[3]=2,a[4]=1,a[5]=3,rr.setIndex(new THREE.Uint32BufferAttribute(a,1)),Ea=new THREE.Mesh(rr,r),tt(!1),Ea.frustumCulled=0,Ea.renderOrder=9999},nt=()=>{va=new THREE.Scene,ia=new THREE.WebGLRenderer({antialias:!0,alpha:!0}),Ya(),ia.shadowMap.enabled=1,ia.shadowMap.type=THREE.PCFSoftShadowMap;var r=THREE.LinearToneMapping;ia.toneMapping=r,ia.toneMappingExposure=1.2,document.body.appendChild(ia.domElement),na=b(),oa=b(),na.position=G(3,5,-2);var a=y();qr.getHSL(a),wr&&_(qr,a.h,a.s,.1);var t=l(21,1)<.5?-1:1,e=0,n=Hr>1||fr?.75:l(19,1);n=11==Dr?.75:n;var o=1;if(Or){e=n<.72?l(16,.05)+.1:n>=.8?t<0?.52:.27:n>=.75?l(16,.25)+.5:.1*u(16,16,4)-.8;var v=0,i=Jr?1:a.l;if(a.l>.8&&!wr&&(v=-.6,i=1),Jr){Aa.r=.265,Aa.g=.44,Aa.b=.125,v=zr?.08:0,Y(Aa,Aa,.1*e*t,.2,zr?.08:0);var s=y();Aa.getHSL(s),q(a.l-s.l)<.2&&q(a.s-s.s)<.2&&_(Aa,s.h,s.s,q(s.l-.2))}else v=fr?l(22,.3)+.3:0,Y(Aa,qr,e*t,o,v);v=a.l<.6?.3:-.1,v=wr?0:v,o=a.s<.6?.1:-.1,Y(za,qr,e*-t,o=Hr>1?2:o,v),Y(Ba,qr,e*-t*.7,o,v)}if(wr&&_(za,a.h,.6,a.l),xr&&(za=p(jr[Dr][0],jr[Dr][1],jr[Dr][2]),Aa=p(Wr[Dr][0],Wr[Dr][1],Wr[Dr][2])),fr){Aa=gr(9),qr=p(.05,.05,.05);var f=.95*q(1-Or)+.05;za=p(f,f,f)}za.getHSL(a),ga=a.l,Ca=q((za.r+za.g+za.b)/3-1),va.fog=new THREE.Fog(qr,1,15+l(14,5)),ia.setClearColor(qr,0);for(var h=0;h<_r;h++){Ja(h),vt(h);var E=Da[h];I(E),B(E.N),B(E.S),br&&B(E.X)}et(),B(Ea),$a(),fa=0,amb=new THREE.AmbientLight(16777215,.7),amb.color.copy(qr),a=y(),amb.color.getHSL(a),_(amb.color,0,(a.s+l(8,.4)+.2)%1,Math.max(a.l,.7)),B(amb),i=0==Or?7:i;var w=new THREE.DirectionalLight(0,i);w.position.set(10,10,15),Y(w.color,amb.color,-.3,9,.6),zr||(w.castShadow=1,w.shadow.mapSize.width=2048,w.shadow.mapSize.height=2048,w.shadow.bias=-3e-4,B(w))},ot=()=>"0123456[][]"[E(10,0)],vt=r=>{var a=Da[r],t=a.lr;a.hr.q.length=0;var e=[ot(r+1+t)+ot(7+t),ta,ea,ot(12+r)+ot(13+t),ot(14)+ot(15+t),ot(16-r)+ot(17),ot(12+t)+ot(9),ea,ta];if(2==t?e=["3[2]5",ot(3)+ot(5)+"4","4[3]1",ot(6-r)+"2[4]2"+ot(5),"1[5]1",ot(6-r)+"2[4]0",ot(6)+"5","02[",ta]:3==t?e=["1[2]5","3",ot(6-r)+"1[3]4","5[40]0",ot(3+r)+"1[5]1","1[3]0[4]1","5",ea,ta]:4==t?e=["3[2]",ot(6-r),"6[1[4]3]1",ot(3+r)+"62","3[0[23]1]1","6[01]1","52",ea,ta]:6==t?e=["5",ot(3+r)+"5","1[36]4","2[5]5",ot(4-r)+"0","3[0[43]2]3","[1]",ea,ta]:7==t?e=[ot(6)+"3","2[643]2",ot(5+r)+"3","3","362[543]623",ot(4-r),"4[1]4","0[1","6]1"]:8==t?e=["3[1]2",ot(2+r)+"2[142]6",ot(3)+"4[5]6","4",ot(1+r)+"3[1]0[314]3","3","2",ea,ta]:9==t?e=["[33]",ot(6-r)+"3[2]","[3[4]2]","23",ot(6+r)+"33","[1]","[1]","3[",ta]:1!=t&&(e=["0[12]34[2]",ot(6+r)+"[23]4",ot(6+r)+"3","51",ot(6)+"[23]","4","0","302[",ta]),1==t)for(var n=0;n<8;n++){for(var o=0,v=0;v<e[n].length;v++)o+=e[n][v]==ea||e[n][v]==ta?1:0;o==e[n].length&&(e[n]=l(11+n)<.5?"253]":l(12+n)<.5?"5[10]2":"1[0]2")}a.hr.L(e);for(var i=1,s=0;i;)s+=1,54*a.hr.D<kr?R(a.hr):i=0,s>15&&(i=0);a.hr.j=a.hr.C.length;var f=Hr>1?.45:.85;a.hr.G=g(a.hr.j*fa*f)},it=r=>{var a=Da[r];Fa[r]+=1+r,C(a.N),C(a.S),C(a.X),Ja(r),B(a.N),B(a.S),br&&B(a.X),vt(r)},st=(r,a)=>new THREE.Float32BufferAttribute(r,a),ft=(r,a,t)=>{r.setAttribute(a,t)},lt=(r,a,t,e,n)=>{r.setIndex(new THREE.Uint32BufferAttribute(t,1)),ft(r,tr,st(a,3)),ft(r,ar,st(e,3)),ft(r,er,st(n,3))},ht=(r,a,e)=>{var n=Ra&&g(5*r)%2==0?.15*(g(10*e[2])%2==0):0;style=Br,t=e[5];var o=t?0:.2*Math.sin(10*r)*e[1];if(1==style)var v=r+e[0];else 2==style?v=r*e[1]:3==style&&(strip=e[1],o=t?0:.5*-r,v=r*q(1-strip)+q(.8*r-1)*strip);return(v+=n+o)>1?1:v<0?0:v},Et=r=>{if(la&&!a){for(var t=0;t<Qr;t++)requestAnimationFrame(wt);la=0}else n&&wt(r);n&&requestAnimationFrame(Et)},wt=()=>{var r=.05*(aa+=.5*Xr*ir)+1234;Ur=(ya<3)*(ya<3)*.3,null==ma&&(ma=j());var a=6*wr;if(ma.set(O(r)*u(5,3,2)+.1,a+Mr,P(r)*u(5,3,2)+.1),Ur&&L(na.position,ma),na.position.lerp(ma,ir*Xr+3.3*Ur),0!=Da[0].Z){Da[0].Z=k(Da,0,1),Da[1].Z=k(Da,1,0);var t=0==Fa[0]?1.5:3,e=.3*(Da[0].Z+Da[1].Z);(Da[0].cr<.9||Da[1].cr<.9)&&(e=.9),e=(e=e<.9?.9:e)>t?t:e,q((ka=0==ka?e:ka)-e)>.5||ra>.04?((0==ra||ra>.99)&&($r=e,Yr=ya),ra=(ya-Yr+1)/1200,Zr=0):(Zr=1,Yr=ya,ra=0,$r=e);var n=66*Xr*ir*q(1-Zr)*.01*x(O(ra*nr),2)+(5e-4+3.5*Ur);ka=A(ka,$r,n)}var o,v,i=na.fov,s=na.fov;if(Da[0].O.computeBoundingBox(),o=at(Da[0].O.boundingBox.min),v=at(Da[0].O.boundingBox.max),1==o&&1==v?i-=ir*Xr*10:(o<0||v<0)&&(i+=ir*Xr*5),s=(s=(s=A(s,i,.15+(ya<Qr)))>90?90:s)<10?10:s,s=wr?250:s,ya<1&&(s=Hr>1?90:45),oa.fov=s>100?100:s,na.fov=s,z(na),z(oa),na.lookAt(0,ka,0),L(ma,na.position),Ia.set(0,ka,0),ya>1350||ya<5){var f=ya<5?q(1-Nr):1;ma.lerp(_a.set(P(r)*(l(19,6)-3),oa.position.y+(Da[1].sr.y-oa.position.y)*Xr*.7*ir,O(r)*(l(5,6)-3)),q(O(r))),Ia.lerp(Da[1].sr,q(O(r)*f))}oa.position.lerp(ma,ir*Xr*.7+5*Ur);var h=qa.lerp(Ia,.1*q(O(.005*ya))*ir*Xr*.7+5*Ur);oa.lookAt(h),L(qa,h),wr&&ya>Qr&&(oa.position.set(na.position.x,.8*na.position.y,na.position.z),oa.lookAt(0,ka,0)),oa.getWorldDirection(_a),F(_a,2);var E=fr?.2:l(11,10);Ea.material.opacity=.09*E*q(O(5e-5*aa*10)*P(r*l(18,11))+.01)+2*Ur;for(var w=0;w<_r;w++){var T=ya<Qr?ya/Qr:1;Da[w].P.opacity*=1*(l(30+w,.6)+.3)*T,fo=1*(l(30+w,.6)+.3)*T,Da[w].V.opacity*=fo*(1-br),Da[w].Y.opacity*=fo}var H=ya<Qr?g(2*q(1-ya/Qr)+1):1,R=ya%H==0;for(R&&(Pr+=1,Va(),ia.render(va,oa),ia.setRenderTarget(null)),w=0;w<_r;w++){Da[w].P.opacity=x(.9*Da[w].cr,4*Hr),fo=x(.6*Da[w].cr,.05*Hr+.75);let r=wr||br?.7:0;Da[w].V.opacity=fo*(1-r),Da[w].Y.opacity=fo}if(R&&(Xa(),ia.render(va,na)),R)for(var c=0;c<_r;c++){var m=Da[Vr=c];m.hr.G/m.hr.j>=1&&(m.cr-=.25*Xr*ir);var p=ur?100:0;m.O.setDrawRange(p,m.hr.W),m.cr>0?(Ka(Vr),ut(Vr)):it(Vr)}ya+=1,la=0};nt(),window.addEventListener("load",(function(){n=!0,Et()})),window.addEventListener("resize",(function(){$a()}));let ut=r=>{var a=Da[r];a.$=[],a.ar=[],a.rr=[],a.nr=[],a.tr=[],a.er=[],a.vr=[],a.ir=[];var t=a.hr,e=W(a.ur),n=W(a.Tr),o=W(a.ur),v=W(a.ur),i=W(a.Hr),s=W(a.Rr),f=W(a.Hr),h=W(a.Hr),E=t.G/t.j,w=g(Na*((r+1)/(_r+1)));Gr&&L(ca,Oa[w]);let R=r=>{var a=[];for(let r=0;r<7;r++)a[r]=J();return a[0].set(P(r),0,-1*O(r),0,1,0,O(r),0,P(r)),a[1].set(P(-1*r),0,-1*O(-1*r),0,1,0,O(-1*r),0,P(-1*r)),a[2].set(P(r),O(r),0,-1*O(r),P(r),0,0,0,1),a[3].set(P(-1*r),O(-1*r),0,-1*O(-1*r),P(-1*r),0,0,0,1),r*=l(14,.5),a[4].set(1,0,0,0,P(r),-1*O(r),0,O(r),P(r)),a[5].set(1,0,0,0,P(-1*r),-1*O(-1*r),0,O(-1*r),P(-1*r)),a[6].set(1,0,0,0,1,0,0,0,1),a};var c=a.wr,m=R(c),p=R(c+1.57),d=0,b=Hr>1&&ya<Qr?.7:1;t.G+=25*Xr*ir*b,t.J=0;var M=[0,0,0];M[0]=Aa.r*Or,M[1]=Aa.g*Or,M[2]=Aa.b*Or;let I=(r,i)=>{L(Ma,t.M.normalize());var s=j;i&&(s+=mr),s*=$*E*C+$*E*(l(25,.2)+.2),F(Ma,s),K(Ma,0,.2),D(Ma,i?p[r]:m[r]),Q(pa,t.p,Ma),i||(L(t.M,Ma),L(t.p,pa));var f=.33*(M[0]+M[1]+M[2]);f=zr?1.25*f:2.5*f;for(var h=$*$,w=_>3&&0==t.A?2:1,T=u(_%30,17,2),H=0;H<w;H++){for(var R=3*t.k,c=0;c<Na;c++){L(ma,Oa[c]);var d=3*c+R;L(da,ma),o[d]=da.x,o[d+1]=da.y,o[d+2]=da.z;var b=c+1,I=l((c+_)%b,f);I=zr?.5*I:I;for(var y=.5*(I*=h),k=0;k<3;k++){var A=i?l(k,3):1;v[d+k]=Or?A*(M[k]+ma.getComponent(k)*I+I*l((c+k*_)%b,I)-y- -da.getComponent(k)*Kr):0}F(ma,t.I),i&&K(ma,0,.09),(t.A>0||H>0)&&(D(ma,m[r]),Q(ma,pa,ma)),Q(ma,ca,ma),a.Z<ma.y&&(a.Z=ma.y,L(a.sr,ma)),e[d]=ma.x,e[d+1]=ma.y,e[d+2]=ma.z}t.k+=Na}if(_>=1){for(var z=ur?t.A+T:t.A,B=t.k-Na,g=0;g<Na-1;g++)n[t.W]=z,n[t.W+1]=z+1,n[t.W+2]=B,t.W+=3,n[t.W]=B,n[t.W+1]=z+1,n[t.W+2]=B+1,t.W+=3,z+=1,B+=1;n[t.W]=z,n[t.W+1]=z-Na+1,n[t.W+2]=B,t.W+=3,n[t.W]=B,n[t.W+1]=z-Na+1,n[t.W+2]=B-Na+1,t.W+=3,i||(t.A=t.k-Na)}else if(t.k>0)for(c=1;c<Na-1;c++)n[t.W]=t.k,n[t.W+2]=t.k+c,n[t.W+1]=t.k+c+1,t.W+=3};for(;t.J<=t.G;){for(var _=0;_<t.C.length&&t.J<=t.G;_++){var y=t.C[_],k="",A=0,z=parseInt(t.B[t.B.length-1])+1,B=parseInt(t.B[_])+1,C=q(1-B/z),j=.5*x(Lr+.5,B/z*3);_-1>=0&&(k=t.C[_-1],parseInt(t.B[_])>parseInt(t.B[_-1])&&(t.k>=Na&&(t._>=1&&0==a.$.includes(t.k)&&0==A&&X(a,t,t.M,t.p,ya,C,d,0),t.k-=Na,S(n,t)),A=1,t.M.set(0,.1,0),t.p=N(t.M),t.K=t._=1,t.A=0,t.m={},H(t,t.I,t._,t.k,0)));var G=0,Y=0,Z=t.J/t.G,$=2*q(Z-1);$=$>1?1:$,t.I=hr?q(C-.6):.1*(l(13,3)+3)*q(x(t.J,Z)/(.05*t.G)-1),Er&&(t.I=(12*C+q(C))*(Lr+.2)*.12),t.I=t.I>.2?.2:t.I,hr||Er?(t.I*=Ir,t.I*=C):t.I*=Z*C*3,t.I*=$,t.I*=E,wr?(t.I+=.2*$,C=(C+=.5)>.1?.1:C):ur&&(t.I+=.2*$*C);var rr=q(Z-1);if(rr=(rr*=.01)>.03?.03:rr,t.I+=rr,y==ea){null==t.m[t.K]&&(t.m[t.K]={}),t.m[t.K].p=N(t.p),t.m[t.K].M=N(t.M),t.m[t.K].I=t.I,t.m[t.K]._=t._;var ar=t.k-Na;t.m[t.K].k=ar,t.m[t.K].A=t.A,t.K+=1,Y=1}else if(y==ta){var tr=lr?10:1;if(t.K>=tr&&0==A){t.K-=1;var er=t.K;k!=ta&&t.k>=Na&&(t.k-=Na,t._>=1&&0==A&&X(a,t,t.M,t.p,ya,C,d,0),S(n,t)),U(t,er),t._+=1,lr&&t._>4&&(t._=1,er=u(_%30,5,4),U(t,er))}G=1}else d=parseInt(y);G||Y||A||(I(d,0),0!=a.$.includes(t.k)||0!=A)||(tr=lr?x(t._/10,2):_/t.C.length,l(_%30,1)<tr&&V(a)&&(I(d,1),X(a,t,Ma,pa,ya,C,d,1))),t.J+=2*ir*b}t.F+=1}let or=(r,a,t,e)=>q(r)*(a+t*l(e,1))+2*a;for(_=0;_<a.$.length;_++){null==a.Er[_]&&a.Er.push(a.er[_]);for(var vr=0;vr<Na;vr++){var sr=3*(a.$[_]-Na+vr);ma.set(e[sr],e[sr+1],e[sr+2]);var br,Mr=(a.er[_]-a.Er[_])/1e3;Mr=Mr>1?1:Mr;for(var yr=0;yr<3;yr++)v[sr+yr]=Or?or(Mr,M[yr],e[sr+yr],11+yr):0;br=l(21,1)<.5?-.6*a.tr[_]:-.02*(a.nr[_]+x(a.tr[_],5));var kr=o[sr]*br,Ar=o[sr+1]*br,Br=o[sr+2]*br;e[sr]=ma.x+kr,e[sr+1]=ma.y+Ar,e[sr+2]=ma.z+Br}}var Cr=-1,gr=0,qr=0,xr=0,Dr=0,Fr=0==Fa[r]?500:0,Wr=Tr?120:240;for(_=0;_<a.$.length;_++){var jr=a.er[_]-a.Er[_],Jr=.05*(.08*Wr*a.nr[_]*Fr+jr)*(1+wr),Nr=Jr/Wr*2;Nr=Nr>1?1:Nr;var Pr=x(Jr/Wr,1.3);Pr=Pr>1?1:Pr,Pr*=pr,Pr*=wr?12:1;var Sr=1;!Ur&&Rr&&(Pr=(Pr*=80*x(a.nr[_],2)*a.nr[_])>.4*a.nr[_]?.4*a.nr[_]:Pr,Sr*=.13);var Ur=a.rr[_],Vr=Tr?0:Ur?u(4,11,4):u(_%20,3,2),Yr=-3*q(1-Pr)*(2*Nr-1),Zr=20*(jr+Fr)*a.er[_],$r=Tr?5:15,ra=(Zr=Zr>($r*=l(_%20,1))?$r:Zr)/$r,aa=q(Zr-1),na=Ur?dr:1,oa=[0,0,0,aa,ra,Ur];for(vr=1;vr<4;vr++)for(var va=0;va<Qa;va++){var ia=va/Qa;if(L(Ma,a.vr[_].normalize()),L(ma,Ua[va]),L(da,Sa[va]),L(ba,da),F(ma,Pr),D(da,m[a.ir[_]]),D(ma,m[a.ir[_]]),Q(ma,a.ar[_],ma),Tr){L(da,ba),F(Ma,.1*Pr),l((_+va)%30,.3),F(da,.1*Pr),F(Ma,Yr);for(var sa=1;sa<vr;sa++)Q(da,da,da),Q(Ma,Ma,Ma);vr>1&&(Q(ma,da,ma),Q(ma,Ma,ma))}else F(Ma,Pr),F(Ma,Sr*Pr*5*l((_+va)%30,.8)),F(da,Pr),vr>1&&(F(da,q(P(ia*Vr*nr))*na),Q(ma,da,ma),Q(ma,Ma,ma));Q(ma,ca,ma);var fa=vr/4,la=fa*ra;oa[0]=ga>.5?-1:1,oa[0]*=la,oa[1]=ra*x(fa,3)*10,oa[2]=ia;var ha=fr?Aa:Ur?za:Ba;i[Cr+=1]=ma.x,f[Cr]=ba.x,h[Cr]=Or*ht(ha.r,vr*ba.x,oa),i[Cr+=1]=ma.y,f[Cr]=ba.y,h[Cr]=Or*ht(ha.g,vr*ba.y,oa),i[Cr+=1]=ma.z,f[Cr]=ba.z,h[Cr]=Or*ht(ha.b,vr*ba.z,oa),Or||(h[Cr-1]=h[Cr-2]=h[Cr-3]=0)}if(tr=Qa-1,ia=2,qr+=3*Qa,!Tr!=cr){for(qr-=3*Qa,va=1;va<Qa-2;va++)s[gr]=xr,s[gr+1]=xr+va,s[gr+2]=xr+va+1,gr+=3;xr+=3*Qa;for(var Ea=0;Ea<Qa-1;Ea++)s[gr]=qr,s[gr+1]=qr+1,s[gr+2]=qr+Qa,s[gr+=3]=qr+Qa,s[gr+1]=qr+1,s[gr+2]=qr+Qa+1,gr+=3,qr+=1;s[gr]=qr,s[gr+1]=qr-(Qa-1),s[gr+2]=qr+Qa,s[gr+=3]=qr+1,s[gr+1]=qr+Qa,s[gr+2]=qr-(Qa-1),gr+=3,qr+=2*Qa+1}else for(va=0;va<tr;va+=ia)s[gr]=Dr+va,s[gr+1]=Dr+va+1,s[gr+2]=Dr+va+Qa,s[gr+3]=Dr+va+1,s[gr+4]=Dr+va+Qa+ua,s[gr+5]=Dr+va+Qa,s[gr+6]=Dr+va+Qa+Ta,s[gr+7]=Dr+va+Qa+ua,s[gr+8]=Dr+va+2*Qa,gr+=9;Dr+=3*Qa}a.O.dispose(),a.U.dispose(),T(i,a.Hr,a.Rr,s,a.U,f,h,t,1),T(e,a.ur,a.Tr,n,a.O,o,v,t,0)};