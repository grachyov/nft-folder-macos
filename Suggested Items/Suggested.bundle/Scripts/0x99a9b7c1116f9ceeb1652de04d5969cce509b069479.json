{
  "kind" : "js",
  "screensaverFileName" : "Bakhoor.Assandal",
  "value" : "!function(){\"use strict\";function e(e){var t=\/^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$\/i.exec(e);return{r:parseInt(t[1],16)\/255,g:parseInt(t[2],16)\/255,b:parseInt(t[3],16)\/255,a:1}}function t(e){return e.toFixed(5)}function a(e){let t,a,c=e.slice(0);for(let e=c.length-1;0<=e;e--)t=f.ri(0,e),a=c[e],c[e]=c[t],c[t]=a;return c}function c(){var e=Math.sin,t=Math.cos;let a=new Date;te=a.getTime(),a=null,le&&(ee=te,le=!1),ve&&(ie+=te-ee,ve=!1),ae=.6*(te-re-ie)*n,w.setUniform1fByLoc(oe,1e-4*ae),D.clear(D.COLOR_BUFFER_BIT);for(let a,c=0;c<s;c++)a=(s-c)\/s*.5+.1,Y=K[c]+ae*Z[c],H=t(Y)*Q[c]+.5,X=e(Y)*Q[c]+.5,M[c*G]=H,M[c*G+1]=X,M[c*G+2]=q[c].r,M[c*G+3]=q[c].g,M[c*G+4]=q[c].b,M[c*G+5]=q[c].a,M[c*G+6]=z[c].r,M[c*G+7]=z[c].g,M[c*G+8]=z[c].b,M[c*G+9]=z[c].a,M[c*G+10]=j[c].r,M[c*G+11]=j[c].g,M[c*G+12]=j[c].b,M[c*G+13]=j[c].a,M[c*G+14]=J[c].r,M[c*G+15]=J[c].g,M[c*G+16]=J[c].b,M[c*G+17]=J[c].a,M[c*G+18]=a,M[c*G+19]=k[c];D.bindBuffer(D.ARRAY_BUFFER,W),D.bufferData(D.ARRAY_BUFFER,M,D.DYNAMIC_DRAW);let r=0;[[\"aOffset\",2],[\"a_c1\",4],[\"a_c2\",4],[\"a_c3\",4],[\"a_c4\",4],[\"a_s\",1],[\"a_d\",1]].map((e=>{let t=D.getAttribLocation(U,e[0]);D.vertexAttribPointer(t,e[1],D.FLOAT,!1,88,r),r+=4*e[1],L.vertexAttribDivisorANGLE(t,1),D.enableVertexAttribArray(t)})),L.drawArraysInstancedANGLE(D.TRIANGLES,0,6,s),ce.setUniformSampler2D(\"cxt\",0,w.c),ce.setUniform1f(\"td\",.001*ae),ce.render(),_.fillStyle=m,_.fillRect(0,0,E,p),_.drawImage(ce.c,0,0,1,1),ne?window.requestAnimationFrame(c):console.log(\"TRIGGER PREVIEW\")}var r=Math.ceil,o=Math.floor;let i=new URLSearchParams(window.location.search).get(\"hash\")||tokenData.hash;console.log(i);let n=new URLSearchParams(window.location.search).get(\"speed\")||1;console.log(n);class l{constructor(t,a,c,r,o,i,n){let l=\"precision highp float;\",v=document.createElement(\"canvas\");v.width=t,v.height=a;let d=v.getContext(\"webgl\"),f=d.createShader(d.VERTEX_SHADER);d.shaderSource(f,l+i),d.compileShader(f);let s=d.createShader(d.FRAGMENT_SHADER);d.shaderSource(s,l+`float H=0.${c};float H2=H;float N21(vec2 p){vec3 p3=fract(vec3(p.xyx)*H2);p3+=dot(p3,p3.yzx+33.33);return fract((p3.x+p3.y)*p3.z);}float SN(vec2 uv,float x,float y){uv=uv*vec2(x,y);vec2 lv=fract(uv),id=floor(uv);lv=lv*lv*(3.-2.*lv);float bl=N21(id),br=N21(id+vec2(1,0)),b=mix(bl,br,lv.x),tl=N21(id+vec2(0,1)),tr=N21(id+vec2(1,1)),t=mix(tl,tr,lv.x);return mix(b,t,lv.y);}float FN(vec2 uv,float x,float y){float c=SN(uv,pow(2.0,x),pow(2.0,y)),div=1.0;for(float i=0.0;i<10.0;i++){float s=(1.0\/pow(2.0,i));c+=SN(uv,pow(2.0,x+i),pow(2.0,y+i))*s;div+=s;}c\/=div;return c;}vec4 bm(vec4 b,vec4 l,float o){return (b*l*o+b*(1.0-o));}float bo(float b,float l){return b<0.5?(2.0*b*l):(1.0-2.0*(1.0-b)*(1.0-l));}vec4 bo(vec4 b,vec4 l){return vec4(bo(b.r,l.r),bo(b.g,l.g),bo(b.b,l.b),min(b.a+l.a,1.0));}vec3 lv(vec3 c,float i,float g,float a){return pow(min(max(c-vec3(i),vec3(0.0))\/(vec3(a)-vec3(i)),vec3(1.0)),vec3(1.0\/g));}vec4 lv(vec4 c,float i,float g,float a){return vec4(lv(vec3(c.r,c.g,c.b),i,g,a),c.a);}float lv(float c,float i,float g,float a){return lv(vec3(c),i,g,a).r;}float th(float c,float t){return(c<t?0.0:1.0);}vec4 sa(vec4 a,float b){const vec3 e=vec3(0.2125,0.7154,0.0721);vec3 i=vec3(dot(a.rgb,e));return vec4(mix(i,a.rgb,b),a.a);}mat2 rt(float a){return mat2(cos(a),-sin(a),sin(a),cos(a));}vec2 rtpv(float a,vec2 uv,vec2 p){uv=uv-p;uv=rt(a)*uv;uv=uv+p;return uv;}float b(vec4 a){return (a.r+a.g+a.b)\/3.0;}vec4 drbr(vec2 uv,sampler2D ug,float s,float t,bool cbo){vec4 c=texture2D(ug,uv);vec2 ccss=vec2(cos(t),sin(t))*s;for(float i=0.0;i<=1.0;i+=(1.0\/5.0)){c+=texture2D(ug,uv+ccss*(cbo?(i-0.5):i));}return c\/5.0;}`+n),d.compileShader(s);let u=d.createProgram();d.attachShader(u,f),d.attachShader(u,s),d.linkProgram(u);let b=d.getAttribLocation(u,\"a_p\"),g=d.createBuffer();d.bindBuffer(d.ARRAY_BUFFER,g),d.useProgram(u),d.enableVertexAttribArray(b),d.bindBuffer(d.ARRAY_BUFFER,g),d.vertexAttribPointer(b,2,d.FLOAT,!1,0,0),d.viewport(0,0,d.canvas.width,d.canvas.height);let m=e(r);d.clearColor(m.r,m.g,m.b,m.a),d.clear(d.COLOR_BUFFER_BIT),this.c=v,this.gl=d,this.p=u,this.uniformLocations={};for(let e of o)this.uniformLocations[e]=this.gl.getUniformLocation(this.p,e);this.textures={}}setUniformColor(e,t){this.gl.uniform4f(this.uniformLocations[e],t.r,t.g,t.b,t.a)}setUniform1f(e,t){this.gl.uniform1f(this.uniformLocations[e],t)}setUniform1fByLoc(e,t){this.gl.uniform1f(e,t)}setUniformSampler2D(e,t,a){let c,r=this.gl;null==this.textures[t]&&(this.textures[t]=r.createTexture()),c=this.textures[t],r.activeTexture(r.TEXTURE0+t),r.bindTexture(r.TEXTURE_2D,c),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,r.CLAMP_TO_EDGE),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_T,r.CLAMP_TO_EDGE),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,r.LINEAR),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MAG_FILTER,r.LINEAR),r.texImage2D(r.TEXTURE_2D,0,r.RGBA,r.RGBA,r.UNSIGNED_BYTE,a);let o=this.uniformLocations[e];r.uniform1i(o,t)}render(){this.gl.bufferData(this.gl.ARRAY_BUFFER,new Float32Array([-1,-1,1,-1,1,1,-1,1,-1,-1,1,1]),this.gl.STATIC_DRAW),this.gl.drawArrays(this.gl.TRIANGLES,0,6)}}let v,d,f=new class{constructor(e){let t=Uint32Array.of(9,7,5,3),a=(e=1)=>e*(e=t[3],t[3]=t[2],t[2]=t[1],e^=e<<11,t[0]^=e^e>>>8^(t[1]=t[0])>>>19,t[0]\/4294967296);[...e+\"ThxPiter\"].map((e=>a(t[0]^=e.charCodeAt()*t[3]))),this.rd=a}rn(e,t){return e+(t-e)*this.rd()}ri(e,t){return o(this.rn(e,t+1))}rc(e){return e[this.ri(0,e.length-1)]}rcw(e){let t=[];for(let a=0;a<e.length;a++)for(let c=0;c<=e[a][0];c++)t.push([e[a][1],e[a][2]]);return t=a(t),[t[0][0],t[0][1]]}}(`${i}`),s=50,u=1*f.rd()+.1,b=.5>f.rd(),g=3*f.rd()+1;[v,d]=f.rcw([[1,[\"#bfb5af\",\"#c7b4a6\",\"#d1c1b6\",\"#373f51\",\"#444646\",\"#c4cad0\",\"#555462\",\"#878c8f\",\"#3a3a3a\",\"#555555\",\"#999999\"],\"Neutrals\"],[1,[\"#c4cad0\",\"#878c8f\",\"#a4969b\",\"#22284a\",\"#22284a\",\"#e9dfc6\",\"#489fb7\",\"#538c98\",\"#982432\",\"#0d4756\",\"#087c7c\",\"#0181c7\",\"#002c60\"],\"1\"],[1,[\"#3a86ff\",\"#219ebc\",\"#023047\",\"#ffb703\",\"#fb8500\",\"#2d5277\",\"#023047\",\"#22284a\",\"#2d5277\"],\"2\"],[1,[\"#d03e3a\",\"#8d99ae\",\"#4d879b\",\"#eb942e\",\"#ef233c\",\"#087c7c\",\"#087c7c\",\"#f0b4b3\",\"#9aa6c2\",\"#f3acca\"],\"3\"],[1,[\"#699fcb\",\"#1d3663\",\"#1d3663\",\"#134c51\",\"#6f0039\",\"#0181c7\",\"#002c60\",\"#d18de0\",\"#005e23\"],\"4\"],[1,[\"#b95173\",\"#51413d\",\"#134c51\",\"#eb942e\",\"#134c51\",\"#d03e3a\",\"#9aa6c2\"],\"5\"],[1,[\"#f3acca\",\"#E76F51\",\"#8d99ae\",\"#9aa6c2\",\"#699fcb\",\"#2d5277\",\"#0d4756\",\"#e07270\",\"#d03e3a\",\"#ada1cc\"],\"6\"],[1,[\"#217074\",\"#37745b\",\"#8b9d77\",\"#e7eaef\",\"#edc5ab\",\"#264653\"],\"7\"],[1,[\"#0181c7\",\"#047a7d\",\"#d18de0\",\"#0d4756\",\"#2A9D8F\",\"#21527c\",\"#AF5C7E\",\"#4F2546\",\"#f6895e\",\"#E76F51\",\"#002c60\",\"#0c2037\"],\"8\"],[1,[\"#2A9D8F\",\"#ef233c\",\"#2d5277\",\"#134c51\",\"#e17f36\",\"#f3acca\",\"#2A9D8F\",\"#2d5277\",\"#134c51\",\"#e17f36\",\"#0d4756\"],\"9\"],[1,[\"#6f0039\",\"#4F2546\",\"#4F2546\",\"#903a84\",\"#903a84\",\"#eb942e\",\"#e84e11\",\"#fb8500\",\"#e17f36\",\"#E76F51\",\"#4F2546\",\"#4F2546\",\"#3c0d32\",\"#e07270\",\"#E76F51\",\"#E76F51\",\"#d03e3a\",\"#982432\",\"#ef233c\",\"#6f0039\",\"#6f0039\",\"#d18de0\",\"#AF5C7E\",\"#7f4e74\",\"#f3acca\",\"#d92059\",\"#e84e11\",\"#e11e10\"],\"10\"],[1,[\"#161b41\",\"#145b85\",\"#134c51\",\"#087c7c\",\"#ada1cc\",\"#eb942e\",\"#e84e11\",\"#e11e10\"],\"11\"],[1,[\"#D69DAB\",\"#4F2546\",\"#264653\",\"#E8ACB8\",\"#243520\",\"#6f0039\",\"#624A4E\",\"#3c0d32\",\"#134c51\",\"#243520\",\"#4B7C86\",\"#326762\",\"#005e23\",\"#ded2c2\",\"#AF5C7E\"],\"12\"],[1,[\"#c4b7cb\",\"#bbc7ce\",\"#bfedef\",\"#264653\",\"#545c52\"],\"13\"],[1,[\"#d06f71\",\"#eeb0a6\",\"#c0d4c6\",\"#5095a1\",\"#273558\"],\"14\"],[1,[\"#d8dbe2\",\"#a9bcd0\",\"#58a4b0\",\"#373f51\",\"#1b1b1e\"],\"15\"],[1,[\"#bfb5af\",\"#ece2d0\",\"#d5b9b2\",\"#a26769\",\"#582c4d\"],\"16\"],[1,[\"#fcf7ff\",\"#c4cad0\",\"#878c8f\",\"#a4969b\",\"#655560\"],\"17\"]]),console.log(d);let m=f.rc(v),A=window,h=document;const x=h.body.appendChild(h.createElement(\"canvas\")),_=x.getContext(\"2d\",{willReadFrequently:!0});let E,p,R,F=A.innerWidth,y=A.innerHeight;E=F,p=y,E=r(E),p=r(p),R=A.devicePixelRatio;let T=!1;\/Android|webOS|iPhone|iPod|BlackBerry|IEMobile|Opera Mini\/i.test(navigator.userAgent)&&(T=!0),1<R&&!T?(E*=R,p*=R,x.style.width=E\/R+\"px\",x.style.height=p\/R+\"px\"):(x.style.width=`${E}px`,x.style.height=`${p}px`),x.width=E,x.height=p,_.lineJoin=\"round\",_.lineCap=\"round\",_.scale(E,p);let S=h.body;S.style.display=\"flex\",S.style.alignItems=\"center\",S.style.justifyContent=\"center\",S.style.backgroundColor=\"#302e2f\",S.style.overflow=\"hidden\";let N=o(f.rn(0,1e6)),w=new l(400,400,N,m,[\"td\"],\"attribute vec3 a_p;attribute vec2 aOffset,asp;attribute vec4 a_c1,a_c2,a_c3,a_c4;attribute float a_s,a_d;varying vec4 c1,c2,c3,c4;varying vec2 sm;varying float s,d;void main(){vec3 pos=a_p;c1=a_c1,c2=a_c2,c3=a_c3,c4=a_c4,s=a_s,d=a_d;sm=asp;gl_Position=vec4(pos*a_s*2.0+vec3(aOffset.xy*2.0-1.0,0.0),1.0);}\",`varying vec4 c1,c2,c3,c4;varying vec2 sm;varying float s,d;uniform float td;void main(){vec2 uv=(gl_FragCoord.xy\/vec2(${t(E)},${t(p)}));uv.y=1.0-uv.y;vec2 uvn=rtpv(${t(6.28319*f.rd())}+td*0.123*${t(f.rc([1,-1]))},uv,vec2(0.5));float n=th(SN(uvn+741.21+td*0.1123+(SN(uvn+td*0.1612,${t(4*f.rd()+1)},${t(4*f.rd()+1)})-0.5)*${t(f.rd())},${t(20*f.rd()+4)},1.0),0.5);H2=d;float n2=1.0-th(distance(sm+(vec2(SN(sm+123.45+td*0.0841,3.0,3.0),SN(sm+67.89+td*0.0821,3.0,3.0))-0.5)*0.4,vec2(0.5)),0.6*s);n=n*n2;vec4 nc1=mix(c1,c2,clamp(sm.x*4.0-1.5,0.0,1.0));vec4 nc2=mix(c3,c4,clamp(sm.x*4.0-1.5,0.0,1.0));vec4 a=mix(vec4(nc1.rgb,n),vec4(nc2.rgb,1.0-n),(1.0-n)*n2);gl_FragColor=a;H2=H;}`),D=w.gl,U=w.p;D.blendFunc(D.SRC_ALPHA,D.ONE_MINUS_SRC_ALPHA),D.enable(D.BLEND),D.disable(D.DEPTH_TEST);const L=D.getExtension(\"ANGLE_instanced_arrays\"),B=D.getAttribLocation(U,\"a_p\"),C=D.getAttribLocation(U,\"asp\"),P=new Float32Array([-1,-1,1,-1,1,1,-1,1,-1,-1,1,1]),I=D.createBuffer();D.bindBuffer(D.ARRAY_BUFFER,I),D.bufferData(D.ARRAY_BUFFER,P,D.STATIC_DRAW),D.vertexAttribPointer(B,2,D.FLOAT,!1,0,0),D.enableVertexAttribArray(B);const $=new Float32Array([0,0,1,0,1,1,0,1,0,0,1,1]),O=D.createBuffer();D.bindBuffer(D.ARRAY_BUFFER,O),D.bufferData(D.ARRAY_BUFFER,$,D.STATIC_DRAW),D.vertexAttribPointer(C,2,D.FLOAT,!1,0,0),D.enableVertexAttribArray(C);const G=22,M=new Float32Array(22*s);let H,X,Y;const W=D.createBuffer();let k=[];for(let e=0;e<s;e++)k.push(f.rd());let V,q=[],z=[],j=[],J=[];for(let t=0;t<s;t++)V=a(v),q.push(e(V[0])),z.push(e(V[1])),j.push(e(V[2])),J.push(e(V[3]));let K=[];for(let e=0;e<s;e++)K.push(f.rd()*Math.PI*2);let Q=[];for(let e=0;e<s;e++)Q.push(.4*f.rd()*.9+.1);let Z=[];for(let e=0;e<s;e++)Z.push((5e-5+5e-5*f.rd())*f.rc([1,-1])\/Q[e]);let ee,te,ae,ce=new l(E,p,N,m,[\"td\",\"cxt\"],\"attribute vec3 a_p;void main(){gl_Position=vec4(a_p,1.0);}\",`\\nuniform sampler2D cxt;uniform float td;void main(){vec2 res=vec2(${t(E)},${t(p)});vec2 uv=(gl_FragCoord.xy\/res);uv.y=1.0-uv.y;vec2 uvr=rtpv(td*0.05*${t(f.rc([1,-1,0]))}+${t(6.2832*f.rd())}+(SN(uv+9.31-td*0.0351,${t(u)},${t(u)})-0.5)*${t(g)},uv,vec2(0.5));if(${b}){uvr.x=uvr.x+0.2*(FN(uvr+td*0.052+63.25,1.5,1.5))+0.1*(FN(uvr+td*0.052+6.25,3.0,3.0));}vec4 c=drbr(vec2(uvr.x,uvr.y+(SN(uvr+96.361+td*0.01,2000.0,0.3)-0.5)*0.1),cxt,0.3,1.5708,true);c=mix(c,drbr(vec2(uvr.x,uvr.y+(SN(uvr+30.21+td*0.015,2345.0,0.3)-0.5)*0.3),cxt,0.2,1.5708,true),0.5);c=bm(c,vec4(0.94,0.92,0.86,1.0),1.0);c=bo(c,c);vec2 st=vec2(uv.y+FN(uv+52.31+td*0.01,4.0,4.0)*0.1,uv.x+FN(uv+td*0.01,4.0,4.0)*0.1);vec4 n=mix(vec4(vec3(0.4),1.0),vec4(vec3(0.55),1.0),(SN(st,1500.0,1.0)+SN(st,1.0,2000.0)));n=bo(c,n);vec2 uvd1=vec2(st.x+td*0.011+(SN(st+2.36,8.0,8.0)-0.5)*0.1,st.y-td*0.012+(SN(uv+32.56,8.0,8.0)-0.5)*0.1);vec2 uvd2=vec2(st.x-td*0.013+(SN(st+32.76,8.0,8.0)-0.5)*0.1,st.y+td*0.014+(SN(uv+49.87,8.0,8.0)-0.5)*0.1);float t1=lv(SN(uvd1+2.36,300.0,300.0)*SN(uvd1+2.36+td*0.01,200.0,200.0)*SN(uvd1+2.36+td*0.016,100.0,100.0),0.4,1.0,0.5);float t2=lv(SN(uvd2+32.36,300.0,300.0)*SN(uvd2+23.36-td*0.01,200.0,200.0)*SN(uvd2+27.36+td*0.017,100.0,100.0),0.4,1.0,0.5);n=bo(n,vec4(vec3(mix(0.5,0.4,t1)),1.0));n=bo(n,vec4(vec3(mix(0.5,0.65,t2)),1.0));if(${[\"2\",\"3\",\"5\",\"6\",\"8\",\"9\"].includes(d)}){n=mix(n,lv(n,0.05,1.0,0.95),0.5);n=sa(n,1.3);}n=bm(n,vec4(0.94,0.92,0.86,1.0),1.0);gl_FragColor=n;}`),re=(new Date).getTime(),oe=w.gl.getUniformLocation(w.p,\"td\"),ie=0,ne=!0,le=!0,ve=!0,de=()=>{ne?(ne=!1,ee=(new Date).getTime()):(ne=!0,ve=!0,window.requestAnimationFrame(c))};document.body.onclick=de,document.body.onkeyup=e=>{(\" \"==e.key||\"Space\"==e.code)&&de()},window.requestAnimationFrame(c)}();"
}