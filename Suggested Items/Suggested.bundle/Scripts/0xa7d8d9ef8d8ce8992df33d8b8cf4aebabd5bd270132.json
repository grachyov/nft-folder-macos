{
  "abId" : "132",
  "address" : "0xa7d8d9ef8d8ce8992df33d8b8cf4aebabd5bd270",
  "kind" : "p5js100",
  "name" : "Tangled",
  "screensaverFileName" : "Tangled",
  "value" : "var hash=tokenData.hash,DEFAULT_SIZE=1e3,DIM=Math.min(window.innerWidth,window.innerHeight),M=DIM\/DEFAULT_SIZE;function gMed(t){const r=[...t].sort((t,r)=>t-r),e=Math.floor(r.length\/2);return r.length%2!=0?r[e]:(r[e-1]+r[e])\/2}function szPts(t){let r=t.map(t=>t.x),e=t.map(t=>t.y);return{w:Math.max(...r)-Math.min(...r),h:Math.max(...e)-Math.min(...e)}}Number.prototype.map=function(t,r,e,c){return(this-t)*(c-e)\/(r-t)+e},S=Uint32Array.from([0,1,s=t=2,3].map(t=>parseInt(hash.substr(8*t+2,8),16))),R=(r=>(t=S[3],S[3]=S[2],S[2]=S[1],S[1]=s=S[0],t^=t<<11,S[0]^=t^t>>>8^s>>>19,S[0]\/2**32));const cl={pastel:[\"#FFE6A6\",\"#AC95C6\",\"#FFFFFF\",\"#FFA6C1\",\"#95E6DD\",\"#D9FFE2\"],treasureHunt:[\"#2AA27C\",\"#006158\",\"#1A332F\",\"#FFDB4D\",\"#FFFAE6\",\"#0B1326\"],vice:[\"#FEC872\",\"#1262B3\",\"#FF80A4 \",\"#0D1C4D\",\"#FFFCE9\",\"#2ECDE6\"],candy:[\"#FF33C1\",\"#FFE8E6\",\"#FFA6C6\",\"#A6118C\",\"#571773\",\"#230033\"],neon:[\"#26FFC9\",\"#E600E6\",\"#660099\",\"#FCFF33\",\"#230D40\",\"#0015FF\"],monochrome:[\"#666666\",\"#CCCCCC\",\"#323232\",\"#FFFFFF\",\"#1A1A1A\",\"#999999\"],myst:[\"#3A364D\",\"#1C858C\",\"#FFE4D9\",\"#FF7C61\",\"#1E1E2B\",\"#FFBA99\"],lush:[\"#A4FF26\",\"#2E8026\",\"#16DE8A\",\"#004D37\",\"#001C14\",\"#12B347\"],alchemy:[\"#FFFD61\",\"#FB3267\",\"#8832A6\",\"#30EFF2\",\"#491B59\",\"#0D111A\"],ocean:[\"#33A1FF\",\"#122DB3\",\"#1457CC\",\"#A6D8FF\",\"#050C66\",\"#000326\"],plains:[\"#FFF4CC\",\"#CCB599\",\"#B38474\",\"#735651\",\"#40302D\",\"#261D1B\"],dusk:[\"#FF9700\",\"#444164\",\"#202450\",\"#F24C43\",\"#AC4055\",\"#FAD39C\"]};let fct=2.89,step=.0031,uAmt=1;var fC,bC,blC,nT,cSc,tcSC,hP1,hP2,hP3,hP4,hP5,cvxHPts=[],cvxHPtsInit=[],cvxHPtsOff=[],cvxHDT=95,aPt=[],bCInd=0,fCIndex=0,blCIndex=0,rAmt=40,rAmtB=40,rC=.4,nCv=20,nBCv=20,rs=[],rsU=0,rsB=[],rsBU=0,pr=2,stA=1;function ptsO(t,r,e){let c=(r.y-t.y)*(e.x-r.x)-(r.x-t.x)*(e.y-r.y);return 0==c?0:c>0?1:2}function pCvxH(t){for(i=0;i<t.length;i++){var r=0;i+1<t.length&&(r=i+1),dist(t[i].x,t[i].y,t[r].x,t[r].y)<cvxHDT*M&&t.splice(i,1)}}function cvxH(){var t=[],r=0;for(i=1;i<aPt.length;i++)aPt[i].x<aPt[r].x&&(r=i);var e,c=r,s=0;do{for(t.push(aPt[c]),e=(c+1)%aPt.length,i=0;i<aPt.length;i++)2==ptsO(aPt[c],aPt[i],aPt[e])&&(e=i);if(c=e,++s>25)break}while(c!=r);var n=0;do{n++,pCvxH(t)}while(n<10);return t}function gCent(t){var r={x:0,y:0};for(i=0;i<t.length;i++)r.x+=t[i].x,r.y+=t[i].y;return r.x\/=t.length,r.y\/=t.length,r}function gettang(t,r,e){var c=createVector(r.y-t.y,t.x-r.x);return c.normalize(),c.mult(e),c.x=cutPr(c.x),c.y=cutPr(c.y),c}function fPtL(t,r,e){let c=createVector(r.x-t.x,r.y-t.y).normalize();return{x:r.x+e*M*c.x,y:r.y+e*M*c.y}}function cutPr(t){return Number(parseFloat(t).toFixed(pr))}function drHB(t,r=1){let e=cutPr(parseInt(t[0],16).map(0,255,0,DIM\/fct)+(rs[rsU+1]-.5)*rAmt*uAmt*rs[rsU+2]*2*r),c=cutPr(parseInt(t[1],16).map(0,255,0,DIM\/fct)+(rs[rsU+3]-.5)*rAmt*uAmt*rs[rsU+4]*2*r),s=cutPr(parseInt(t[2],16).map(0,255,0,DIM\/fct)+(rs[rsU+5]-.5)*rAmt*r),n=cutPr(parseInt(t[3],16).map(0,255,0,DIM\/fct)+(rs[rsU+6]-.5)*rAmt*r),a=cutPr(lerp(cutPr(parseInt(t[4],16).map(0,255,0,DIM\/fct)),s,uAmt\/9)+(rs[rsU+7]-.5)*rAmt*r),i=cutPr(parseInt(t[5],16).map(0,255,0,DIM\/fct)+(rs[rsU+8]-.5)*rAmt*r),l=cutPr(parseInt(t[6],16).map(0,255,0,DIM\/fct)+(rs[rsU+9]-.5)*rAmt*uAmt*rs[rsU+10]*2*r),C=cutPr(parseInt(t[7],16).map(0,255,0,DIM\/fct)+(rs[rsU+11]-.5)*rAmt*uAmt*rs[rsU+12]*2*r),u=cutPr(2*l-a+(rs[rsU+13]-.5)*rAmt*r),o=cutPr(2*C-i+(rs[rsU+14]-.5)*rAmt*r),x=cutPr(lerp(cutPr(parseInt(t[8],16).map(0,255,0,DIM\/fct)),u,uAmt\/9)+(rs[rsU+15]-.5)*rAmt*r),m=cutPr(parseInt(t[9],16).map(0,255,0,DIM\/fct)+(rs[rsU+16]-.5)*rAmt*r),h=cutPr(parseInt(t[10],16).map(0,255,0,DIM\/fct)+(rs[rsU+17]-.5)*rAmt*uAmt*rs[rsU+18]*2*r),P=cutPr(parseInt(t[11],16).map(0,255,0,DIM\/fct)+(rs[rsU+19]-.5)*rAmt*uAmt*rs[rsU+20]*2*r),p=cutPr(2*h-x+(rs[rsU+21]-.5)*rAmt*r),f=cutPr(2*P-m+(rs[rsU+22]-.5)*rAmt*r),v=cutPr(2*e-s+(rs[rsU+23]-.5)*rAmt*r),A=cutPr(2*c-n+(rs[rsU+24]-.5)*rAmt*r),F=[e,l,h],y=[c,C,P],d=Math.max(...F),B=Math.min(...F),I=Math.max(...y),b=Math.min(...y),S=I-b,M=cutPr((DIM-(d-B))\/2-B),D=cutPr((DIM-S)\/2-b);aPt.push({x:e,y:c}),aPt.push({x:l,y:C}),aPt.push({x:h,y:P}),push(),translate(M,D);var g=color(fC);rs[rsU+25]<rC&&(g=color(tcSC[floor(rs[rsU+25]*(tcSC.length-1))])),g.setAlpha(255*stA),stroke(g),noFill(),bezier(e,c,s,n,a,i,l,C),bezier(l,C,u,o,x,m,h,P),bezier(h,P,p,f,v,A,e,c),pop(),rsU+=32}function setup(){createCanvas(DIM,DIM);let t=hash.match(\/.{1,2}\/g).slice(1),r=t.map(t=>parseInt(t,16)%100);for(r[2]<60?nT=3:r[2]>=60&&r[2]<80?nT=2:r[2]>=80&&r[2]<93?nT=4:r[2]>=93&&(nT=5),r[1]<12?cSc=cl.pastel:r[1]>=12&&r[1]<24?cSc=cl.treasureHunt:r[1]>=24&&r[1]<36?cSc=cl.vice:r[1]>=36&&r[1]<48?cSc=cl.candy:r[1]>=48&&r[1]<60?cSc=cl.dusk:r[1]>=60&&r[1]<68?cSc=cl.ocean:r[1]>=68&&r[1]<76?cSc=cl.myst:r[1]>=76&&r[1]<84?cSc=cl.plains:r[1]>=84&&r[1]<89?cSc=cl.neon:r[1]>=89&&r[1]<94?cSc=cl.alchemy:r[1]>=94&&r[1]<99?cSc=cl.lush:r[1]>=99&&(cSc=cl.monochrome),rAmt=Math.floor(r[3].map(0,100,10,25)),rAmtB=2*rAmt,nCv=Math.floor(r[5].map(0,100,15,30)),nBCv=nCv,i=0;i<64*nCv*5;i++)rs.push(R());let e=t.map(t=>parseInt(t,16)%cSc.length);bCInd=e[0],fCIndex=0;for(let t of e)if(t!=bCInd){fCIndex=t;break}blCIndex=0;for(let t of e)if(t!=bCInd&&t!=fCIndex){blCIndex=t;break}fC=cSc[fCIndex],bC=cSc[bCInd],blC=cSc[blCIndex],document.body.style.backgroundColor=bC,(tcSC=cSc.slice()).splice(tcSC.indexOf(bC),1),tcSC.splice(tcSC.indexOf(fC),1),tcSC.splice(tcSC.indexOf(blC),1),hP1=t.slice(0,16),hP2=t.slice(16),hP3=t.slice(8,24),hP4=t.slice(4,20),hP5=t.slice(12,28),1*M>=1?(strokeWeight(1*M),stA=1):(strokeWeight(1),stA=1*M),strokeCap(SQUARE),drCv(1,0);let c=gCent(cvxHPts=cvxH());for(let t=0;t<cvxHPts.length;t++){if(cvxHPtsInit.push({x:cvxHPts[t].x,y:cvxHPts[t].y}),cvxHPts.length>r.length)return;let e=r[t]>40?1:-1,s=fPtL(createVector(c.x,c.y),createVector(cvxHPts[t].x,cvxHPts[t].y),r[t]*e);cvxHPtsOff.push({x:cutPr(s.x),y:cutPr(s.y)})}for(i=0;i<32*nBCv*cvxHPts.length;i++)rsB.push(R());rAmt*=M,rAmtB*=M}function drCv(t,r){for(noFill(),i=0;i<t;i++)drHB(hP1,r),drHB(hP2,r),3==nT&&drHB(hP3,r),4==nT&&(drHB(hP3,r),drHB(hP4,r)),5==nT&&(drHB(hP3,r),drHB(hP4,r),drHB(hP5,r))}function drBl(t){push();let r=aPt.map(t=>t.x),e=aPt.map(t=>t.y),c=Math.max(...r),s=Math.min(...r),n=Math.max(...e),a=Math.min(...e),l=(DIM-(c-s))\/2-s,C=(DIM-(n-a))\/2-a;for(translate(l,C),fill(blC),noStroke(),beginShape(),i=0;i<t.length;i++)t[i].x=cutPr(lerp(cvxHPtsInit[i].x,cvxHPtsOff[i].x,uAmt\/6.5)),t[i].y=cutPr(lerp(cvxHPtsInit[i].y,cvxHPtsOff[i].y,uAmt\/6.5));let u=gCent(t);for(blCv={},vertex(t[0].x,t[0].y),blCv.initial={x:t[0].x,y:t[0].y},blCv.translate={x:l,y:C},blCv.bezierVertices=[],i=0;i<t.length;i++){var o=0;i+1<t.length&&(o=i+1);let r=cutPr(dist(t[i].x,t[i].y,t[o].x,t[o].y)),e=gettang(u,t[i],r\/2),c=gettang(u,t[o],r\/2),s=createVector(cutPr(t[i].x-e.x),cutPr(t[i].y-e.y)),n=createVector(cutPr(t[o].x+c.x),cutPr(t[o].y+c.y));bezierVertex(s.x,s.y,n.x,n.y,t[o].x,t[o].y),blCv.bezierVertices.push({c1x:s.x,c1y:s.y,c2x:n.x,c2y:n.y,ancx:t[o].x,ancy:t[o].y})}endShape(CLOSE),pop()}var blCv={};function drBlCurve(t){push();var r=color(blC);t||(r=color(tcSC[floor(rs[rsBU+1]*tcSC.length)])),r.setAlpha(255*stA),stroke(r),noFill(),translate(blCv.translate.x,blCv.translate.y),beginShape(),vertex(blCv.initial.x,blCv.initial.y);let e=uAmt>.3?uAmt:.3;for(j=0;j<blCv.bezierVertices.length;j++){let t=blCv.bezierVertices[j];bezierVertex(cutPr(t.c1x+(rsB[rsBU+2]-.5)*rAmtB*e),cutPr(t.c1y+(rsB[rsBU+3]-.5)*rAmtB*e),cutPr(t.c2x+(rsB[rsBU+4]-.5)*rAmtB*e),cutPr(t.c2y+(rsB[rsBU+5]-.5)*rAmtB*e),t.ancx,t.ancy)}endShape(CLOSE),pop(),rsBU+=1+4*blCv.bezierVertices.length}function drBlCurves(t,r){for(i=0;i<nBCv;i++)drBlCurve(r)}var anim=!0;function mousePressed(){anim=!anim}function keyPressed(){83===keyCode&&save(\"tangled.jpg\")}function draw(){clear(),rsU=0,rsBU=0,background(bC),(uAmt>2||uAmt<0)&&(step*=-1),anim&&(uAmt+=step),aPt=[],drCv(floor(.3*nCv)),drBl(cvxHPts),drBlCurves(floor(.5*nBCv),!0),drCv(floor(.45*nCv)),drBlCurves(floor(.5*nBCv),!1),drCv(floor(.25*nCv))}"
}