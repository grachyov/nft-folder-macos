{
  "kind" : "p5js100",
  "screensaverFileName" : "a.heart.and.a.soul",
  "value" : "var MHR=null,LH=!1,BH=!1,dark_echo=!1,B=\"#000\",HS=4,Q=[],HWI=[],HW=[];function setup(){ms=windowWidth>windowHeight?windowHeight:windowWidth,createCanvas(ms,ms),hi_(),bh_(),c_(),s_()}function hi_(){var r;MHR=floor(3+4*rnd()),(r=rnd())<.09?LH=!0:r<.19&&(BH=!0),SD=rnd(),soul_beams=20+2*round(rnd(7)),soul_echoes=1+floor(rnd(3)),dark_echo=rnd()<.05,r=rnd(),C=r<.15?0:r<.65?1+floor(6*rnd()):r<.95?7+floor(8*rnd()):15,SG=.1+rnd(.2)}function bh_(){for(var r=0,o=0;o<HS;o++){Q[o]=[];for(var t=0;t<HS;t++)Q[o][t]={l:t<1&&null,r:t>HS-2&&null,t:o<1&&null,b:o>HS-2&&null},null!=Q[o][t].r&&(HW[r]={from_y:o,from_x:t,from_prop:\"r\",to_y:o,to_x:t+1,to_prop:\"l\"},HWI.push(r),r++),null!=Q[o][t].b&&(HW[r]={from_y:o,from_x:t,from_prop:\"b\",to_y:o+1,to_x:t,to_prop:\"t\"},HWI.push(r),r++)}mhr_()}function breakHeart(r,o){var t=HW[r];Q[t.from_y][t.from_x][t.from_prop]=o,Q[t.to_y][t.to_x][t.to_prop]=o}function mhr_(){for(var r=shf(HWI),o=0;o<r.length&&(breakHeart(r[o],!0),hlw_()&&breakHeart(r[o],!1),!(cr_()<=MHR));o++);}function hlw_(){for(var r=0;r<HS-1;r++)for(var o=0;o<HS-1;o++){if(Q[r][o].r&&Q[r+1][o].r&&(Q[r][o].b||Q[r][o+1].b))return!0;if(Q[r][o].b&&Q[r][o+1].b&&(Q[r][o].r||Q[r+1][o].r))return!0}return!1}function cr_(){for(var r=0,o=0;o<HS;o++)for(var t=0;t<HS;t++)Q[o][t].counted=!1,Q[o][t].my_region=0;for(o=0;o<HS;o++)for(t=0;t<HS;t++)count(o,t,r)&&r++;return CHR=r,r}function count(r,o,t){var e=Q[r][o];return!e.counted&&(Q[r][o].counted=!0,Q[r][o].my_region=t,!0===e.t&&count(r-1,o,t),!0===e.b&&count(r+1,o,t),!0===e.l&&count(r,o-1,t),!0===e.r&&count(r,o+1,t),!0)}function s_(){HSP=.74*ms,LS=.05*ms,SSPN=(ms-HSP-(LS+LS))\/2,pspt=.05*ms,HCS=HSP\/4\/HS,HLS=.16*HCS,HOS=.8*HLS,HO2=.2*HLS,c_abs_x=ms\/2,c_abs_y=ms\/2,SZ=LS\/2+SG*LS,STS=HSP\/2+LS-SZ,HRS=HCS*HS,FHS=4*HRS,FHC=ceil(FHS),c_pos=HRS+HRS,HG=createGraphics(FHC,FHC),HG.background(0,0,0,255),SP1=createGraphics(width,height),SP1.noFill(),SP1.strokeJoin(MITER),SP1.strokeCap(SQUARE),SP1.strokeWeight(SZ),SP2=createGraphics(width,height),SP2.noFill(),SP2.strokeJoin(MITER),SP2.strokeCap(SQUARE),SP2.strokeWeight(SZ),SE=createGraphics(width,height),SE.noFill(),SE.strokeWeight(SZ)}function ds_(r,o,t,e,S){for(var s=1==S?r:o,H=0;H<=2;H++){0==H&&(s.stroke(OC),s.strokeWeight(SZ)),1==H&&(s.stroke(LC),s.strokeWeight(SZ-HOS)),2==H&&(s.stroke(e),s.strokeWeight(SZ-HOS-HO2));var _=[cos(t)*STS+c_abs_x,sin(t)*STS+c_abs_y],n=0,c=0,h=.05+.1*SD,a=ms\/1200*3;s.beginShape();for(var i=2*ms;_[0]>=0-SZ&&_[0]<width+SZ&&_[1]>=0-SZ&&_[1]<height+SZ&&i>0;)s.vertex(_[0],_[1]),n=1.04*sin(c+=h),_[0]+=cos(t+n)*a,_[1]+=sin(t+n)*a,i--;s.endShape()}}function h(r,o,t,e,S){var s=HCS;BH&&(s*=2);for(var H=0;H<HS;H++)for(var _=0;_<HS;_++)Q[H][_].drawn=!1;for(H=0;H<HS;H++)for(_=0;_<HS;_++)Q[H][_].drawn||(0==HP&&(r.fill(HC[Q[H][_].my_region]),r.stroke(LC),r.strokeWeight(HLS),r.strokeJoin(BEVEL)),1==HP&&(r.noFill(),r.stroke(OC),r.strokeWeight(HOS)),2==HP&&(r.noFill(),r.stroke(LC),r.strokeWeight(HO2)),r.beginShape(),hc_(r,H,_,o,t,s,e,S,-1),r.endShape(CLOSE))}function hc_(r,o,t,e,S,s,H,_,n){if(!Q[o][t].drawn){Q[o][t].drawn=!0;var c=[hs_t,hs_r,hs_b,hs_l];0==n&&(c=[hs_l,hs_t,hs_r]),1==n&&(c=[hs_t,hs_r,hs_b]),2==n&&(c=[hs_r,hs_b,hs_l]),3==n&&(c=[hs_b,hs_l,hs_t]);for(var h=heartTransformedCoords(o,t,e,S,s,H,_),a=0;a<c.length;a++)c[a](r,o,t,e,S,s,H,_,n,h)}}function heartTransformedCoords(r,o,t,e,S,s,H){var _={left:t+o*S,top:e+r*S,x_mirror:1,y_mirror:1};return s&&(_.left=t-o*S,_.x_mirror=-1),H&&(_.top=e-r*S,_.y_mirror=-1),_}function hs_t(r,o,t,e,S,s,H,_,n,c){!0===Q[o][t].t?hc_(r,o-1,t,e,S,s,H,_,0):(-1==n&&r.vertex(c.left,c.top),r.vertex(c.left+s*c.x_mirror,c.top))}function hs_r(r,o,t,e,S,s,H,_,n,c){!0===Q[o][t].r?hc_(r,o,t+1,e,S,s,H,_,1):r.vertex(c.left+s*c.x_mirror,c.top+s*c.y_mirror)}function hs_b(r,o,t,e,S,s,H,_,n,c){!0===Q[o][t].b?hc_(r,o+1,t,e,S,s,H,_,2):r.vertex(c.left,c.top+s*c.y_mirror)}function hs_l(r,o,t,e,S,s,H,_,n,c){!0===Q[o][t].l?hc_(r,o,t-1,e,S,s,H,_,3):r.vertex(c.left,c.top)}function c_(){var r=[[\"#3E6BB7\",\"#DEB045\",\"#BD3724\",\"#2B2D2B\",ra([\"#CAA59A\",\"#D1C1AB\"])],[\"#FE944A\",\"#594D61\",\"#2CF7FB\",\"#FF88C6\",\"#FFDCCA\",\"#FAF985\"],[\"#1e81b0\",\"#e28743\",\"#eeeee4\",\"#ACACAC\",\"#CAEAC3\",\"#3F342F\"],[\"#40E0D0\",\"#FFD705\",\"#FF7373\",\"#468489\"],[\"#206a5d\",\"#81b214\",\"#ffcc30\",\"#f58633\"],[\"#249BAA\",\"#FACC3F\",\"#555F75\",\"#857399\",\"#FFB997\"],[\"#EDC950\",\"#EB6840\",\"#CC2A34\",\"#03A0B0\"],[\"#7C0000\",\"#007C7C\",\"#11141B\",\"#1B162D\",\"#3E0000\",\"#003E3E\"],[\"#112C13\",\"#050704\",\"#142013\",\"#53826D\",\"#F7B31C\"],[\"#07546B\",\"#A9E1CB\",\"#2E914A\",\"#F5F4C8\",\"#8FE8E8\",\"#ffffff\"],[\"#CBDD88\",\"#A8A082\",\"#1A3641\",\"#031E02\",\"#060A15\"],[\"#630000\",\"#8A0000\",\"#A50000\",\"#0F0F0F\",B,\"#360606\"],[\"#ffffff\",\"#D0E1F8\",\"#4D648C\",\"#283553\",\"#1E1F24\"],[\"#FFB996\",\"#F47E7E\",\"#843B62\",\"#62193F\",\"#0B042D\"],[\"#535A6D\",\"#383E4E\",\"#242B3D\",\"#151A2E\",\"#130111\"],Array(6).fill(B)];HC=r[C],HC=shf(HC),soul_c1=ra(HC),linf_color=soul_c1;for(var o=0;o<CHR;o++)o>=HC.length&&HC.push(HC[o%HC.length]);soul_c2=ra(HC),LC=B,OC=\"#DEB045\",dark_echo&&(linf_color=B)}function draw(){background(B);var r=2*PI\/soul_beams;HG.clear();var o=[c_pos,c_pos];for(HP=0;HP<=2;HP++)h(HG,o[0],o[1],!1,!1),h(HG,o[0],o[1],!0,!1),h(HG,o[0],o[1],!1,!0),h(HG,o[0],o[1],!0,!0),LH||BH||(h(HG,o[0]+2*HRS,o[1],!0,!1),h(HG,o[0],o[1]+2*HRS,!1,!0),h(HG,o[0]+2*HRS,o[1]+2*HRS,!0,!0),h(HG,o[0]-2*HRS,o[1],!1,!1),h(HG,o[0],o[1]+2*HRS,!0,!0),h(HG,o[0]-2*HRS,o[1]+2*HRS,!1,!0),h(HG,o[0]+2*HRS,o[1],!0,!0),h(HG,o[0],o[1]-2*HRS,!1,!1),h(HG,o[0]+2*HRS,o[1]-2*HRS,!0,!1),h(HG,o[0]-2*HRS,o[1],!1,!0),h(HG,o[0],o[1]-2*HRS,!0,!1),h(HG,o[0]-2*HRS,o[1]-2*HRS,!1,!1));image(HG,round(LS+SSPN),round(LS+SSPN)),noFill(),stroke(B),strokeWeight(HSP\/7),circle(c_abs_x,c_abs_y,HSP+4*LS);var t=1;SP1.clear(),SP2.clear();for(var e=0;e<2*PI;e+=r){var S=1==t?soul_c1:soul_c2;ds_(SP1,SP2,e,S,t),t*=-1}var s=.83*FHS,H=.08*FHS;2==soul_echoes&&(s=.86*FHS,H=.11*FHS),1==soul_echoes&&(s=.9*FHS);var _=0;for(_=0;_<soul_echoes;_++){var n=1==_?soul_c2:soul_c1;dark_echo&&(n=color(0,0,0+30*(_+1)));for(var c=-1;c<=1;c+=2)for(var a=-1;a<=1;a+=2)SE.noFill(),SE.stroke(LC),SE.strokeWeight(SZ),SE.circle(c_abs_x+s*c,c_abs_y+s*a,SZ+HSP),SE.stroke(OC),SE.strokeWeight(SZ-HO2),SE.circle(c_abs_x+s*c,c_abs_y+s*a,SZ+HSP),SE.stroke(LC),SE.strokeWeight(SZ-HOS-HO2),SE.circle(c_abs_x+s*c,c_abs_y+s*a,SZ+HSP),SE.stroke(n),SE.strokeWeight(SZ-HOS-HO2-HO2),SE.circle(c_abs_x+s*c,c_abs_y+s*a,SZ+HSP);s+=H}image(SP1,0,0),image(SE,0,0),image(SP2,0,0),noFill(),stroke(LC),strokeWeight(LS),circle(c_abs_x,c_abs_y,LS+HSP),stroke(OC),strokeWeight(LS-HO2),circle(c_abs_x,c_abs_y,LS+HSP),stroke(LC),strokeWeight(LS-HOS-HO2),circle(c_abs_x,c_abs_y,LS+HSP),stroke(linf_color),strokeWeight(LS-HOS-HO2-HO2),circle(c_abs_x,c_abs_y,LS+HSP),strokeWeight(pspt),stroke(OC),square(0,0,ms),strokeWeight(pspt-HOS),stroke(LC),square(0,0,ms)}function rnd(r){return M=(M+4)%8,void 0===r?R():r*R()}function ra(r){return r[floor(rnd()*r.length)]}function shf(r){for(var o,t,e=r.length;0!==e;)t=floor(rnd()*e),o=r[e-=1],r[e]=r[t],r[t]=o;return r}M=0,S=Uint32Array.from([0,1,s=t=2,3,4,5,6,7,8].map(r=>parseInt(tokenData.hash.substr(8*r+2,8),16))),R=(r=>(t=S[M+3],S[M+3]=S[M+2],S[M+2]=S[M+1],S[M+1]=s=S[M+0],t^=t<<11,S[M+0]^=t^t>>>8^s>>>19,S[M+0]\/2**32));'modified tx piter prng'"
}