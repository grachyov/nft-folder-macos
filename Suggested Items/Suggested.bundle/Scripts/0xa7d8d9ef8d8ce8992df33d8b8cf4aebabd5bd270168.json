{
  "kind" : "js",
  "screensaverFileName" : "Bloom",
  "value" : "class e{constructor(e){e=e}t(){r^=r<<13;r^=r>>17;r^=r<<5;return(r<0?~r+1:r)%1e3\/1e3}l(e,t){return e+(t-e)*random_dec()}o(e,t){return Math.floor(random_num(e,t+1))}}const A=2400;function t(){let t=\"0123456789abcdef\",a=\"0x\";for(let e=64;e>0;--e){a+=t[Math.floor(Math.random()*t.length)]}return a}const a=tokenData.hash;let n=Math.floor(parseInt(tokenData.tokenId)\/1e6);let l=parseInt(tokenData.tokenId)%(n*1e6);let r=parseInt(a.slice(0,16),16);let o=new e(r);let D=()=>o.t();let P=Number(new Date);let h=P+3e3;const i=Number(new Date(\"July 18, 2021 00:00:00\"));const C=D()<.15;const p=D()*3650+90;const y=C?2:1;let F=y*Math.round(D()*30+15);let N=y*Math.round(D()*10+8);const c=D()<.02;const w=D()<.01;const m=D()<.01;const M=m?false:D()<.05;const s=false;let E=false;let _=false;let f=0;let u=[];let v=[];let q=[];let B=[];window.onkeyup=function(e){if(e.keyCode==83){if(E)fe();else _=true}};const g=[{name:\"Grayscale\",value:\"grayscale(100%)\",i:3},{name:\"High Contrast\",value:\"contrast(175%)\",i:15},{name:\"None\",value:\"\",i:72}];const d=[{name:\"Low\",value:40,i:20},{name:\"Medium\",value:140,i:45},{name:\"High\",value:180,i:10},{name:\"Full\",value:255,i:15}];const b=[{name:\"None\",value:0,i:20},{name:\"Normal\",value:.35,i:70},{name:\"High\",value:.5,i:10}];let x=[{name:\"Yellow\",p:[[255,250,158],[252,254,150],[255,208,0],[253,214,48]],i:1},{name:\"Snow\",p:[[229,228,234],[200,203,213],[213,224,222]],i:1},{name:\"Rose\",p:[[253,188,188],[251,167,167],[255,147,147],[244,118,118],[238,80,80]],i:1},{name:\"Lavender\",p:[[84,76,145],[123,105,178],[205,151,211],[149,103,184]],i:1},{name:\"Tangerine\",p:[[247,64,6],[247,128,19],[247,186,33]],i:1},{name:\"Azul\",p:[[67,129,193,1],[57,110,164,1],[52,100,150,1],[46,90,135,1],[36,71,106,1],[31,61,92,1],[25,51,77,1]],i:1},{name:\"Ruby\",p:[[128,8,34],[144,35,59],[159,62,84],[190,115,134],[221,168,184],[252,221,234]],i:1},{name:\"Violet\",p:[[141,29,127],[147,38,133],[153,46,139],[164,63,151],[186,96,175],[231,163,222]],i:1},{name:\"Crisp Orange\",p:[[204,85,0],[230,170,128],[255,255,255]],i:1},{name:\"Easter\",p:[[4,138,129],[6,214,160],[84,198,235],[138,137,192],[205,162,171]],i:1},{name:\"Ukraine\",p:[[0,41,107],[0,63,136],[0,80,157],[128,168,206],[253,197,0],[255,213,0]],i:1},{name:\"Ice\",p:[[120,192,224],[68,157,209],[45,81,165],[21,5,120],[14,14,82]],i:1},{name:\"Charcoal\",p:[[216,219,226],[169,188,208],[88,164,176],[55,63,81],[27,27,30]],i:1},{name:\"Fire\",p:[[25,19,15],[133,5,2],[255,0,0],[255,130,0],[255,193,0]],i:1},{name:\"Bluebonnet\",p:[[247,247,255],[195,224,252],[143,201,248],[91,178,245],[65,166,243],[39,154,241]],i:1},{name:\"Verde\",p:[[98,139,72],[106,181,71],[139,190,69],[243,231,135]],i:.3},{name:\"Teal\",p:[[94,116,127],[121,147,147],[134,163,157],[147,178,167],[173,209,187],[199,239,207]],i:1},{name:\"Cyber\",p:[[183,9,76],[160,26,88],[137,43,100],[114,60,112],[92,77,125],[69,94,137],[46,111,149],[23,128,161],[0,145,173]],i:1},{name:\"Pacific\",p:[[237,174,73],[209,73,91],[0,121,140],[48,99,142],[0,61,91]],i:1},{name:\"Sunset\",p:[[118,120,237],[247,184,1],[241,135,1],[243,91,4]],i:1},{name:\"Turquoise\",p:[[105,48,195],[94,96,206],[83,144,217],[78,168,222],[72,191,227],[86,207,225],[100,223,223],[114,239,221],[128,255,219]],i:1},{name:\"Magenta\",p:[[242,130,102],[239,93,96],[236,64,103],[198,45,114],[160,26,125]],i:1},{name:\"Space\",p:[[43,45,66],[112,43,158],[180,41,249],[133,93,247],[85,145,245],[38,197,243]],i:1},{name:\"Produce\",p:[[119,118,188],[205,199,229],[255,251,219],[255,236,81],[255,103,77]],i:1},{name:\"Flag\",p:[[40,61,59],[25,114,120],[237,221,212],[196,69,54],[119,46,37]],i:1},{name:\"Black\",p:[[1,1,1]],i:.25}];const H=[{name:\"Egg Shell\",m:\"#EEF0F2\",i:1},{name:\"Night\",m:\"#08090A\",i:1},{name:\"Paua\",m:\"#251F47\",i:1},{name:\"Sea\",m:\"#D9feff\",i:1},{name:\"Mint\",m:\"#CAF1DE\",i:1},{name:\"Pistachio\",m:\"#E1F8DC\",i:1},{name:\"Canvas\",m:\"#FEF8DD\",i:1},{name:\"Honey\",m:\"#fdf2be\",i:1},{name:\"Peach\",m:\"#F7D8BA\",i:1},{name:\"Faded\",m:\"#53687E\",i:1},{name:\"Charcoal\",m:\"#272838\",i:1},{name:\"Pristine\",m:\"#FBFAF8\",i:1},{name:\"Rose\",m:\"#FFE4F3\",i:1},{name:\"Flamingo\",m:\"#f9d5ff\",i:1},{name:\"Eggplant\",m:\"#270024\",i:1},{name:\"Plum\",m:\"#0f0027\",i:1},{name:\"Abyss\",m:\"#001327\",i:1},{name:\"Aqua\",m:\"#002227\",i:1},{name:\"Slate\",m:\"#252525\",i:1},{name:\"Burgundy\",m:\"#311010\",i:1}];if(!c)d.push({name:\"None\",value:0,i:10});let k=[];for(let e=0;e<x.length;++e)k.push(x[e].p.flat());x.push({name:\"All\",p:k,i:.5});const S=Math.min(window.innerWidth\/A,window.innerHeight\/A,1);let I=ce(g);let T=ce(x);let G=ce(b);let R=ce(d);if(T.name==\"Black\")H.splice(1,1);else if(T.name==\"Snow\")H.splice(11,1);let z=ce(H);let L=[T.p];let O=[T.name];if(C){let e=ce(x);L.push(e.p);O.push(e.name)}else L.push([]);let U=me(\"canvas\");U.width=600;U.height=600;let V=U.getContext(\"webgl\",{M:true});let j=me(\"div\",document.body);j.style.display=\"block\";j.style.overflow=\"hidden\";j.style.position=\"relative\";let J=me(\"canvas\",j,{width:A,height:A});j.style.height=A*S+\"px\";j.style.width=A*S+\"px\";j.style.overflow=\"hidden\";J.style.margin=0;J.style.transformOrigin=\"0 0\";J.style.transform=\"scale(\"+S+\")\";J.style.position=\"absolute\";J.style.top=\"0px\";J.style.left=\"0px\";let Y=J.getContext(\"2d\");Y.fillStyle=z.m;Y.fillRect(0,0,J.width,J.height);document.body.style.margin=0;document.body.style.backgroundColor=z.m;document.body.style.display=\"flex\";document.body.style.alignItems=\"center\";document.body.style.justifyContent=\"center\";for(let e=0;e<N+F;++e){let e=i+Math.round(D()*p*864e5);u.push(e);f=Math.max(f,e)}let K=m?x[x.length-1].p:M?[...L[0],...L[1]]:[[192,209,31],[110,192,12],[52,162,3],[61,134,11],[48,160,14]];let Q=C?((Math.round(D())*2-1)*D()*.1+.2)*A+A\/2:(Math.round(D())*2-1)*D()*.3*A+A\/2;let W=A\/2+(w?1:-1)*(D()*.1+.15)*A;let X=Q+(Q>A\/2?-1:1)*D()*.4*A;let Z=Math.abs(A*D()*.2+A*.75+(w?-A:0));let $=Q+(Q>A\/2?-1:1)*D()*.6*A;let ee=(w?-1:1)*(Z-W)*.5;let te=D()*.8+.2;let ae=Math.PI\/2+xe(te,Q,W,$,ee,X,Z);let ne=ye(te,Q,W,$,ee,X,Z);let le=(D()*.03+.02)*A*(Math.round(D())*2-1);let re=Math.round(ne.x+Math.cos(ae)*le);let oe=Math.round(ne.y+Math.sin(ae)*le);let he=0;let ie=0;let pe=0;ve(re,oe,Math.round(D())*2-1,Math.round(D())*2-1);function ce(t){let a=D()*t.reduce((e,t)=>e+t.i,0);let n=0;for(let e=0;e<t.length;++e){n+=t[e].i;if(n>=a){return t[e]}}return t[t.length-1]}function me(e,t,a){var n=document.createElement(e);if(t)t.appendChild(n);if(a){const l=Object.entries(a);for(const[r,o]of l){n[r]=o}}return n}function Me(e,t,a,n){if(Number(new Date)<P+pe*50){setTimeout(()=>{Me(e,t,a,n)},10);return}pe++;let l=Math.round((D()*.05+.07)*A);let r=Math.round((D()*.6+.7)*l);let o=A\/80;let h=Math.ceil(r+o+4);let i=Math.ceil(l+o+4);let p=L[he][Math.floor(D()*L[he].length)];let c=a>0?2:l+o;let m=n>0?2:r+o;let M=c;let s=m+r*n;let f=c+l*a;let u=m;newCanvas=ge(i,h,e-c,t-m,p,2);let v=newCanvas.getContext(\"2d\");let g=D()*6+8;let d=[];for(let n=0;n<=g;n++){let e=we(n\/g,M,s,f,s,f,s,f,u);let t=Fe(n\/g,M,s,f,s,f,s,f,u);let a={x:Math.round(t.x+Math.cos(e)*o*D()),y:Math.round(t.y+Math.sin(e)*o*D())};d.push(a)}v.beginPath();v.moveTo(c,m);v.lineTo(M,s);for(let e=1;e<d.length-2;e++){var b=Math.round((d[e].x+d[e+1].x)\/2);var x=Math.round((d[e].y+d[e+1].y)\/2);v.quadraticCurveTo(d[e].x,d[e].y,b,x)}v.quadraticCurveTo(d[d.length-2].x,d[d.length-2].y,f,u);v.closePath();ue(v,p);B.splice(Math.floor(D()*B.length),0,newCanvas);v=null;if(pe<(C&&he<1?Math.floor(F*.5):F)){requestAnimationFrame(()=>{let e=D()*2*Math.PI;let t=Math.round(Q+Math.cos(e)*(D()*.12-.04)*A);let a=Math.round(W-Math.sin(e)*(D()*.12-.04)*A);let n=e>Math.PI\/2&&e<3*Math.PI\/2?-1:1;let l=e<Math.PI?-1:1;de();Me(t,a,n,l)})}else if(he<y-1&&C){let e=Q-A\/2;Q=A\/2-e;W=A\/2-(w?-1:1)*(D()*.1+.15)*A;let t=D()*.8+.1;let a=Math.PI\/2+xe(t,Q,W,$,ee,X,Z);let n=ye(t,Q,W,$,ee,X,Z);let l=(D()*.03+.02)*A*(Math.round(D())*2-1);let r=Math.round(n.x+Math.cos(a)*l);let o=Math.round(n.y+Math.sin(a)*l);he++;requestAnimationFrame(()=>{de();ve(r,o,Math.round(D())*2-1,Math.round(D())*2-1)})}else{E=true;if(_)fe();U=null;requestAnimationFrame(()=>{de(true)})}}function se(e){e\/=255;var t=Math.pow(e,5);e=Math.floor(t\/(t+Math.pow(1-e,5))*255);return e}function fe(){var e=me(\"a\");e.download=\"Bloom_\"+l+\".png\";e.href=J.toDataURL();e.click()}function ue(e,t){let a=(t[0]+t[1]+t[2])\/3;let n=\"rgb(\"+a+\",\"+a+\",\"+a+\")\";let l=\"rgb(\"+se(t[0])+\",\"+se(t[1])+\",\"+se(t[2])+\")\";let r=\"rgb(\"+t[0]+\",\"+t[1]+\",\"+t[2]+\")\";e.strokeStyle=I.name==\"Grayscale\"?n:I.name==\"High Contrast\"?l:r;e.lineWidth=R.name==\"None\"?4:2;e.fillStyle=I.name==\"Grayscale\"?n:I.name==\"High Contrast\"?l:r;e.globalCompositeOperation=\"overlay\";if(!c){e.fill();e.fillStyle=\"rgba(\"+t[0]+\",\"+t[1]+\",\"+t[2]+\",\"+R.value\/255+\")\";e.globalCompositeOperation=\"destination-in\";e.fill();e.globalCompositeOperation=\"source-over\";e.stroke()}else{e.beginPath();e.rect(0,0,e.canvas.width,e.canvas.height);e.fill()}}function ve(e,t,a,n){if(Number(new Date)<P+ie*50){setTimeout(()=>{ve(e,t,a,n)},10);return}ie++;let l=Math.round((D()*.04+.04)*A);let r=Math.round((D()*.6+.7)*l);let o=Math.round(D()*r);let h=Math.round(D()*l);let i=Math.round(A\/240);let p=a>0?i:l+Math.max(h,0)+i;let c=n>0?i:r+Math.max(o,0)+i;let m=K[Math.floor(D()*K.length)];let M=ge(Math.ceil(l+Math.max(h,0)+2*i),Math.ceil(r+Math.max(o,0)+2*i),e,t,m,1);let s=M.getContext(\"2d\");s.beginPath();s.moveTo(p,c);let f=p;let u=c+r*n;let v=p+l*a;let g=u+o*n;let d=v+h*a;let b=c;s.lineTo(f,u);let x=D()*10+15;let y=[];for(let n=0;n<=x;n++){let e=we(n\/x,f,u,f+(v-f)*.4,u+(g-u)*.2,f+(v-f)*.7,u+(g-u)*.5,v,g);let t=Fe(n\/x,f,u,f+(v-f)*.4,u+(g-u)*.2,f+(v-f)*.7,u+(g-u)*.5,v,g);let a={x:Math.round(t.x+Math.cos(e)*i*D()),y:Math.round(t.y+Math.sin(e)*i*D())};y.push(a)}for(let e=1;e<y.length-2;e++){var F=Math.round((y[e].x+y[e+1].x)\/2);var w=Math.round((y[e].y+y[e+1].y)\/2);s.quadraticCurveTo(y[e].x,y[e].y,F,w)}s.quadraticCurveTo(y[y.length-2].x,y[y.length-2].y,v,g);y=[];for(let n=0;n<=x;n++){let e=we(n\/x,v,g,v+(d-v)*.4,g+(b-g)*.2,v+(d-v)*.7,g+(b-g)*.5,d,b);let t=Fe(n\/x,v,g,v+(d-v)*.4,g+(b-g)*.2,v+(d-v)*.7,g+(b-g)*.5,d,b);let a={x:Math.round(t.x+Math.cos(e)*i*D()),y:Math.round(t.y+Math.sin(e)*i*D())};y.push(a)}for(let e=1;e<y.length-2;e++){var F=Math.round((y[e].x+y[e+1].x)\/2);var w=Math.round((y[e].y+y[e+1].y)\/2);s.quadraticCurveTo(y[e].x,y[e].y,F,w)}s.quadraticCurveTo(y[y.length-2].x,y[y.length-2].y,d,b);s.closePath();ue(s,m);q.splice(Math.floor(D()*q.length),0,M);if(ie<(C&&he<1?Math.floor(N*.75):N)){requestAnimationFrame(()=>{let e=D()*(.8\/(he+1))+.2;let t=Math.PI\/2+xe(e,Q,W,$,ee,X,Z);let a=ye(e,Q,W,$,ee,X,Z);let n=(D()*.03+.02)*A*(Math.round(D())*2-1);let l=Math.round(a.x+Math.cos(t)*n);let r=Math.round(a.y+Math.sin(t)*n);de();ve(l,r,Math.round(D())*2-1,Math.round(D())*2-1)})}else{requestAnimationFrame(()=>{let e=D()*2*Math.PI;let t=Q+Math.cos(e)*(D()*.12-.04)*A;let a=W-Math.sin(e)*(D()*.12-.04)*A;let n=e>Math.PI\/2&&e<3*Math.PI\/2?-1:1;let l=e<Math.PI?-1:1;de();Me(t,a,n,l)})}}function ge(e,t,a,n,l,r){let o=me(\"canvas\",undefined,{height:t,width:e});o.u={x:a,y:n,height:t,v:a,g:n,dir:Math.round(D())*2-1,start:u.pop(),F:A\/6*D()+A\/8,i:D()*A\/2e6+A\/3e6,A:D()*-.08-.05};be(V,l);var h=new Uint8Array(o.width*o.height*4);V.readPixels(0,0,o.width,o.height,V.RGBA,V.UNSIGNED_BYTE,h);let i=o.getContext(\"2d\");let p=i.createImageData(o.width,o.height);p.data.set(h);i.putImageData(p,0,0);return o}function de(e){Y.clearRect(0,0,J.width,J.height);Y.fillStyle=z.m;Y.fillRect(0,0,J.width,J.height);let n=[...q,...B];let l=Number(new Date);for(let a=0;a<n.length;++a){let e=n[a];let t=e.u;if(l>h&&E){if(t.D){if(t.y<A-t.height\/2){t.y=Math.min(Math.pow((l-t.start)*A\/28e4,2)+t.g,A-t.height\/2);let e=t.dir*(t.y-t.g)\/A*t.F;t.x=t.v+e*Math.sin(t.i*t.y)}else{t.D=false}}else if(t.start<l){t.start=l;t.D=true}}Y.save();Y.translate(e.width\/2+t.x,e.height\/2+t.y);Y.rotate((t.x-t.v)*t.A*Math.PI\/180);Y.drawImage(e,-(e.width\/2),-(e.width\/2));Y.restore()}if(e)requestAnimationFrame(()=>de(true))}function be(e,t){let a=`attribute vec3 position;varying vec4 vPosition;void main() {gl_Position = vec4(position, 1);vPosition = gl_Position;}`;let n=`precision highp float;varying vec4 vPosition;uniform vec4 color;uniform float rand;uniform float samt;float f(float t) {return t*t*t*(t*(t*6.0 - 15.0) + 10.0);}float PHI = 1.61803398874989484820459; float random(vec2 xy){return fract(tan(distance(xy*PHI, xy)*rand*4123.23425)*xy.x);}vec2 g(vec2 p) {float r=random(p);vec2 v = vec2(r, r);return normalize(v.xy*2.0 - vec2(1.0));}float noise(vec2 p) {vec2 p0 = floor(p);vec2 p1 = p0 + vec2(1.0, 0.0);vec2 p2 = p0 + vec2(0.0, 1.0);vec2 p3 = p0 + vec2(1.0, 1.0);vec2 g0 = g(p0);vec2 g1 = g(p1);vec2 g2 = g(p2);vec2 g3 = g(p3);float t0 = p.x - p0.x;float ft0 = f(t0);float t1 = p.y - p0.y;float ft1 = f(t1);float p0p1 = (1.0 - ft0) * dot(g0, (p - p0)) + ft0 * dot(g1, (p - p1));float p2p3 = (1.0 - ft0) * dot(g2, (p - p2)) + ft0 * dot(g3, (p - p3));return (1.0 - ft1) * p0p1 + ft1 * p2p3;}void main() {vec4 pos = (vPosition + 1.0) \/ 2.0;float n = noise(pos.xy\/0.5) * 0.5+noise(pos.xy\/0.25) * 0.25;gl_FragColor = vec4(vec3(n+0.35), samt);}`;e.clearColor(1,1,1,1);const l=e.createShader(e.VERTEX_SHADER);e.shaderSource(l,a);e.compileShader(l);const r=e.createShader(e.FRAGMENT_SHADER);e.shaderSource(r,n);e.compileShader(r);const o=e.createProgram();e.attachShader(o,l);e.attachShader(o,r);e.linkProgram(o);e.useProgram(o);const h=new Float32Array([-1,-1,-1,-1,1,-1,1,-1,-1,1,1,-1,1,-1,-1,-1,1,-1]);const i=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,i);e.bufferData(e.ARRAY_BUFFER,h,e.STATIC_DRAW);const p=e.getAttribLocation(o,\"position\");e.enableVertexAttribArray(p);e.vertexAttribPointer(p,3,e.FLOAT,false,0,0);var c=e.getUniformLocation(o,\"color\");let m=[t[1]\/255,t[2]\/255,t[3]\/255,R.value];e.uniform4f(c,t[0]\/255,t[1]\/255,t[2]\/255,R.value);var M=e.getUniformLocation(o,\"rand\");e.uniform1f(M,D());var s=e.getUniformLocation(o,\"samt\");e.uniform1f(s,R.name==\"low\"?G.value\/2:G.value);e.clear(e.COLOR_BUFFER_BIT);e.drawArrays(e.TRIANGLES,0,6)}function xe(e,t,a,n,l,r,o){var h=2*(1-e)*(n-t)+2*e*(r-n);var i=2*(1-e)*(l-a)+2*e*(o-l);return-Math.atan2(h,i)+.5*Math.PI}function ye(e,t,a,n,l,r,o){return{x:(1-e)*(1-e)*t+2*(1-e)*e*n+e*e*r,y:(1-e)*(1-e)*a+2*(1-e)*e*l+e*e*o}}function Fe(e,t,a,n,l,r,o,h,i){return{x:Math.pow(1-e,3)*t+3*e*Math.pow(1-e,2)*n+3*e*e*(1-e)*r+e*e*e*h,y:Math.pow(1-e,3)*a+3*e*Math.pow(1-e,2)*l+3*e*e*(1-e)*o+e*e*e*i}}function we(e,t,a,n,l,r,o,h,i){var p=Math.pow(1-e,2)*(n-t)+2*e*(1-e)*(r-n)+e*e*(h-r);var c=Math.pow(1-e,2)*(l-a)+2*e*(1-e)*(o-l)+e*e*(i-o);return-Math.atan2(p,c)}"
}