{
  "kind" : "p5js100",
  "screensaverFileName" : "Muttenz",
  "value" : "let _id=parseInt(tokenData.tokenId)%1e6;class Random{constructor(){this.useA=!1;let t=function(t){let e=parseInt(t.substr(0,8),16),r=parseInt(t.substr(8,8),16),s=parseInt(t.substr(16,8),16),n=parseInt(t.substr(24,8),16);return function(){e|=0,r|=0,s|=0,n|=0;let t=(e+r|0)+n|0;return n=n+1|0,e=r^r>>>9,r=s+(s<<3)|0,s=s<<21|s>>>11,s=s+t|0,(t>>>0)\/4294967296}};this.prngA=new t(tokenData.hash.substr(2,32)),this.prngB=new t(tokenData.hash.substr(34,32));for(let t=0;t<1e6;t+=2)this.prngA(),this.prngB()}r_d(){return this.useA=!this.useA,this.useA?this.prngA():this.prngB()}r_b(t,e){return t+(e-t)*this.r_d()}r_i(t,e){return Math.floor(this.r_b(t,e+1))}r_c(t){return t[this.r_i(0,t.length-1)]}}let bgs,paper,fr,R=new Random,bcols=[[\"#F7F7F7\",\"#FFF5F5\",\"#FCF6F0\",\"#FAF9F1\",\"#F3F8F4\",\"#F2F8FB\"],[\"#222222\"]],colors=[\"#2F2D2C\",\"#383C39\",\"#39363D\",\"#CCCCCC\",\"#EEEEEE\",\"#553846\",\"#583C39\",\"#586A7C\",\"#6C5C6F\",\"#6D83D3\",\"#705AA1\",\"#70ABBD\",\"#B2E1FF\",\"#BC99B7\",\"#C8E8E8\",\"#204559\",\"#C8EEC1\",\"#5CB196\",\"#A5D9B4\",\"#83CCCB\",\"#5A7D8A\",\"#465B61\",\"#CD7A8A\",\"#E26B59\",\"#E4937B\",\"#EAC377\",\"#EEDBC0\",\"#F5CCA7\",\"#FEE7BC\",\"#FF9E87\"],mcolors=[[\"#6e1423\",\"#85182a\",\"#a11d33\",\"#b21e35\",\"#bd1f36\",\"#da1e37\",\"#e01e37\"],[\"#99e2b4\",\"#78c6a3\",\"#56ab91\",\"#469d89\",\"#358f80\",\"#248277\",\"#036666\"],[\"#033355\",\"#01497c\",\"#014f86\",\"#2a6f97\",\"#468faf\",\"#61a5c2\",\"#a9d6e5\"],[\"#ffe169\",\"#fad643\",\"#dbb42c\",\"#c9a227\",\"#a47e1b\",\"#926c15\",\"#76520e\"],[\"#47505C\",\"#617488\",\"#AAB5C3\",\"#CBD4E0\",\"#DBE2EC\",\"#E5ECF5\",\"#F4F9FF\"],[\"#E2A650\",\"#e47513\",\"#d0630e\",\"#bb5008\",\"#a54708\",\"#833907\",\"#612b05\"]],mono=0;R.r_b(0,1)>.85?(colors=[\"#111111\",\"#212121\",\"#333333\",\"#f8f8f8\",\"#eeeeee\",\"#dbdbdb\"],bcols=[[\"#fcfcfc\",\"#f0f0f0\"],[\"#1c1c1c\",\"#2e2e2e\"]],mono=1):R.r_b(0,1)>.9&&_id>3&&(colors=R.r_c(mcolors),mono=2),paper=R.r_b(0,1)>.7?1:0,(!mono||2==mono)&&(paper=0),fr=R.r_i(0,100)>50?1:0;let frw=R.r_c([10,14,24,6]);bgs=bcols[paper];let sm,mx,my,scatter,turn,_st=R.r_c(colors),_fl=R.r_c(colors),bgid=R.r_i(0,bgs.length-1),_bg=bgs[bgid],xs=[],ys=[],as=[],ds=[],rnds=[],ov=10,rs=1,cyc=0,grid=0,amount=R.r_i(250,500),mamount=R.r_c([2,3,3,5,7,6,10]),quantx=R.r_i(2,11),quanty=R.r_i(2,17),sfactor=80;mono&&amount<100&&(amount+=100),turn=R.r_i(0,100)>99?1:0,scatter=R.r_i(0,100)>85?1:0;let gr,semi,wi,mg=R.r_c([3,4,4,5,6,7,8]),spr=R.r_c([8,10,10,14,16]);gr=R.r_i(0,100)>90&&_id>3?1:0,semi=R.r_i(0,100)>70&&gr?1:0,wi=R.r_i(0,100)>90&&_id>3&&2!=mono?1:0,R.r_i(0,100)>97&&_id>3?spr=4:R.r_i(0,100)>95&&!wi&&_id>3?sfactor=30:R.r_i(0,100)>90&&_id>3?(sfactor=200,amount=1e3):R.r_i(0,100)>99&&_id>3&&(mg=2e4,gr=1),30==sfactor&&(mamount=1),scatter&&(quantx=100,quanty=100);let cw,ch,wq,hq,pattern,shape,over,segs=[g1,g2,g3,g4,g5,g6,g7,g8,g9,o1,o1,o1,o2,o3,o4,o5,p1,p2,p3,l1,l2,l3,s1,s2,bl],rat=2\/3,props=[9\/16,2\/3,1,1.5,16\/9];function cl(t){return colors[int(t*colors.length)]}function canv(){cw=window.innerWidth,ch=window.innerHeight,rs||(cw\/ch<rat?ch=Math.round(cw\/rat):cw=Math.round(ch*rat)),sm=Math.min(cw,ch),mx=sm\/mg,my=sm\/mg,8==mg&&(my*=2.5),1==quantx&&(mx*=30),1==quanty&&(my*=30),mx>cw\/2&&(mx=cw\/2),my>ch\/2&&(my=ch\/2),wq=(cw-2*mx)\/quantx,hq=(ch-2*my)\/quanty}for(let t=0;t<amount;t++){xs.push(R.r_i(0,quantx)),ys.push(R.r_i(0,quanty));let t=[];for(let e=0;e<20;e++)t.push(R.r_b(0,1));as.push(t),ds.push(R.r_b(1,3)),rnds.push(R.r_c(segs))}function setup(){canv(),createCanvas(cw,ch),pattern=createGraphics(cw,ch),shape=createGraphics(cw,ch),over=createGraphics(cw,ch),pattern.rectMode(CENTER),shape.rectMode(CENTER),over.rectMode(CENTER)}function draw(){pattern.strokeWeight(sm\/2500),over.strokeWeight(sm\/2500),shape.strokeWeight(sm\/2500),wi?(pattern.stroke(_st),over.stroke(_st)):(pattern.stroke(0,150),over.stroke(0,100)),fl(pattern,_fl),fl(over,_fl),over.push(),backg(),over.clear(),rnds[0]==o5&&over.noFill(),rnds[0](over,as[0][0]*cw,as[0][1]*ch,sm\/8,as[1]),rnds[0](over,cw\/2,ch\/2,as[0][0]*sm\/8,as[0]),over.translate(mx,my);for(let t=0;t<amount\/ov;t++)fl(over,cl(as[t][0])),rnds[t]==o5?ss=.05:ss=1,30==sfactor?ss\/=3:ss,rnds[t](over,xs[t]*wq,ys[t]*hq,ds[t]*sm\/sfactor*ss,as[t]);over.pop(),image(over,0,0),drawingContext.filter=\"blur(\"+int(sm\/100)+\"px) opacity(0.3)\",image(over,0,0);for(let t=0;t<mamount;t++){pattern.clear(),pattern.push(),grad(pattern,color(cl(as[t%2][0])),color(cl(as[t%2][1]))),wi&&t&&pattern.background(255*int(paper)),rnds[0](pattern,cw\/2,ch\/2,as[0][0]*sm\/10,as[2]),pattern.translate(mx,my);for(let t=0;t<amount;t++)pattern.push(),fl(pattern,cl(as[t][0])),rnds[t](pattern,xs[t]*wq,ys[t]*hq,ds[t]*sm\/sfactor,as[t]),pattern.pop();shape.clear(),shape.push();let e,r=0,s=0;e=amount>250?amount\/3:amount,30==sfactor&&(e=2*amount);for(let n=0;n<e;n++){let e=(n+t)%amount,o=n%amount;r+=(as[e][cyc%18+t]-.5)*sm\/spr,s+=(as[e][cyc%18+1+t]-.5)*sm\/spr;let a=cw\/2+r,c=ch\/2+s;gr&&(semi?(a=xs[e]*wq+mx+(as[e][cyc%18+t]-.5)*sm\/15,c=ys[e]*hq+my+(as[e][cyc%18+t+1]-.5)*sm\/15):(a=mx+as[e][t+2]*(cw-2*mx),c=my+as[e][t+3]*(ch-2*my))),[o1,o4,o2,l1,o5].indexOf(rnds[e])<0&&rnds[e](shape,a,c,as[e][t+4]*sm\/sfactor*4,as[o])}shape.pop();let n=pixelDensity(),o=createImage(cw*n,ch*n);o.copy(pattern,0,0,cw,ch,0,0,cw*n,ch*n),o.mask(shape),drawingContext.filter=\"drop-shadow(0 0 \"+int(sm\/9)+\"px rgba(0,0,0,.1))\",image(o,0,0,cw,ch),drawingContext.filter=\"blur(\"+int(sm\/200)+\"px) opacity(0.3)\",image(o,0,0,cw,ch),drawingContext.filter=\"none\",pattern.pop()}turn&&(translate(cw\/2,ch\/2),rotate(-PI\/6),translate(-cw\/2,-ch\/2)),crosses(),fr&&fra(),noLoop()}function backg(){rectMode(CENTER),noStroke(),paper?background(lc(_bg,2)):background(lc(_bg,-2)),!fr&&fra(),turn&&(translate(cw\/2,ch\/2),rotate(PI\/6),translate(-cw\/2,-ch\/2))}function fra(){let t,e;t=e=frw,fill(_bg),rect(sm\/t\/2,ch\/2,sm\/t,ch),rect(cw-sm\/t\/2,ch\/2,sm\/t,ch),rect(cw\/2,sm\/e\/2,cw,sm\/e),rect(cw\/2,ch-sm\/e\/2,cw,sm\/e),strokeWeight(sm\/2500),paper?stroke(255,30):stroke(0,30),noFill(),rect(cw\/2,ch\/2,cw-sm\/t*2,ch-sm\/e*2)}function crosses(){push(),paper?fill(255,30):fill(0,30);let t=1;quantx>99&&(t=4);for(let e=0;e<=quanty;e+=t)for(let r=0;r<=quantx;r+=t){let t=sm\/100;(0==e||e==quanty)&&((0==r||r==quantx)&&cross(mx+r*(cw-2*mx)\/quantx,my+e*(ch-2*my)\/quanty,t)),circle(mx+r*(cw-2*mx)\/quantx,my+e*(ch-2*my)\/quanty,t\/5),grid&&(fill(\"red\"),cross(mx+r*(cw-2*mx)\/quantx,my+e*(ch-2*my)\/quanty,t))}pop()}function fl(t,e){wi?t.noFill():t.fill(e)}function cross(t,e,r){rect(t,e,r,r\/10),rect(t,e,r\/10,r)}function bl(t,e,r,s,n){let o=s\/4;t.beginShape(),t.vertex(e-s,r),t.quadraticVertex(e-s+o*n[0],r-s+o*n[1],e,r-s),t.quadraticVertex(e+s+o*n[2],r-s+o*n[3],e+s,r),t.quadraticVertex(e+s+o*n[4],r+s+o*n[5],e,r+s),t.quadraticVertex(e-s+o*n[6],r+s+o*n[7],e-s,r),t.endShape()}function grad(t,e,r){t.push(),t.strokeWeight(1);for(let s=.5;s<t.height;s++){n=map(s,0,t.height,0,1);let o=lerpColor(e,r,n);o.setAlpha(200),t.stroke(o),t.line(0,s,t.width,s)}t.pop()}function s1(t,e,r,s,n){t.push(),t.noFill(),t.stroke(cl(n[0])),t.rect(e,r,s\/4,2*s),t.pop()}function s2(t,e,r,s,n){t.push(),t.noFill(),t.stroke(_st),t.circle(e,r,s\/3),t.pop()}function l1(t,e,r,s,n){t.push(),t.noFill(),t.stroke(_st);let o=5*n[5]+5;t.translate(-s*o\/4,0),t.beginShape(),t.curveVertex(e,r);for(let n=1;n<o;n++)t.curveVertex(e+n*s\/2,r+(n%2-.5)*s);t.endShape(),t.pop()}function l2(t,e,r,s,n){t.push(),t.strokeWeight(sm\/5e3);let o=n[0]*s*s;n[1]>.5?t.line(e-o,r,e+o,r):t.line(e,r-o,e,r+o),t.pop()}function l3(t,e,r,s,n){let o=n[0]*s\/2;t.line(e,r-s,e-o,r),t.line(e-o,r,e+o,r),t.line(e+o,r,e,r+s)}function p1(t,e,r,s,n){let o=int(30*n[0]);t.push(),t.translate(e,r),t.circle(0,0,s\/2);for(let e=0;e<o;e++)t.push(),t.rotate(TAU\/o*e),t.translate(s,0),n[1]>.5?t.circle(0,0,s\/o):t.rect(0,0,s\/o*2),t.pop();t.pop()}function p2(t,e,r,s,n){let o=0,a=0,c=7*n[0],l=n[1]-.5,p=2*Math.round(n[2])-1;for(let i=0;i<c;i++)t.circle(e+o,r+a,s*n[i]),o+=s*l*n[i]*2,a+=s*l*n[i]*2*p}function p3(t,e,r,s,n){let o=10*n[0];t.push(),t.translate(e-o*s\/6,r),n[2]>.9&&(t.translate(0,-o*s\/6),t.rotate(PI\/4));for(let e=0;e<o;e++)t.translate(s\/3,0),fl(t,colors[(int(n[0]*colors.length)+e)%colors.length]),t.rect(0,0,s\/3,s\/2);t.pop()}function g1(t,e,r,s,n){t.circle(e,r,3*s)}function g2(t,e,r,s,n){s\/=3,t.push(),t.translate(e,r),t.rotate(PI\/4);let o=int(2*n[0])*s;for(let e=0;e<3;e++)fl(t,cl(n[0])),t.rect(0,0,s\/4,2*s,o),t.rotate(toAng(n[0])),fl(t,cl(n[1])),t.rect(0,0,2*s,s\/4,o);t.pop()}function g3(t,e,r,s,n){let o=int(9*n[0]);t.push(),t.translate(e,r);for(let e=0;e<o;e++){let r=(n[e]-.5)*s\/5,a=(n[e+1]-.5)*s\/5;n[3]>.3&&(r=a=0);let c=map(e,0,o,3*s,0);fl(t,colors[(int(n[0]*colors.length)+e)%colors.length]),t.circle(0+r,0+a,c)}t.pop()}function g4(t,e,r,s,n){s*=3,t.push(),t.translate(e,r),t.rotate(toAng(n[1])),t.arc(0,0,s,s,0,.5*PI*int(3*n[2]+1),PIE),t.pop()}function g5(t,e,r,s,n){t.push(),t.translate(e,r);let o=3*n[3]*s;t.rotate(toAng(n[1]));let a=s;t.beginShape(),t.vertex(-a,0),t.vertex(0,-a),t.vertex(0+o,-a),t.vertex(a+o,0),t.vertex(0+o,a),t.vertex(0,a),t.endShape(),fl(t,cl(n[1])),t.quad(-a,0,0,-a,a,0,0,a),t.pop()}function g6(t,e,r,s,n){let o=10*n[0];t.push(),t.translate(e,r);for(let e=0;e<o;e++)t.translate(.06*s,.06*s),t.circle(0,0,s);t.pop(),fl(t,cl(n[1])),t.circle(e,r,s)}function g7(t,e,r,s,n){t.push(),s\/=2,t.translate(e,r),t.rotate(toAng(n[2])),t.rect(0,0,6*s*n[0],s,s*n[1]),t.pop()}function g8(t,e,r,s,n){let o=20*n[0];t.push(),t.translate(e,r);for(let e=0;e<o;e++)t.translate(0,.06*s),t.ellipse(0,0,s,s\/2);t.pop(),fl(t,cl(n[1])),t.ellipse(e,r,s,s\/2)}function g9(t,e,r,s,n){let o=99*n[0],a=0,c=0;s\/=2;for(let l=0;l<o;l++)t.push(),t.strokeWeight(sm\/4e3),t.translate(e+0,r+a),t.rotate(c),t.line(-s,0,s,0),a+=.1*s,c+=PI\/8*(n[2]-.5),t.pop()}function o1(t,e,r,s,n){t.push(),t.noFill(),t.stroke(_st),angleMode(DEGREES);let o=999*n[0],a=999*n[1];t.beginShape();for(let n=0;n<o;n++){let o=map(n,0,a,s\/2,0);t.vertex(e+o*cos(n),r+o*sin(n))}t.endShape(),angleMode(RADIANS),t.pop()}function o2(t,e,r,s,n){let o=90,a=.1*(n[0]-.5)*s,c=.1*(n[1]-.5)*s,l=0,p=n[4]*PI\/8,i=.5*s,h=.01*s;for(;o>0;)t.push(),t.stroke(cl(n[0])),t.translate(e,r),t.rotate(l),t.point(i,0),t.pop(),o--,e+=a,r+=c,l+=p,i+=h}function o3(t,e,r,s,n){let o=s*=3,a=0,c=0,l=0,p=int(150*n[1]);for(;l<p&&o>0;)t.push(),t==over?t.noFill():fl(t,lerpColor(color(cl(n[0])),color(cl(n[1])),l\/p)),t.stroke(lc(cl(n[0]),10)),t.circle(e,r,o),o-=s*n[0]*.1,e+=a,r+=c,a+=(as[int(n[1]*as.length)][l%20]-.5)*s*.01,c+=(as[int(n[0]*as.length)][l%20]-.5)*s*.01,l++,t.pop()}function o4(t,e,r,s,n){t.push(),t.noFill(),t.stroke(_st),t.beginShape(),t.curveVertex(e,r);for(let o=0;o<50;o++)t.curveVertex(e+n[o%20]*s,r+o*s*n[1]);t.endShape(),t.pop()}function o5(t,e,r,s,n){t.push(),angleMode(DEGREES);let o=999*n[0],a=999*n[1];t.beginShape();for(let n=0;n<o;n++){let o=map(n,0,a,s\/9,0);t.vertex(e+o*cos(n),r+o*sin(n))}t.endShape(),angleMode(RADIANS),t.pop()}function toAng(t){return t=Math.round(8*t)*PI\/4}function res(){resizeCanvas(cw,ch,1),pattern.resizeCanvas(cw,ch,1),over.resizeCanvas(cw,ch,1),shape.resizeCanvas(cw,ch,1)}function keyTyped(){\"1\"==key?(rs=0,rat=props[0],canv(),res()):\"2\"==key?(rs=0,rat=props[1],canv(),res()):\"3\"==key?(rs=0,rat=props[2],canv(),res()):\"4\"==key?(rs=0,rat=props[3],canv(),res()):\"g\"==key?grid=!grid:\"r\"==key?(rs=1,canv(),res()):\"s\"==key?cap():\"5\"==key&&(rs=0,rat=props[4],canv(),res()),redraw()}function cap(){saveCanvas(tokenData.hash,\"png\")}function windowResized(){canv(),res(),redraw()}function lc(t,e){var r=parseInt(t.replace(\"#\",\"\"),16),s=Math.round(2.55*e),n=(r>>16)+s,o=(r>>8&255)+s,a=(255&r)+s;return\"#\"+(16777216+65536*(n<255?n<1?0:n:255)+256*(o<255?o<1?0:o:255)+(a<255?a<1?0:a:255)).toString(16).slice(1)}"
}