{
  "kind" : "p5js100",
  "screensaverFileName" : "Tunel.Dimensional",
  "value" : "const hashPairs=[];for(let j=0;j<32;j++)hashPairs.push(tokenData.hash.slice(2+2*j,4+2*j));const dcP=hashPairs.map(x=>parseInt(x,16)),seed=parseInt(tokenData.hash.slice(2,10),16);class Random{constructor(seed){this.seed=seed}random_dec(){return this.seed^=this.seed<<13,this.seed^=this.seed>>17,this.seed^=this.seed<<5,(this.seed<0?1+~this.seed:this.seed)%1e3\/1e3}random_between(a,b){return a+(b-a)*this.random_dec()}random_int(a,b){return Math.floor(this.random_between(a,b+1))}random_choice(x){return x[Math.floor(this.random_between(0,.99*x.length))]}}let R=new Random(seed),palettes=[{cs:[\"802bb1\",\"2d283e\",\"564f6f\",\"4c495d\",\"d1d7e0\"]},{cs:[\"4285f4\",\"5c2018\",\"bc4639\",\"d4a59a\",\"f3e0dc\"]},{cs:[\"242582\",\"553d67\",\"f64c72\",\"99738e\",\"2f2fa2\"]},{cs:[\"05386b\",\"379683\",\"5cdb95\",\"8ee4af\",\"edf5e1\"]},{cs:[\"0c0032\",\"190061\",\"240090\",\"3500d3\",\"282828\"]},{cs:[\"faed26\",\"46344e\",\"5a5560\",\"9d8d8f\",\"9b786f\"]},{cs:[\"1a1a1d\",\"4e4e50\",\"6f2232\",\"950740\",\"c3073f\"]},{cs:[\"0b0c10\",\"1f2833\",\"c5c6c7\",\"66fcf1\",\"45a29e\"]},{cs:[\"5680e9\",\"84ceeb\",\"5ab9ea\",\"c1c8e4\",\"8860d0\"]},{cs:[\"17252a\",\"2b7a78\",\"3aafa9\",\"def2f1\",\"feffff\"]},{cs:[\"a64ac9\",\"fccd04\",\"ffb48f\",\"f5e6cc\",\"17e9e0\"]},{cs:[\"f64ec6\",\"f95893\",\"fb5b56\",\"f88944\",\"f3b02b\"]},{cs:[\"69d2e7\",\"a7dbd8\",\"e0e4cc\",\"f38630\",\"fa6900\"]},{cs:[\"ffc300\",\"ff5733\",\"c70039\",\"900c3e\",\"571845\"]},{cs:[\"fcba04\",\"fd8c43\",\"fe5d82\",\"ff2fc1\",\"ff00ff\"]},{cs:[\"14ffdb\",\"2bc0b2\",\"4180c9\",\"5740c0\",\"6d00b7\"]},{cs:[\"1400ff\",\"4f00ff\",\"8a00ff\",\"c500ff\",\"ff00ff\"]},{cs:[\"c1666b\",\"d4b483\",\"e4dfda\",\"48a9a6\",\"140058\"]},{cs:[\"5dfdcb\",\"90d7ff\",\"c9f9ff\",\"bfd0e0\",\"b8b3be\"]},{cs:[\"ffbf00\",\"cf9914\",\"9e7227\",\"6d4c3a\",\"3c254d\"]}],xCenter,yCenter,wmenor,menor,xOff=0,yOff=0,tipo,ixPos,iyPos,ww,wh,qw,qh,qds=[],bg={h:0,s:0,l:0},colorStyle,l_offset=0,l_cycle=4;function fl(d){return Math.floor(d)}function ab(d){return Math.abs(d)}let steps=fl(dcP[10]\/255*61+80),thc=1.03,offSt=10*Math.cbrt(dcP[11]\/255*16-8);ab(offSt)<10&&(offSt=0);let cSi=dcP[16],cOi=dcP[17],speed=4*.5**fl(dcP[18]\/255*5),vel=2**fl(dcP[18]\/255*6+1)+8,going=dcP[19]<190?\"fw\":\"bw\",future=dcP[11]%2?.995:1.005,res=.97,steer=\"Lkd\";cSi<256&&148<=cSi&&(colorStyle=\"Full\",cOi<256&&96<=cOi&&(colorOrder=\"Cycle\"),cOi<96&&0<=cOi&&(colorOrder=\"Random\")),cSi<148&&96<=cSi&&(colorStyle=\"Tritone\",colorOrder=\"Gradient Zebra\"),cSi<96&&12<=cSi&&(colorStyle=\"Duotone\",colorOrder=\"Gradient Zebra\"),cSi<12&&3<=cSi&&(colorStyle=\"Monochrome\",cOi<256&&128<=cOi&&(colorOrder=\"Gradient\",steps=fl(steps\/3),res=.86),cOi<128&&0<=cOi&&(colorOrder=\"Zebra\")),cSi<3&&-1<=cSi&&(colorStyle=\"BW\",cOi<256&&128<=cOi&&(colorOrder=\"Gradient\",steps=fl(steps\/3),res=.86),cOi<128&&0<=cOi&&(colorOrder=\"Zebra\")),\"Gradient\"!=colorOrder&&dcP[19]%5<1&&(res=.9,steps=fl(steps\/2));let palette=palettes[dcP[15]%palettes.length],paletteName=palette.name,avColors=JSON.parse(JSON.stringify(palette.cs)),hexClrs=createCycle(avColors.slice(0)),clrs=hsvPal(hexClrs),ixGrd=dcP[20]%5\/4,iyGrd=dcP[21]%5\/4;steer=dcP[22]%4==3?\"sFr\":steer,steer=dcP[22]%4==2?\"sHr\":steer,steer=dcP[22]%4==1?\"sVr\":steer;let oSteer=steer,pilot=dcP[23]%4?\"manual\":\"auto\";function createCycle(colors){let colorArray=[];for(;0<colors.length;){var hexColor=colors.splice(R.random_int(0,colors.length-1),1);colorArray.push(hexColor[0])}return colorArray}function hsvPal(colors){let colorArray=[];return colors.forEach(hsvColor=>{hsvColor=toHSL(hsvColor);colorArray.push(hsvColor)}),colorArray}function setRandomArray(steps,colors){let allColors=[];let i=0;for(;i<steps;){indx=R.random_int(0,colors.length-1);var thisCycle=createCycle([...colors]);if(allColors[allColors.length-1]!=thisCycle[0])for(let j=0;j<thisCycle.length;j++)allColors.push(thisCycle[j]),allColors.push({h:0,s:0,l:2.25}),i++}return allColors}function setCyclesArray(steps,colors){let allColors=[];let i=0;for(var thisCycle=createCycle(colors.slice(0));i<steps;)for(let j=0;j<thisCycle.length;j++)allColors.push(thisCycle[j]),allColors.push({h:0,s:0,l:2.25}),i++;return allColors}function setHexLerpedArray(steps,a){colorMode(RGB);let allColors=[];var b=createCycle([...a]),a=cSi<12?b[0]:b[1],b=cSi<12?b[2]:b[3],aCol=color(\"#\"+a),bCol=color(\"#\"+b);ab(hue(aCol)-hue(bCol))<60&&colorMode(HSL);for(let j=0;j<steps\/2+1;j++){var pos=PI*(j\/(steps\/2)),pos=ab(sin(pos));eClr=lerpColor(aCol,bCol,pos),allColors.push({h:hue(eClr),s:saturation(eClr),l:lightness(eClr)}),allColors.push({h:0,s:0,l:2.25})}return colorMode(HSL),allColors}function setHexTriLerpedArray(steps,b){colorMode(RGB);let allColors=[];var c=createCycle([...b]),a=c[0],b=c[2],c=c[4],aCol=color(\"#\"+a),bCol=color(\"#\"+b),cCol=color(\"#\"+c);let i=0;for(let j=0;j<fl(steps\/6);j++)eClr=lerpColor(aCol,bCol,ab(i\/fl(steps\/6))),allColors.push({h:hue(eClr),s:saturation(eClr),l:lightness(eClr)}),allColors.push({h:0,s:0,l:2.25}),i++;i=0;for(let j=fl(steps\/6)+1;j<2*fl(steps\/6);j++)eClr=lerpColor(bCol,cCol,ab(i\/fl(steps\/6))),allColors.push({h:hue(eClr),s:saturation(eClr),l:lightness(eClr)}),allColors.push({h:0,s:0,l:2.25}),i++;i=0;for(let j=2*fl(steps\/6)+1;j<3*fl(steps\/6)+10;j++)eClr=lerpColor(cCol,aCol,ab(i\/fl(steps\/6))),allColors.push({h:hue(eClr),s:saturation(eClr),l:lightness(eClr)}),allColors.push({h:0,s:0,l:2.25}),i++;return colorMode(HSL),allColors}function setMonoArray(steps,a){let allColors=[];a=createCycle([...a]),a=40<a[0].s?a[0]:a[1];let aCol=\"BW\"==colorStyle?color(0,0,dcP[2]%2*60+20):color(a.h,a.s,a.l);aCol=\"BW\"==colorStyle&&\"Zebra\"==colorOrder?color(0,0,100):aCol;for(let j=0;j<steps\/2+1;j++)allColors.push({h:hue(aCol),s:saturation(aCol),l:lightness(aCol)}),\"Zebra\"==colorOrder?allColors.push({h:0,s:0,l:2.25}):allColors.push({h:hue(aCol),s:saturation(aCol),l:lightness(aCol)});return allColors}function setZonesArray(steps,colors){let allColors=[];var thisCycle=createCycle([...colors]),zoneWidth=steps\/10;for(let j=0;j<(steps+1)\/2;j++)thisZone=fl(j\/zoneWidth),mod=thisZone%5,allColors.push(thisCycle[mod]),allColors.push({h:0,s:0,l:2.25});return allColors}function setColoresArray(tipo,colorStyle,colorOrder,steps,colors){let allColors=[];return\"Full\"==colorStyle&&(\"Cycle\"==colorOrder&&(allColors=setCyclesArray(steps,[...colors])),\"Zones\"==colorOrder&&(allColors=setZonesArray(steps,[...colors])),\"Random\"==colorOrder&&(allColors=setRandomArray(steps,[...colors]))),\"Tritone\"==colorStyle&&(allColors=setHexTriLerpedArray(steps,[...hexClrs])),\"Duotone\"==colorStyle&&(allColors=setHexLerpedArray(steps,[...hexClrs])),\"Monochrome\"==colorStyle&&(allColors=setMonoArray(steps,[...colors])),\"BW\"==colorStyle&&(allColors=setMonoArray(steps,[...colors])),allColors}steps=10*fl(steps\/10);let colores,fBase;function setup(){noiseSeed(seed),colorMode(HSL),colores=setColoresArray(tipo,colorStyle,colorOrder,steps,[...clrs]),\"Gradient\"==colorOrder&&(future=75<colores[0].l?.9:future,future=colores[0].l<25?1.1:future,future=ab(50-colores[0].l)<25?18*(future-1)+1:future,fBase=future),ww=windowWidth,wh=windowHeight,wmenor=ww<wh?ww:wh,1.5<=ww\/wh?ww\/wh>=16\/9?createCanvas(16*wh\/9,wh):createCanvas(3*wh\/2,wh):ww\/wh<=2\/3?ww\/wh<=9\/16?createCanvas(ww,16*ww\/9):createCanvas(ww,3*ww\/2):createCanvas(wmenor,wmenor),xCenter=width\/2,yCenter=height\/2,menor=width<height?width:height,u=width\/100,v=height\/100,w=menor\/100,qw=width,qh=height;for(let i=0;i<steps+1;i++)qw*=res,qh*=res,qds.push({w:qw,h:qh});ixPos=ixGrd*width,iyPos=iyGrd*height}function draw(){var lax,lay;clrs[0];\"Gradient\"!=colorOrder?(frameCount%vel==0&&(\"fw\"==going?colores.push(colores.shift()):colores.unshift(colores.pop())),background(0,0,5)):(lax=colores[0],lay=future<1?2:98,background(lax.h,lax.s,lay)),l_offset=fl(frameCount*speed)%steps,l_cycle=steps,l_cycle=steps%2==0?steps\/2:l_cycle,l_cycle=steps%3==0?steps\/3:l_cycle,l_cycle=steps%5==0?steps\/5:l_cycle,l_cycle=steps%7==0?steps\/7:l_cycle,99<steps&&(l_cycle=steps%10==0?steps\/10:l_cycle),\"manual\"==pilot&&(lax=lerp(ixPos,mouseX,.02),lay=lerp(iyPos,mouseY,.02),\"sFr\"==steer&&(ixPos=lax,iyPos=lay),\"sVr\"==steer&&(iyPos=lay),\"sHr\"==steer&&(ixPos=lax));for(let s=steps-1;0<=s;s--){noStroke();var clr=colores[s];fill(clr.h,clr.s,clr.l);let wp=qds[s].w,hp=qds[s].h;var off=frameCount%vel\/vel,g1=\"fw\"==going?11:9,fin=\"fw\"==going?-1:1,l=1<future?-1:1,st=(1+l)\/2*100+1,gl=100-(1+l)\/2*99,l=clr.l*(2-future)**(s-10),g1=clr.l*(2-future)**(s-g1),l=lerp(l,g1,off),g1=suav(s,-5,steps,st,gl,1,2),gl=suav(s+fin,-5,steps,st,gl,1,2),gl=lerp(g1,gl,off);\"Gradient\"==colorOrder?(s,fill(clr.h,clr.s,gl)):s==steps-1?fill(clr.h,clr.s,clr.l,off\/2):s<10?fill(clr.h,clr.s,clr.l):fill(clr.h,clr.s,l),hp=0<s?(wp=lerp(wp,qds[s+fin].w,off),lerp(hp,qds[s+fin].h,off)):\"fw\"==going?(wp=lerp(wp,width,off),lerp(hp,height,off)):(wp=lerp(width,qds[s+fin].w,off),lerp(height,qds[s+fin].h,off)),\"auto\"==pilot&&(\"sFr\"==steer&&(ixPos=noise(xOff)*width,iyPos=noise(xOff+1e4)*width),\"sVr\"==steer&&(iyPos=noise(xOff+1e4)*width),\"sHr\"==steer&&(ixPos=noise(xOff)*width)),s<2?marco(xCenter,yCenter,wp,hp):(fin=steps**2,off=\"fw\"==going?s**2+((s-1)**2-s**2)*off:s**2+((s-1)**2-s**2)*(1-off),xPos=map(off,0,fin,xCenter,ixPos),yPos=map(off,0,fin,yCenter,iyPos),marco(xPos,yPos,wp,hp))}xOff+=.001}function marco(cx,cy,qw,qh){beginShape(),vertex(0,0),vertex(width,0),vertex(width,height),vertex(0,height),beginContour(),vertex(cx-qw\/2,cy-qh\/2),vertex(cx-qw\/2,cy+qh\/2),vertex(cx+qw\/2,cy+qh\/2),vertex(cx+qw\/2,cy-qh\/2),endContour(),endShape(CLOSE)}function toHSL(min){var l=\/^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$\/i.exec(min),r=parseInt(l[1],16),g=parseInt(l[2],16),b=parseInt(l[3],16);r\/=255,g\/=255,b\/=255;var h,max=Math.max(r,g,b),min=Math.min(r,g,b),l=(max+min)\/2;if(max==min)h=s=0;else{var d=max-min,s=.5<l?d\/(2-max-min):d\/(max+min);switch(max){case r:h=(g-b)\/d+(g<b?6:0);break;case g:h=(b-r)\/d+2;break;case b:h=(r-g)\/d+4}h\/=6}return{h:h=Math.round(360*h),s:s=Math.round(100*s),l:l=Math.round(100*l)}}function keyPressed(){keyCode!=DOWN_ARROW&&keyCode!=UP_ARROW||loop(),\" \"==key&&noLoop(),\"u\"==key&&\"Lkd\"!=oSteer&&(steer=oSteer),\"l\"==key&&\"Lkd\"!=oSteer&&(steer=\"Lkd\"),\"s\"===key&&save(tokenData.hash)}function suav(value,start1,stop1,start2,c){c-=start2;let t=value-start1;return t\/=(stop1-start1)\/2,t<1?c\/2*t*t+start2:(t--,-c\/2*(t*(t-2)-1)+start2)}\n"
}